var bP=Object.create;var Vo=Object.defineProperty;var EP=Object.getOwnPropertyDescriptor;var wP=Object.getOwnPropertyNames;var _P=Object.getPrototypeOf,SP=Object.prototype.hasOwnProperty;var PP=r=>Vo(r,"__esModule",{value:!0});var E=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var $P=(r,e,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of wP(e))!SP.call(r,n)&&n!=="default"&&Vo(r,n,{get:()=>e[n],enumerable:!(t=EP(e,n))||t.enumerable});return r},RP=r=>$P(PP(Vo(r!=null?bP(_P(r)):{},"default",r&&r.__esModule&&"default"in r?{get:()=>r.default,enumerable:!0}:{value:r,enumerable:!0})),r);var Ah=E((kM,Ch)=>{"use strict";function OP(r){var e=new r,t=e;function n(){var i=e;return i.next?e=i.next:(e=new r,t=e),i.next=null,i}function s(i){t.next=i,t=i}return{get:n,release:s}}Ch.exports=OP});var Uo=E((DM,zo)=>{"use strict";var TP=Ah();function Nh(r,e,t){if(typeof r=="function"&&(t=e,e=r,r=null),t<1)throw new Error("fastqueue concurrency must be greater than 1");var n=TP(IP),s=null,i=null,a=0,o=null,c={push:m,drain:Sr,saturated:Sr,pause:u,paused:!1,concurrency:t,running:d,resume:l,idle:v,length:h,getQueue:f,unshift:p,empty:Sr,kill:S,killAndDrain:$,error:w};return c;function d(){return a}function u(){c.paused=!0}function h(){for(var g=s,O=0;g;)g=g.next,O++;return O}function f(){for(var g=s,O=[];g;)O.push(g.value),g=g.next;return O}function l(){if(!!c.paused){c.paused=!1;for(var g=0;g<c.concurrency;g++)a++,y()}}function v(){return a===0&&c.length()===0}function m(g,O){var R=n.get();R.context=r,R.release=y,R.value=g,R.callback=O||Sr,R.errorHandler=o,a===c.concurrency||c.paused?i?(i.next=R,i=R):(s=R,i=R,c.saturated()):(a++,e.call(r,R.value,R.worked))}function p(g,O){var R=n.get();R.context=r,R.release=y,R.value=g,R.callback=O||Sr,a===c.concurrency||c.paused?s?(R.next=s,s=R):(s=R,i=R,c.saturated()):(a++,e.call(r,R.value,R.worked))}function y(g){g&&n.release(g);var O=s;O?c.paused?a--:(i===s&&(i=null),s=O.next,O.next=null,e.call(r,O.value,O.worked),i===null&&c.empty()):--a==0&&c.drain()}function S(){s=null,i=null,c.drain=Sr}function $(){s=null,i=null,c.drain(),c.drain=Sr}function w(g){o=g}}function Sr(){}function IP(){this.value=null,this.callback=Sr,this.next=null,this.release=Sr,this.context=null,this.errorHandler=null;var r=this;this.worked=function(t,n){var s=r.callback,i=r.errorHandler,a=r.value;r.value=null,r.callback=Sr,r.errorHandler&&i(t,a),s.call(r.context,t,n),r.release(r)}}function CP(r,e,t){typeof r=="function"&&(t=e,e=r,r=null);function n(u,h){e.call(this,u).then(function(f){h(null,f)},h)}var s=Nh(r,n,t),i=s.push,a=s.unshift;return s.push=o,s.unshift=c,s.drained=d,s;function o(u){var h=new Promise(function(f,l){i(u,function(v,m){if(v){l(v);return}f(m)})});return h.catch(Sr),h}function c(u){var h=new Promise(function(f,l){a(u,function(v,m){if(v){l(v);return}f(m)})});return h.catch(Sr),h}function d(){var u=s.drain,h=new Promise(function(f){s.drain=function(){u(),f()}});return h}}zo.exports=Nh;zo.exports.promise=CP});var jh=E((LM,qh)=>{qh.exports=function r(e,t,n){t===void 0&&(t=""),n||(n={});var s=function(c){var d={"\u2502":"|","\u2514":"`","\u251C":"+","\u2500":"-","\u252C":"-"};return n.unicode===!1?d[c]:c};typeof e=="string"&&(e={label:e});var i=e.nodes||[],a=(e.label||"").split(`
`),o=`
`+t+(i.length?s("\u2502"):" ")+" ";return t+a.join(o)+`
`+i.map(function(c,d){var u=d===i.length-1,h=c.nodes&&c.nodes.length,f=t+(u?" ":s("\u2502"))+" ";return t+s(u?"\u2514":"\u251C")+s("\u2500")+s(h?"\u252C":"\u2500")+" "+r(c,f,n).slice(t.length+2)}).join("")}});var kh=E((FM,xh)=>{"use strict";var AP=jh();function Ur(){this.root=null,this.tableId=new Map,this.tableLabel=new Map}Ur.prototype.trackNode=function(r){this.tableId.set(r.id,r),this.tableLabel.has(r.label)?this.tableLabel.get(r.label).push(r):this.tableLabel.set(r.label,[r])};Ur.prototype.untrackNode=function(r){this.tableId.delete(r.id);let e=this.tableLabel.get(r.label);if(e.id){this.tableLabel.delete(r.label);return}e.pop(),e.length===0&&this.tableLabel.delete(r.label)};Ur.prototype.getParent=function(r){if(r===null)return this.root;let e=this.tableLabel.get(r);return e.id?e:e[e.length-1]};Ur.prototype.getNode=function(r){return this.tableId.get(r)};Ur.prototype.add=function(r,e,t){if(r===null)return this.root={id:"root",label:e,start:t,nodes:[]},this.trackNode(this.root),this.root.id;let s=this.getParent(r),i=`${e}-${Math.random()}`,a={id:i,parent:r,start:t,label:e,nodes:[]};return s.nodes.push(a),this.trackNode(a),i};Ur.prototype.start=function(r,e,t){return this.add(r,e,t||Date.now())};Ur.prototype.stop=function(r,e){let t=this.getNode(r);t&&(t.stop=e||Date.now(),t.diff=t.stop-t.start||0,this.untrackNode(t))};Ur.prototype.toJSON=function(){return Object.assign({},this.root)};Ur.prototype.prittyPrint=function(){let r=t=>(t.label=`${t.label} ${t.diff} ms`,t.nodes.length>0&&(t.nodes=t.nodes.map(n=>r(n))),t),e=r(this.toJSON());return AP(e)};xh.exports=Ur});var Fh=E((MM,Lh)=>{var Dh;Lh.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window!="undefined"?window:global):r=>(Dh||(Dh=Promise.resolve())).then(r).catch(e=>setTimeout(()=>{throw e},0))});var Hh=E((HM,Mh)=>{var Es=1e3,ws=Es*60,_s=ws*60,Ht=_s*24,NP=Ht*7,qP=Ht*365.25;Mh.exports=function(r,e){e=e||{};var t=typeof r;if(t==="string"&&r.length>0)return jP(r);if(t==="number"&&isFinite(r))return e.long?kP(r):xP(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function jP(r){if(r=String(r),!(r.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(r);if(!!e){var t=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return t*qP;case"weeks":case"week":case"w":return t*NP;case"days":case"day":case"d":return t*Ht;case"hours":case"hour":case"hrs":case"hr":case"h":return t*_s;case"minutes":case"minute":case"mins":case"min":case"m":return t*ws;case"seconds":case"second":case"secs":case"sec":case"s":return t*Es;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function xP(r){var e=Math.abs(r);return e>=Ht?Math.round(r/Ht)+"d":e>=_s?Math.round(r/_s)+"h":e>=ws?Math.round(r/ws)+"m":e>=Es?Math.round(r/Es)+"s":r+"ms"}function kP(r){var e=Math.abs(r);return e>=Ht?Ti(r,e,Ht,"day"):e>=_s?Ti(r,e,_s,"hour"):e>=ws?Ti(r,e,ws,"minute"):e>=Es?Ti(r,e,Es,"second"):r+" ms"}function Ti(r,e,t,n){var s=e>=t*1.5;return Math.round(r/t)+" "+n+(s?"s":"")}});var Bo=E((VM,Vh)=>{function DP(r){t.debug=t,t.default=t,t.coerce=c,t.disable=i,t.enable=s,t.enabled=a,t.humanize=Hh(),t.destroy=d,Object.keys(r).forEach(u=>{t[u]=r[u]}),t.names=[],t.skips=[],t.formatters={};function e(u){let h=0;for(let f=0;f<u.length;f++)h=(h<<5)-h+u.charCodeAt(f),h|=0;return t.colors[Math.abs(h)%t.colors.length]}t.selectColor=e;function t(u){let h,f=null,l,v;function m(...p){if(!m.enabled)return;let y=m,S=Number(new Date),$=S-(h||S);y.diff=$,y.prev=h,y.curr=S,h=S,p[0]=t.coerce(p[0]),typeof p[0]!="string"&&p.unshift("%O");let w=0;p[0]=p[0].replace(/%([a-zA-Z%])/g,(O,R)=>{if(O==="%%")return"%";w++;let D=t.formatters[R];if(typeof D=="function"){let A=p[w];O=D.call(y,A),p.splice(w,1),w--}return O}),t.formatArgs.call(y,p),(y.log||t.log).apply(y,p)}return m.namespace=u,m.useColors=t.useColors(),m.color=t.selectColor(u),m.extend=n,m.destroy=t.destroy,Object.defineProperty(m,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(l!==t.namespaces&&(l=t.namespaces,v=t.enabled(u)),v),set:p=>{f=p}}),typeof t.init=="function"&&t.init(m),m}function n(u,h){let f=t(this.namespace+(typeof h=="undefined"?":":h)+u);return f.log=this.log,f}function s(u){t.save(u),t.namespaces=u,t.names=[],t.skips=[];let h,f=(typeof u=="string"?u:"").split(/[\s,]+/),l=f.length;for(h=0;h<l;h++)!f[h]||(u=f[h].replace(/\*/g,".*?"),u[0]==="-"?t.skips.push(new RegExp("^"+u.substr(1)+"$")):t.names.push(new RegExp("^"+u+"$")))}function i(){let u=[...t.names.map(o),...t.skips.map(o).map(h=>"-"+h)].join(",");return t.enable(""),u}function a(u){if(u[u.length-1]==="*")return!0;let h,f;for(h=0,f=t.skips.length;h<f;h++)if(t.skips[h].test(u))return!1;for(h=0,f=t.names.length;h<f;h++)if(t.names[h].test(u))return!0;return!1}function o(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function c(u){return u instanceof Error?u.stack||u.message:u}function d(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}Vh.exports=DP});var zh=E((gr,Ii)=>{gr.formatArgs=FP;gr.save=MP;gr.load=HP;gr.useColors=LP;gr.storage=VP();gr.destroy=(()=>{let r=!1;return()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();gr.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function LP(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function FP(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+Ii.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;r.splice(1,0,e,"color: inherit");let t=0,n=0;r[0].replace(/%[a-zA-Z%]/g,s=>{s!=="%%"&&(t++,s==="%c"&&(n=t))}),r.splice(n,0,e)}gr.log=console.debug||console.log||(()=>{});function MP(r){try{r?gr.storage.setItem("debug",r):gr.storage.removeItem("debug")}catch{}}function HP(){let r;try{r=gr.storage.getItem("debug")}catch{}return!r&&typeof process!="undefined"&&"env"in process&&(r=process.env.DEBUG),r}function VP(){try{return localStorage}catch{}}Ii.exports=Bo()(gr);var{formatters:zP}=Ii.exports;zP.j=function(r){try{return JSON.stringify(r)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var Bh=E((zM,Uh)=>{"use strict";Uh.exports=(r,e)=>{e=e||process.argv;let t=r.startsWith("-")?"":r.length===1?"-":"--",n=e.indexOf(t+r),s=e.indexOf("--");return n!==-1&&(s===-1?!0:n<s)}});var Kh=E((UM,Gh)=>{"use strict";var UP=require("os"),jr=Bh(),Ze=process.env,Ss;jr("no-color")||jr("no-colors")||jr("color=false")?Ss=!1:(jr("color")||jr("colors")||jr("color=true")||jr("color=always"))&&(Ss=!0);"FORCE_COLOR"in Ze&&(Ss=Ze.FORCE_COLOR.length===0||parseInt(Ze.FORCE_COLOR,10)!==0);function BP(r){return r===0?!1:{level:r,hasBasic:!0,has256:r>=2,has16m:r>=3}}function GP(r){if(Ss===!1)return 0;if(jr("color=16m")||jr("color=full")||jr("color=truecolor"))return 3;if(jr("color=256"))return 2;if(r&&!r.isTTY&&Ss!==!0)return 0;let e=Ss?1:0;if(process.platform==="win32"){let t=UP.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(t[0])>=10&&Number(t[2])>=10586?Number(t[2])>=14931?3:2:1}if("CI"in Ze)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(t=>t in Ze)||Ze.CI_NAME==="codeship"?1:e;if("TEAMCITY_VERSION"in Ze)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Ze.TEAMCITY_VERSION)?1:0;if(Ze.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Ze){let t=parseInt((Ze.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Ze.TERM_PROGRAM){case"iTerm.app":return t>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Ze.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Ze.TERM)||"COLORTERM"in Ze?1:(Ze.TERM==="dumb",e)}function Go(r){let e=GP(r);return BP(e)}Gh.exports={supportsColor:Go,stdout:Go(process.stdout),stderr:Go(process.stderr)}});var Qh=E((Be,Ai)=>{var KP=require("tty"),Ci=require("util");Be.init=e$;Be.log=WP;Be.formatArgs=QP;Be.save=XP;Be.load=ZP;Be.useColors=JP;Be.destroy=Ci.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Be.colors=[6,2,3,4,5,1];try{let r=Kh();r&&(r.stderr||r).level>=2&&(Be.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Be.inspectOpts=Object.keys(process.env).filter(r=>/^debug_/i.test(r)).reduce((r,e)=>{let t=e.substring(6).toLowerCase().replace(/_([a-z])/g,(s,i)=>i.toUpperCase()),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),r[t]=n,r},{});function JP(){return"colors"in Be.inspectOpts?Boolean(Be.inspectOpts.colors):KP.isatty(process.stderr.fd)}function QP(r){let{namespace:e,useColors:t}=this;if(t){let n=this.color,s="[3"+(n<8?n:"8;5;"+n),i=`  ${s};1m${e} [0m`;r[0]=i+r[0].split(`
`).join(`
`+i),r.push(s+"m+"+Ai.exports.humanize(this.diff)+"[0m")}else r[0]=YP()+e+" "+r[0]}function YP(){return Be.inspectOpts.hideDate?"":new Date().toISOString()+" "}function WP(...r){return process.stderr.write(Ci.format(...r)+`
`)}function XP(r){r?process.env.DEBUG=r:delete process.env.DEBUG}function ZP(){return process.env.DEBUG}function e$(r){r.inspectOpts={};let e=Object.keys(Be.inspectOpts);for(let t=0;t<e.length;t++)r.inspectOpts[e[t]]=Be.inspectOpts[e[t]]}Ai.exports=Bo()(Be);var{formatters:Jh}=Ai.exports;Jh.o=function(r){return this.inspectOpts.colors=this.useColors,Ci.inspect(r,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};Jh.O=function(r){return this.inspectOpts.colors=this.useColors,Ci.inspect(r,this.inspectOpts)}});var Jo=E((BM,Ko)=>{typeof process=="undefined"||process.type==="renderer"||process.browser===!0||process.__nwjs?Ko.exports=zh():Ko.exports=Qh()});var Wh=E((GM,Wo)=>{"use strict";var Qo=Fh(),r$=Uo(),t$=require("events").EventEmitter,s$=require("util").inherits,Me=Jo()("avvio"),Yh="ERR_AVVIO_PLUGIN_TIMEOUT";function n$(r){let e=require.cache,t=Object.keys(e);for(var n=0;n<t.length;n++)if(e[t[n]].exports===r)return t[n];return r.name?r.name:r.toString().split(`
`).slice(0,2).map(s=>s.trim()).join(" -- ")}function i$(){let r={};return r.promise=new Promise((e,t)=>{r.resolve=e,r.reject=t}),r}function Ps(r,e,t,n,s){this.started=!1,this.func=e,this.opts=t,this.onFinish=null,this.parent=r,this.timeout=s===void 0?r._timeout:s,this.name=n$(e),this.isAfter=n,this.q=r$(r,Yo,1),this.q.pause(),this._error=null,this.loaded=!1,this._promise=null}s$(Ps,t$);Ps.prototype.exec=function(r,e){let t=this.func,n=!1,s=this.name;if(this.parent._error&&!this.isAfter){Me("skipping loading of plugin as parent errored and it is not an after",s),process.nextTick(e);return}if(this.isAfter)this.server=r;else try{this.server=this.parent.override(r,t,this.opts)}catch(c){return Me("override errored",s),e(c)}this.opts=typeof this.opts=="function"?this.opts(this.server):this.opts,Me("exec",s);let i,a=c=>{if(n){Me("loading complete",s);return}this._error=c,Me(c?"exec errored":"exec completed",s),n=!0,i&&clearTimeout(i),e(c)};this.timeout>0&&(Me("setting up timeout",s,this.timeout),i=setTimeout(function(){Me("timed out",s),i=null;let c=new Error(`${Yh}: plugin did not start in time: ${s}. You may have forgotten to call 'done' function or to resolve a Promise`);c.code=Yh,c.fn=t,a(c)},this.timeout)),this.started=!0,this.emit("start",this.server?this.server.name:null,this.name,Date.now());let o=t(this.server,this.opts,a);o&&typeof o.then=="function"&&(Me("exec: resolving promise",s),o.then(()=>process.nextTick(a),c=>process.nextTick(a,c)))};Ps.prototype.loadedSoFar=function(){if(this.loaded)return Promise.resolve();let r=()=>{this.server.after((t,n)=>{this._error=t,this.q.pause(),t?(Me("rejecting promise",this.name,t),this._promise.reject(t)):(Me("resolving promise",this.name),this._promise.resolve()),this._promise=null,process.nextTick(n,t)}),this.q.resume()},e;return this._promise?e=Promise.resolve():(this._promise=i$(),e=this._promise.promise,this.server?r():this.on("start",r)),e};Ps.prototype.enqueue=function(r,e){Me("enqueue",this.name,r.name),this.emit("enqueue",this.server?this.server.name:null,this.name,Date.now()),this.q.push(r,e)};Ps.prototype.finish=function(r,e){Me("finish",this.name,r);let t=()=>{this.loaded||(Me("loaded",this.name),this.emit("loaded",this.server?this.server.name:null,this.name,Date.now()),this.loaded=!0,e(r))};if(r){this._promise&&(this._promise.reject(r),this._promise=null),t();return}let n=()=>{if(Me("check",this.name,this.q.length(),this.q.running(),this._promise),this.q.length()===0&&this.q.running()===0)if(this._promise){let s=()=>{Me("wrap"),Qo(n)};this._promise.resolve(),this._promise.promise.then(s,s),this._promise=null}else t();else Me("delayed",this.name),this.q.drain=()=>{Me("drain",this.name),this.q.drain=a$,Qo(n)}};Qo(n),this.q.resume()};function Yo(r,e){if(typeof r.func.then=="function"){r.func.then(n=>{typeof n.default=="function"&&(n=n.default),r.func=n,Yo.call(this,r,e)},e);return}let t=this._current[0];this._current.unshift(r),r.exec(t&&t.server||this._server,n=>{r.finish(n,s=>{this._current.shift(),e(s)})})}function a$(){}Wo.exports=Ps;Wo.exports.loadPlugin=Yo});var td=E((KM,rl)=>{"use strict";var Xh=Uo(),o$=require("events").EventEmitter,l$=require("util").inherits,u$=kh(),Xo=Wh(),$s=Jo()("avvio"),Ni=Symbol("kAvvio"),Zo=Symbol("kThenifyDoNotWrap");function c$(r,e,t){let n=e.expose||{},s=n.use||"use",i=n.after||"after",a=n.ready||"ready",o=n.onClose||"onClose",c=n.close||"close";if(r[s])throw new Error(s+"() is already defined, specify an expose option");if(r[i])throw new Error(i+"() is already defined, specify an expose option");if(r[a])throw new Error(a+"() is already defined, specify an expose option");r[s]=function(d,u){return t.use(d,u),this},Object.defineProperty(r,"then",{get:ed.bind(t)}),r[Ni]=!0,r[i]=function(d){return typeof d!="function"?t._loadRegistered():(t.after(el(d,this)),this)},r[a]=function(d){if(d&&typeof d!="function")throw new Error("not a function");return t.ready(d?el(d,this):void 0)},r[o]=function(d){if(typeof d!="function")throw new Error("not a function");return t.onClose(m$(d,this)),this},r[c]=function(d){if(d&&typeof d!="function")throw new Error("not a function");return d?(t.close(el(d,this)),this):t.close()}}function He(r,e,t){if(typeof r=="function"&&arguments.length===1&&(t=r,e={},r=null),typeof e=="function"&&(t=e,e={}),e=e||{},!(this instanceof He)){let n=new He(r,e,t);return r&&c$(r,e,n),n}e.autostart!==!1&&(e.autostart=!0),r=r||this,this._timeout=Number(e.timeout)||0,this._server=r,this._current=[],this._error=null,this._isOnCloseHandlerKey=Symbol("isOnCloseHandler"),this._lastUsed=null,this.setMaxListeners(0),t&&this.once("start",t),this.started=!1,this.booted=!1,this.pluginTree=new u$,this._readyQ=Xh(this,rd,1),this._readyQ.pause(),this._readyQ.drain=()=>{this.emit("start"),this._readyQ.drain=Zh},this._closeQ=Xh(this,p$,1),this._closeQ.pause(),this._closeQ.drain=()=>{this.emit("close"),this._closeQ.drain=Zh},this._doStart=null,this._root=new Xo(this,f$.bind(this),e,!1,0),this._root.once("start",(n,s,i)=>{let a=this.pluginTree.start(null,s,i);this._root.once("loaded",(o,c,d)=>{this.pluginTree.stop(a,d)})}),Xo.loadPlugin.call(this,this._root,n=>{$s("root plugin ready");try{this.emit("preReady"),this._root=null}catch(s){n=n||this._error||s}if(n){if(this._error=n,this._readyQ.length()===0)throw n}else this.booted=!0;this._readyQ.resume()})}function f$(r,e,t){this._doStart=t,e.autostart&&this.start()}l$(He,o$);He.prototype.start=function(){return this.started=!0,process.nextTick(this._doStart),this};He.prototype.override=function(r,e,t){return r};function h$(r){if(r&&typeof r=="object"&&typeof r.default=="function"&&(r=r.default),!(r&&(typeof r=="function"||typeof r.then=="function")))throw new Error("plugin must be a function or a promise");return r}He.prototype[Ni]=!0;He.prototype.use=function(r,e){return this._lastUsed=this._addPlugin(r,e,!1),this};He.prototype._loadRegistered=function(){let r=this._current[0];return!this.started&&!this.booted&&process.nextTick(()=>this._root.q.resume()),r?r.loadedSoFar():Promise.resolve()};Object.defineProperty(He.prototype,"then",{get:ed});He.prototype._addPlugin=function(r,e,t){if(r=h$(r),e=e||{},this.booted)throw new Error("root plugin has already booted");let n=this._current[0],s=new Xo(this,r,e,t);if(s.once("start",(i,a,o)=>{let c=this.pluginTree.start(n.name,a,o);s.once("loaded",(d,u,h)=>{this.pluginTree.stop(c,h)})}),n.loaded)throw new Error(`Impossible to load "${s.name}" plugin because the parent "${n.name}" was already loaded`);return n.enqueue(s,i=>{i&&(this._error=i)}),s};He.prototype.after=function(r){if(!r)return this._loadRegistered();this._addPlugin(e.bind(this),{},!0);function e(t,n,s){rd.call(this,r,s)}return this};He.prototype.onClose=function(r){if(typeof r!="function")throw new Error("not a function");r[this._isOnCloseHandlerKey]=!0,this._closeQ.unshift(r,e.bind(this));function e(t){t&&(this._error=t)}return this};He.prototype.close=function(r){let e;if(r){if(typeof r!="function")throw new Error("not a function")}else e=new Promise(function(t,n){r=function(s){if(s)return n(s);t()}});return this.ready(()=>{this._error=null,this._closeQ.push(r),process.nextTick(this._closeQ.resume.bind(this._closeQ))}),e};He.prototype.ready=function(r){if(r){if(typeof r!="function")throw new Error("not a function");this._readyQ.push(r),this.start();return}return new Promise((e,t)=>{this._readyQ.push(s),this.start();let n=this._current[0].server;function s(i,a,o){i?t(i):e(n),process.nextTick(o)}})};He.prototype.prettyPrint=function(){return this.pluginTree.prittyPrint()};He.prototype.toJSON=function(){return this.pluginTree.toJSON()};function Zh(){}function ed(){if(this.booted){$s("thenify returning null because we are already booted");return}if(this[Zo]){this[Zo]=!1;return}return $s("thenify"),(r,e)=>this._loadRegistered().then(()=>(this[Zo]=!0,r(this._server)),e)}function rd(r,e,t){t=this._server;let n=this._error,s;this._error=null,r.length===0?(this._error=n,s=r(),s&&!s[Ni]&&typeof s.then=="function"?s.then(()=>process.nextTick(e),i=>process.nextTick(e,i)):process.nextTick(e)):r.length===1?(s=r(n),s&&!s[Ni]&&typeof s.then=="function"?s.then(()=>process.nextTick(e),i=>process.nextTick(e,i)):process.nextTick(e)):this._timeout===0?r.length===2?r(n,e):r(n,t,e):d$.call(this,r,n,t,e)}function d$(r,e,t,n){let s=r.name;$s("setting up ready timeout",s,this._timeout);let i=setTimeout(()=>{$s("timed out",s),i=null;let o=new Error(`ERR_AVVIO_READY_TIMEOUT: plugin did not start in time: ${s}. You may have forgotten to call 'done' function or to resolve a Promise`);o.code="ERR_AVVIO_READY_TIMEOUT",o.fn=r,this._error=o,n(o)},this._timeout);r.length===2?r(e,a.bind(this)):r(e,t,a.bind(this));function a(o){i&&(clearTimeout(i),this._error=o,n(this._error))}}function p$(r,e,t){t=this._server;let n=r[this._isOnCloseHandlerKey];if(r.length===0||r.length===1){let s;n?s=r(t):s=r(this._error),s&&typeof s.then=="function"?($s("resolving close/onClose promise"),s.then(()=>process.nextTick(e),i=>process.nextTick(e,i))):process.nextTick(e)}else r.length===2?r(n?t:this._error,e):n?r(t,e):r(this._error,t,e)}function m$(r,e){return t.bind(e);function t(n,s){let i;r.length===0?(i=r(),i&&i.then?i.then(function(){process.nextTick(s)},s):process.nextTick(s)):r.length===1?(i=r(this),i&&i.then?i.then(function(){process.nextTick(s)},s):process.nextTick(s)):r(this,s)}}function el(r,e){return t.bind(e);function t(n,s){let i;r?r.length===0?(i=r(),i&&i.then?i.then(function(){process.nextTick(s,n)},s):process.nextTick(s,n)):r.length===1?(i=r(n),i&&i.then?i.then(function(){process.nextTick(s)},s):process.nextTick(s)):r.length===2?r(n,s):r(n,this,s):process.nextTick(s)}}rl.exports=He;rl.exports.express=function(r){return He(r,{expose:{use:"load"}})}});var er=E((JM,sd)=>{"use strict";var v$={kAvvioBoot:Symbol("fastify.avvioBoot"),kChildren:Symbol("fastify.children"),kBodyLimit:Symbol("fastify.bodyLimit"),kRoutePrefix:Symbol("fastify.routePrefix"),kLogLevel:Symbol("fastify.logLevel"),kLogSerializers:Symbol("fastify.logSerializers"),kHooks:Symbol("fastify.hooks"),kHooksDeprecatedPreParsing:Symbol("fastify.hooks.DeprecatedPreParsing"),kSchemaController:Symbol("fastify.schemaController"),kSchemaHeaders:Symbol("headers-schema"),kSchemaParams:Symbol("params-schema"),kSchemaQuerystring:Symbol("querystring-schema"),kSchemaBody:Symbol("body-schema"),kSchemaResponse:Symbol("response-schema"),kSchemaErrorFormatter:Symbol("fastify.schemaErrorFormatter"),kReplySerializerDefault:Symbol("fastify.replySerializerDefault"),kContentTypeParser:Symbol("fastify.contentTypeParser"),kReply:Symbol("fastify.Reply"),kRequest:Symbol("fastify.Request"),kRequestPayloadStream:Symbol("fastify.RequestPayloadStream"),kCanSetNotFoundHandler:Symbol("fastify.canSetNotFoundHandler"),kFourOhFour:Symbol("fastify.404"),kFourOhFourLevelInstance:Symbol("fastify.404LogLevelInstance"),kFourOhFourContext:Symbol("fastify.404ContextKey"),kDefaultJsonParse:Symbol("fastify.defaultJSONParse"),kReplySerializer:Symbol("fastify.reply.serializer"),kReplyIsError:Symbol("fastify.reply.isError"),kReplyHeaders:Symbol("fastify.reply.headers"),kReplyHasStatusCode:Symbol("fastify.reply.hasStatusCode"),kReplySent:Symbol("fastify.reply.sent"),kReplySentOverwritten:Symbol("fastify.reply.sentOverwritten"),kReplyStartTime:Symbol("fastify.reply.startTime"),kReplyErrorHandlerCalled:Symbol("fastify.reply.errorHandlerCalled"),kReplyIsRunningOnErrorHook:Symbol("fastify.reply.isRunningOnErrorHook"),kSchemaVisited:Symbol("fastify.schemas.visited"),kState:Symbol("fastify.state"),kOptions:Symbol("fastify.options"),kDisableRequestLogging:Symbol("fastify.disableRequestLogging"),kPluginNameChain:Symbol("fastify.pluginNameChain"),kTestInternals:Symbol("fastify.testInternals"),kErrorHandler:Symbol("fastify.errorHandler")};sd.exports=v$});var id=E((QM,nd)=>{"use strict";var{inherits:y$,format:tl}=require("util");function g$(r,e,t=500,n=Error){if(!r)throw new Error("Fastify error code must not be empty");if(!e)throw new Error("Fastify error message must not be empty");r=r.toUpperCase();function s(i,a,o){if(!(this instanceof s))return new s(i,a,o);Error.captureStackTrace(this,s),this.name="FastifyError",this.code=r,i&&a&&o?this.message=tl(e,i,a,o):i&&a?this.message=tl(e,i,a):i?this.message=tl(e,i):this.message=e,this.statusCode=t||void 0}return s.prototype[Symbol.toStringTag]="Error",s.prototype.toString=function(){return`${this.name} [${this.code}]: ${this.message}`},y$(s,n),s}nd.exports=g$});var br=E((YM,ad)=>{"use strict";var ae=id(),b$={FST_ERR_NOT_FOUND:ae("FST_ERR_NOT_FOUND","Not Found",404),FST_ERR_CTP_ALREADY_PRESENT:ae("FST_ERR_CTP_ALREADY_PRESENT","Content type parser '%s' already present."),FST_ERR_CTP_INVALID_TYPE:ae("FST_ERR_CTP_INVALID_TYPE","The content type should be a string or a RegExp",500,TypeError),FST_ERR_CTP_EMPTY_TYPE:ae("FST_ERR_CTP_EMPTY_TYPE","The content type cannot be an empty string",500,TypeError),FST_ERR_CTP_INVALID_HANDLER:ae("FST_ERR_CTP_INVALID_HANDLER","The content type handler should be a function",500,TypeError),FST_ERR_CTP_INVALID_PARSE_TYPE:ae("FST_ERR_CTP_INVALID_PARSE_TYPE","The body parser can only parse your data as 'string' or 'buffer', you asked '%s' which is not supported.",500,TypeError),FST_ERR_CTP_BODY_TOO_LARGE:ae("FST_ERR_CTP_BODY_TOO_LARGE","Request body is too large",413,RangeError),FST_ERR_CTP_INVALID_MEDIA_TYPE:ae("FST_ERR_CTP_INVALID_MEDIA_TYPE","Unsupported Media Type: %s",415),FST_ERR_CTP_INVALID_CONTENT_LENGTH:ae("FST_ERR_CTP_INVALID_CONTENT_LENGTH","Request body size did not match Content-Length",400,RangeError),FST_ERR_CTP_EMPTY_JSON_BODY:ae("FST_ERR_CTP_EMPTY_JSON_BODY","Body cannot be empty when content-type is set to 'application/json'",400),FST_ERR_DEC_ALREADY_PRESENT:ae("FST_ERR_DEC_ALREADY_PRESENT","The decorator '%s' has already been added!"),FST_ERR_DEC_DEPENDENCY_INVALID_TYPE:ae("FST_ERR_DEC_DEPENDENCY_INVALID_TYPE","The dependencies of decorator '%s' must be of type Array."),FST_ERR_DEC_MISSING_DEPENDENCY:ae("FST_ERR_DEC_MISSING_DEPENDENCY","The decorator is missing dependency '%s'."),FST_ERR_DEC_AFTER_START:ae("FST_ERR_DEC_AFTER_START","The decorator '%s' has been added after start!"),FST_ERR_HOOK_INVALID_TYPE:ae("FST_ERR_HOOK_INVALID_TYPE","The hook name must be a string",500,TypeError),FST_ERR_HOOK_INVALID_HANDLER:ae("FST_ERR_HOOK_INVALID_HANDLER","The hook callback must be a function",500,TypeError),FST_ERR_MISSING_MIDDLEWARE:ae("FST_ERR_MISSING_MIDDLEWARE","You must register a plugin for handling middlewares, visit fastify.io/docs/latest/Middleware/ for more info.",500),FST_ERR_LOG_INVALID_DESTINATION:ae("FST_ERR_LOG_INVALID_DESTINATION","Cannot specify both logger.stream and logger.file options"),FST_ERR_REP_INVALID_PAYLOAD_TYPE:ae("FST_ERR_REP_INVALID_PAYLOAD_TYPE","Attempted to send payload of invalid type '%s'. Expected a string or Buffer.",500,TypeError),FST_ERR_REP_ALREADY_SENT:ae("FST_ERR_REP_ALREADY_SENT","Reply was already sent."),FST_ERR_REP_SENT_VALUE:ae("FST_ERR_REP_SENT_VALUE","The only possible value for reply.sent is true."),FST_ERR_SEND_INSIDE_ONERR:ae("FST_ERR_SEND_INSIDE_ONERR","You cannot use `send` inside the `onError` hook"),FST_ERR_SEND_UNDEFINED_ERR:ae("FST_ERR_SEND_UNDEFINED_ERR","Undefined error has occurred"),FST_ERR_BAD_STATUS_CODE:ae("FST_ERR_BAD_STATUS_CODE","Called reply with an invalid status code: %s"),FST_ERR_SCH_MISSING_ID:ae("FST_ERR_SCH_MISSING_ID","Missing schema $id property"),FST_ERR_SCH_ALREADY_PRESENT:ae("FST_ERR_SCH_ALREADY_PRESENT","Schema with id '%s' already declared!"),FST_ERR_SCH_DUPLICATE:ae("FST_ERR_SCH_DUPLICATE","Schema with '%s' already present!"),FST_ERR_SCH_VALIDATION_BUILD:ae("FST_ERR_SCH_VALIDATION_BUILD","Failed building the validation schema for %s: %s, due to error %s"),FST_ERR_SCH_SERIALIZATION_BUILD:ae("FST_ERR_SCH_SERIALIZATION_BUILD","Failed building the serialization schema for %s: %s, due to error %s"),FST_ERR_PROMISE_NOT_FULFILLED:ae("FST_ERR_PROMISE_NOT_FULFILLED","Promise may not be fulfilled with 'undefined' when statusCode is not 204"),FST_ERR_HTTP2_INVALID_VERSION:ae("FST_ERR_HTTP2_INVALID_VERSION","HTTP2 is available only from node >= 8.8.1"),FST_ERR_INIT_OPTS_INVALID:ae("FST_ERR_INIT_OPTS_INVALID","Invalid initialization options: '%s'"),FST_ERR_BAD_URL:ae("FST_ERR_BAD_URL","'%s' is not a valid url component",400),FST_ERR_DEFAULT_ROUTE_INVALID_TYPE:ae("FST_ERR_DEFAULT_ROUTE_INVALID_TYPE","The defaultRoute type should be a function",500,TypeError),FST_ERR_REOPENED_CLOSE_SERVER:ae("FST_ERR_REOPENED_CLOSE_SERVER","Fastify has already been closed and cannot be reopened"),FST_ERR_REOPENED_SERVER:ae("FST_ERR_REOPENED_SERVER","Fastify is already listening"),FST_ERR_PLUGIN_VERSION_MISMATCH:ae("FST_ERR_PLUGIN_VERSION_MISMATCH","fastify-plugin: %s - expected '%s' fastify version, '%s' is installed")};ad.exports=b$});var dd=E((WM,hd)=>{"use strict";var od=require("assert"),E$=require("http"),w$=require("https"),{kState:Br,kOptions:_$}=er(),{FST_ERR_HTTP2_INVALID_VERSION:S$,FST_ERR_REOPENED_CLOSE_SERVER:ld,FST_ERR_REOPENED_SERVER:ud}=br();function P$(r,e){od(r,"Missing options"),od(e,"Missing http handler");let t=null;return r.serverFactory?t=r.serverFactory(e,r):r.https?r.http2?(t=cd().createSecureServer(r.https,e),t.on("session",fd(r.http2SessionTimeout))):(t=w$.createServer(r.https,e),t.keepAliveTimeout=r.keepAliveTimeout):r.http2?(t=cd().createServer(e),t.on("session",fd(r.http2SessionTimeout))):(t=E$.createServer(e),t.keepAliveTimeout=r.keepAliveTimeout,r.maxRequestsPerSocket>0&&(t.maxRequestsPerSocket=r.maxRequestsPerSocket)),r.serverFactory||t.setTimeout(r.connectionTimeout),{server:t,listen:n};function n(){let i=(u=>{if(u.length===0)return{port:0,host:"localhost"};let f={cb:typeof u[u.length-1]=="function"?u.pop():void 0},l=u[0],v=u.length,m=u[v-1];return typeof l=="object"&&l!==null?(f.backlog=v>1?m:void 0,Object.assign(f,l)):typeof l=="string"&&isNaN(l)?(f.path=l,f.backlog=v>1?m:void 0):(f.port=v>=1&&l?l:0,f.host=v>=2&&u[1]?u[1]:"localhost",f.backlog=v>=3?u[2]:void 0),f})(Array.from(arguments)),a=i.cb,o=u=>{if(t.removeListener("error",o),u)this[Br].listening=!1,a(u,null);else{let h=d();a(null,h)}},c=u=>this[Br].listening&&this[Br].closing?Promise.reject(new ld):this[Br].listening?Promise.reject(new ud):this.ready().then(()=>{let h,f=new Promise((v,m)=>{h=p=>{this[Br].listening=!1,m(p)},t.once("error",h)}),l=new Promise((v,m)=>{t.listen(u,()=>{t.removeListener("error",h),v(d())}),this[Br].listening=!0});return Promise.race([f,l])}),d=()=>{let u=t.address(),h=typeof u=="string";return h||(u.address.indexOf(":")===-1?u=u.address+":"+u.port:u="["+u.address+"]:"+u.port),u=(h?"":"http"+(this[_$].https?"s":"")+"://")+u,this.log.info("Server listening at "+u),u};if(a===void 0)return c(i);this.ready(u=>{if(u!=null)return a(u);if(this[Br].listening&&this[Br].closing)return a(new ld,null);if(this[Br].listening)return a(new ud,null);t.once("error",o),t.listen(i,o),this[Br].listening=!0})}}function cd(){try{return require("http2")}catch{throw new S$}}function fd(r){return function(e){e.setTimeout(r,$$)}}function $$(){this.close()}hd.exports={createServer:P$}});var pn=E((XM,pd)=>{"use strict";function R$(r){return r|0,r}pd.exports=R$});var ji=E((qi,md)=>{(function(r,e){typeof qi=="object"&&typeof md!="undefined"?e(qi):typeof define=="function"&&define.amd?define(["exports"],e):e(r.URI=r.URI||{})})(qi,function(r){"use strict";function e(){for(var _=arguments.length,b=Array(_),P=0;P<_;P++)b[P]=arguments[P];if(b.length>1){b[0]=b[0].slice(0,-1);for(var T=b.length-1,I=1;I<T;++I)b[I]=b[I].slice(1,-1);return b[T]=b[T].slice(1),b.join("")}else return b[0]}function t(_){return"(?:"+_+")"}function n(_){return _===void 0?"undefined":_===null?"null":Object.prototype.toString.call(_).split(" ").pop().split("]").shift().toLowerCase()}function s(_){return _.toUpperCase()}function i(_){return _!=null?_ instanceof Array?_:typeof _.length!="number"||_.split||_.setInterval||_.call?[_]:Array.prototype.slice.call(_):[]}function a(_,b){var P=_;if(b)for(var T in b)P[T]=b[T];return P}function o(_){var b="[A-Za-z]",P="[\\x0D]",T="[0-9]",I="[\\x22]",H=e(T,"[A-Fa-f]"),ee="[\\x0A]",fe="[\\x20]",Ee=t(t("%[EFef]"+H+"%"+H+H+"%"+H+H)+"|"+t("%[89A-Fa-f]"+H+"%"+H+H)+"|"+t("%"+H+H)),De="[\\:\\/\\?\\#\\[\\]\\@]",ue="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Ae=e(De,ue),Le=_?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Ie=_?"[\\uE000-\\uF8FF]":"[]",de=e(b,T,"[\\-\\.\\_\\~]",Le),Ne=t(b+e(b,T,"[\\+\\-\\.]")+"*"),Se=t(t(Ee+"|"+e(de,ue,"[\\:]"))+"*"),Lt=t(t("25[0-5]")+"|"+t("2[0-4]"+T)+"|"+t("1"+T+T)+"|"+t("[1-9]"+T)+"|"+T),vr=t(t("25[0-5]")+"|"+t("2[0-4]"+T)+"|"+t("1"+T+T)+"|"+t("0?[1-9]"+T)+"|0?0?"+T),wr=t(vr+"\\."+vr+"\\."+vr+"\\."+vr),$e=t(H+"{1,4}"),yr=t(t($e+"\\:"+$e)+"|"+wr),_r=t(t($e+"\\:")+"{6}"+yr),zr=t("\\:\\:"+t($e+"\\:")+"{5}"+yr),Ft=t(t($e)+"?\\:\\:"+t($e+"\\:")+"{4}"+yr),nt=t(t(t($e+"\\:")+"{0,1}"+$e)+"?\\:\\:"+t($e+"\\:")+"{3}"+yr),un=t(t(t($e+"\\:")+"{0,2}"+$e)+"?\\:\\:"+t($e+"\\:")+"{2}"+yr),$i=t(t(t($e+"\\:")+"{0,3}"+$e)+"?\\:\\:"+$e+"\\:"+yr),Ri=t(t(t($e+"\\:")+"{0,4}"+$e)+"?\\:\\:"+yr),ps=t(t(t($e+"\\:")+"{0,5}"+$e)+"?\\:\\:"+$e),ms=t(t(t($e+"\\:")+"{0,6}"+$e)+"?\\:\\:"),it=t([_r,zr,Ft,nt,un,$i,Ri,ps,ms].join("|")),vs=t(t(de+"|"+Ee)+"+"),Mo=t(it+"\\%25"+vs),Mt=t(it+t("\\%25|\\%(?!"+H+"{2})")+vs),hP=t("[vV]"+H+"+\\."+e(de,ue,"[\\:]")+"+"),dP=t("\\["+t(Mt+"|"+it+"|"+hP)+"\\]"),Rh=t(t(Ee+"|"+e(de,ue))+"*"),cn=t(dP+"|"+wr+"(?!"+Rh+")|"+Rh),fn=t(T+"*"),Oh=t(t(Se+"@")+"?"+cn+t("\\:"+fn)+"?"),hn=t(Ee+"|"+e(de,ue,"[\\:\\@]")),pP=t(hn+"*"),Th=t(hn+"+"),mP=t(t(Ee+"|"+e(de,ue,"[\\@]"))+"+"),at=t(t("\\/"+pP)+"*"),ys=t("\\/"+t(Th+at)+"?"),Ho=t(mP+at),Oi=t(Th+at),gs="(?!"+hn+")",OM=t(at+"|"+ys+"|"+Ho+"|"+Oi+"|"+gs),bs=t(t(hn+"|"+e("[\\/\\?]",Ie))+"*"),dn=t(t(hn+"|[\\/\\?]")+"*"),Ih=t(t("\\/\\/"+Oh+at)+"|"+ys+"|"+Oi+"|"+gs),vP=t(Ne+"\\:"+Ih+t("\\?"+bs)+"?"+t("\\#"+dn)+"?"),yP=t(t("\\/\\/"+Oh+at)+"|"+ys+"|"+Ho+"|"+gs),gP=t(yP+t("\\?"+bs)+"?"+t("\\#"+dn)+"?"),TM=t(vP+"|"+gP),IM=t(Ne+"\\:"+Ih+t("\\?"+bs)+"?"),CM="^("+Ne+")\\:"+t(t("\\/\\/("+t("("+Se+")@")+"?("+cn+")"+t("\\:("+fn+")")+"?)")+"?("+at+"|"+ys+"|"+Oi+"|"+gs+")")+t("\\?("+bs+")")+"?"+t("\\#("+dn+")")+"?$",AM="^(){0}"+t(t("\\/\\/("+t("("+Se+")@")+"?("+cn+")"+t("\\:("+fn+")")+"?)")+"?("+at+"|"+ys+"|"+Ho+"|"+gs+")")+t("\\?("+bs+")")+"?"+t("\\#("+dn+")")+"?$",NM="^("+Ne+")\\:"+t(t("\\/\\/("+t("("+Se+")@")+"?("+cn+")"+t("\\:("+fn+")")+"?)")+"?("+at+"|"+ys+"|"+Oi+"|"+gs+")")+t("\\?("+bs+")")+"?$",qM="^"+t("\\#("+dn+")")+"?$",jM="^"+t("("+Se+")@")+"?("+cn+")"+t("\\:("+fn+")")+"?$";return{NOT_SCHEME:new RegExp(e("[^]",b,T,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(e("[^\\%\\:]",de,ue),"g"),NOT_HOST:new RegExp(e("[^\\%\\[\\]\\:]",de,ue),"g"),NOT_PATH:new RegExp(e("[^\\%\\/\\:\\@]",de,ue),"g"),NOT_PATH_NOSCHEME:new RegExp(e("[^\\%\\/\\@]",de,ue),"g"),NOT_QUERY:new RegExp(e("[^\\%]",de,ue,"[\\:\\@\\/\\?]",Ie),"g"),NOT_FRAGMENT:new RegExp(e("[^\\%]",de,ue,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(e("[^]",de,ue),"g"),UNRESERVED:new RegExp(de,"g"),OTHER_CHARS:new RegExp(e("[^\\%]",de,Ae),"g"),PCT_ENCODED:new RegExp(Ee,"g"),IPV4ADDRESS:new RegExp("^("+wr+")$"),IPV6ADDRESS:new RegExp("^\\[?("+it+")"+t(t("\\%25|\\%(?!"+H+"{2})")+"("+vs+")")+"?\\]?$")}}var c=o(!1),d=o(!0),u=function(){function _(b,P){var T=[],I=!0,H=!1,ee=void 0;try{for(var fe=b[Symbol.iterator](),Ee;!(I=(Ee=fe.next()).done)&&(T.push(Ee.value),!(P&&T.length===P));I=!0);}catch(De){H=!0,ee=De}finally{try{!I&&fe.return&&fe.return()}finally{if(H)throw ee}}return T}return function(b,P){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return _(b,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(_){if(Array.isArray(_)){for(var b=0,P=Array(_.length);b<_.length;b++)P[b]=_[b];return P}else return Array.from(_)},f=2147483647,l=36,v=1,m=26,p=38,y=700,S=72,$=128,w="-",g=/^xn--/,O=/[^\0-\x7E]/,R=/[\x2E\u3002\uFF0E\uFF61]/g,D={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},A=l-v,j=Math.floor,x=String.fromCharCode;function k(_){throw new RangeError(D[_])}function q(_,b){for(var P=[],T=_.length;T--;)P[T]=b(_[T]);return P}function C(_,b){var P=_.split("@"),T="";P.length>1&&(T=P[0]+"@",_=P[1]),_=_.replace(R,".");var I=_.split("."),H=q(I,b).join(".");return T+H}function F(_){for(var b=[],P=0,T=_.length;P<T;){var I=_.charCodeAt(P++);if(I>=55296&&I<=56319&&P<T){var H=_.charCodeAt(P++);(H&64512)==56320?b.push(((I&1023)<<10)+(H&1023)+65536):(b.push(I),P--)}else b.push(I)}return b}var Q=function(b){return String.fromCodePoint.apply(String,h(b))},K=function(b){return b-48<10?b-22:b-65<26?b-65:b-97<26?b-97:l},z=function(b,P){return b+22+75*(b<26)-((P!=0)<<5)},Y=function(b,P,T){var I=0;for(b=T?j(b/y):b>>1,b+=j(b/P);b>A*m>>1;I+=l)b=j(b/A);return j(I+(A+1)*b/(b+p))},V=function(b){var P=[],T=b.length,I=0,H=$,ee=S,fe=b.lastIndexOf(w);fe<0&&(fe=0);for(var Ee=0;Ee<fe;++Ee)b.charCodeAt(Ee)>=128&&k("not-basic"),P.push(b.charCodeAt(Ee));for(var De=fe>0?fe+1:0;De<T;){for(var ue=I,Ae=1,Le=l;;Le+=l){De>=T&&k("invalid-input");var Ie=K(b.charCodeAt(De++));(Ie>=l||Ie>j((f-I)/Ae))&&k("overflow"),I+=Ie*Ae;var de=Le<=ee?v:Le>=ee+m?m:Le-ee;if(Ie<de)break;var Ne=l-de;Ae>j(f/Ne)&&k("overflow"),Ae*=Ne}var Se=P.length+1;ee=Y(I-ue,Se,ue==0),j(I/Se)>f-H&&k("overflow"),H+=j(I/Se),I%=Se,P.splice(I++,0,H)}return String.fromCodePoint.apply(String,P)},le=function(b){var P=[];b=F(b);var T=b.length,I=$,H=0,ee=S,fe=!0,Ee=!1,De=void 0;try{for(var ue=b[Symbol.iterator](),Ae;!(fe=(Ae=ue.next()).done);fe=!0){var Le=Ae.value;Le<128&&P.push(x(Le))}}catch(Mt){Ee=!0,De=Mt}finally{try{!fe&&ue.return&&ue.return()}finally{if(Ee)throw De}}var Ie=P.length,de=Ie;for(Ie&&P.push(w);de<T;){var Ne=f,Se=!0,Lt=!1,vr=void 0;try{for(var wr=b[Symbol.iterator](),$e;!(Se=($e=wr.next()).done);Se=!0){var yr=$e.value;yr>=I&&yr<Ne&&(Ne=yr)}}catch(Mt){Lt=!0,vr=Mt}finally{try{!Se&&wr.return&&wr.return()}finally{if(Lt)throw vr}}var _r=de+1;Ne-I>j((f-H)/_r)&&k("overflow"),H+=(Ne-I)*_r,I=Ne;var zr=!0,Ft=!1,nt=void 0;try{for(var un=b[Symbol.iterator](),$i;!(zr=($i=un.next()).done);zr=!0){var Ri=$i.value;if(Ri<I&&++H>f&&k("overflow"),Ri==I){for(var ps=H,ms=l;;ms+=l){var it=ms<=ee?v:ms>=ee+m?m:ms-ee;if(ps<it)break;var vs=ps-it,Mo=l-it;P.push(x(z(it+vs%Mo,0))),ps=j(vs/Mo)}P.push(x(z(ps,0))),ee=Y(H,_r,de==Ie),H=0,++de}}}catch(Mt){Ft=!0,nt=Mt}finally{try{!zr&&un.return&&un.return()}finally{if(Ft)throw nt}}++H,++I}return P.join("")},J=function(b){return C(b,function(P){return g.test(P)?V(P.slice(4).toLowerCase()):P})},Z=function(b){return C(b,function(P){return O.test(P)?"xn--"+le(P):P})},N={version:"2.1.0",ucs2:{decode:F,encode:Q},decode:V,encode:le,toASCII:Z,toUnicode:J},L={};function M(_){var b=_.charCodeAt(0),P=void 0;return b<16?P="%0"+b.toString(16).toUpperCase():b<128?P="%"+b.toString(16).toUpperCase():b<2048?P="%"+(b>>6|192).toString(16).toUpperCase()+"%"+(b&63|128).toString(16).toUpperCase():P="%"+(b>>12|224).toString(16).toUpperCase()+"%"+(b>>6&63|128).toString(16).toUpperCase()+"%"+(b&63|128).toString(16).toUpperCase(),P}function W(_){for(var b="",P=0,T=_.length;P<T;){var I=parseInt(_.substr(P+1,2),16);if(I<128)b+=String.fromCharCode(I),P+=3;else if(I>=194&&I<224){if(T-P>=6){var H=parseInt(_.substr(P+4,2),16);b+=String.fromCharCode((I&31)<<6|H&63)}else b+=_.substr(P,6);P+=6}else if(I>=224){if(T-P>=9){var ee=parseInt(_.substr(P+4,2),16),fe=parseInt(_.substr(P+7,2),16);b+=String.fromCharCode((I&15)<<12|(ee&63)<<6|fe&63)}else b+=_.substr(P,9);P+=9}else b+=_.substr(P,3),P+=3}return b}function Te(_,b){function P(T){var I=W(T);return I.match(b.UNRESERVED)?I:T}return _.scheme&&(_.scheme=String(_.scheme).replace(b.PCT_ENCODED,P).toLowerCase().replace(b.NOT_SCHEME,"")),_.userinfo!==void 0&&(_.userinfo=String(_.userinfo).replace(b.PCT_ENCODED,P).replace(b.NOT_USERINFO,M).replace(b.PCT_ENCODED,s)),_.host!==void 0&&(_.host=String(_.host).replace(b.PCT_ENCODED,P).toLowerCase().replace(b.NOT_HOST,M).replace(b.PCT_ENCODED,s)),_.path!==void 0&&(_.path=String(_.path).replace(b.PCT_ENCODED,P).replace(_.scheme?b.NOT_PATH:b.NOT_PATH_NOSCHEME,M).replace(b.PCT_ENCODED,s)),_.query!==void 0&&(_.query=String(_.query).replace(b.PCT_ENCODED,P).replace(b.NOT_QUERY,M).replace(b.PCT_ENCODED,s)),_.fragment!==void 0&&(_.fragment=String(_.fragment).replace(b.PCT_ENCODED,P).replace(b.NOT_FRAGMENT,M).replace(b.PCT_ENCODED,s)),_}function he(_){return _.replace(/^0*(.*)/,"$1")||"0"}function be(_,b){var P=_.match(b.IPV4ADDRESS)||[],T=u(P,2),I=T[1];return I?I.split(".").map(he).join("."):_}function ve(_,b){var P=_.match(b.IPV6ADDRESS)||[],T=u(P,3),I=T[1],H=T[2];if(I){for(var ee=I.toLowerCase().split("::").reverse(),fe=u(ee,2),Ee=fe[0],De=fe[1],ue=De?De.split(":").map(he):[],Ae=Ee.split(":").map(he),Le=b.IPV4ADDRESS.test(Ae[Ae.length-1]),Ie=Le?7:8,de=Ae.length-Ie,Ne=Array(Ie),Se=0;Se<Ie;++Se)Ne[Se]=ue[Se]||Ae[de+Se]||"";Le&&(Ne[Ie-1]=be(Ne[Ie-1],b));var Lt=Ne.reduce(function(_r,zr,Ft){if(!zr||zr==="0"){var nt=_r[_r.length-1];nt&&nt.index+nt.length===Ft?nt.length++:_r.push({index:Ft,length:1})}return _r},[]),vr=Lt.sort(function(_r,zr){return zr.length-_r.length})[0],wr=void 0;if(vr&&vr.length>1){var $e=Ne.slice(0,vr.index),yr=Ne.slice(vr.index+vr.length);wr=$e.join(":")+"::"+yr.join(":")}else wr=Ne.join(":");return H&&(wr+="%"+H),wr}else return _}var xt=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Xe="".match(/(){0}/)[1]===void 0;function ye(_){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},P={},T=b.iri!==!1?d:c;b.reference==="suffix"&&(_=(b.scheme?b.scheme+":":"")+"//"+_);var I=_.match(xt);if(I){Xe?(P.scheme=I[1],P.userinfo=I[3],P.host=I[4],P.port=parseInt(I[5],10),P.path=I[6]||"",P.query=I[7],P.fragment=I[8],isNaN(P.port)&&(P.port=I[5])):(P.scheme=I[1]||void 0,P.userinfo=_.indexOf("@")!==-1?I[3]:void 0,P.host=_.indexOf("//")!==-1?I[4]:void 0,P.port=parseInt(I[5],10),P.path=I[6]||"",P.query=_.indexOf("?")!==-1?I[7]:void 0,P.fragment=_.indexOf("#")!==-1?I[8]:void 0,isNaN(P.port)&&(P.port=_.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?I[4]:void 0)),P.host&&(P.host=ve(be(P.host,T),T)),P.scheme===void 0&&P.userinfo===void 0&&P.host===void 0&&P.port===void 0&&!P.path&&P.query===void 0?P.reference="same-document":P.scheme===void 0?P.reference="relative":P.fragment===void 0?P.reference="absolute":P.reference="uri",b.reference&&b.reference!=="suffix"&&b.reference!==P.reference&&(P.error=P.error||"URI is not a "+b.reference+" reference.");var H=L[(b.scheme||P.scheme||"").toLowerCase()];if(!b.unicodeSupport&&(!H||!H.unicodeSupport)){if(P.host&&(b.domainHost||H&&H.domainHost))try{P.host=N.toASCII(P.host.replace(T.PCT_ENCODED,W).toLowerCase())}catch(ee){P.error=P.error||"Host's domain name can not be converted to ASCII via punycode: "+ee}Te(P,c)}else Te(P,T);H&&H.parse&&H.parse(P,b)}else P.error=P.error||"URI can not be parsed.";return P}function dt(_,b){var P=b.iri!==!1?d:c,T=[];return _.userinfo!==void 0&&(T.push(_.userinfo),T.push("@")),_.host!==void 0&&T.push(ve(be(String(_.host),P),P).replace(P.IPV6ADDRESS,function(I,H,ee){return"["+H+(ee?"%25"+ee:"")+"]"})),(typeof _.port=="number"||typeof _.port=="string")&&(T.push(":"),T.push(String(_.port))),T.length?T.join(""):void 0}var st=/^\.\.?\//,kt=/^\/\.(\/|$)/,Dt=/^\/\.\.(\/|$)/,Ue=/^\/?(?:.|\n)*?(?=\/|$)/;function Er(_){for(var b=[];_.length;)if(_.match(st))_=_.replace(st,"");else if(_.match(kt))_=_.replace(kt,"/");else if(_.match(Dt))_=_.replace(Dt,"/"),b.pop();else if(_==="."||_==="..")_="";else{var P=_.match(Ue);if(P){var T=P[0];_=_.slice(T.length),b.push(T)}else throw new Error("Unexpected dot segment condition")}return b.join("")}function fr(_){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},P=b.iri?d:c,T=[],I=L[(b.scheme||_.scheme||"").toLowerCase()];if(I&&I.serialize&&I.serialize(_,b),_.host&&!P.IPV6ADDRESS.test(_.host)){if(b.domainHost||I&&I.domainHost)try{_.host=b.iri?N.toUnicode(_.host):N.toASCII(_.host.replace(P.PCT_ENCODED,W).toLowerCase())}catch(fe){_.error=_.error||"Host's domain name can not be converted to "+(b.iri?"Unicode":"ASCII")+" via punycode: "+fe}}Te(_,P),b.reference!=="suffix"&&_.scheme&&(T.push(_.scheme),T.push(":"));var H=dt(_,b);if(H!==void 0&&(b.reference!=="suffix"&&T.push("//"),T.push(H),_.path&&_.path.charAt(0)!=="/"&&T.push("/")),_.path!==void 0){var ee=_.path;!b.absolutePath&&(!I||!I.absolutePath)&&(ee=Er(ee)),H===void 0&&(ee=ee.replace(/^\/\//,"/%2F")),T.push(ee)}return _.query!==void 0&&(T.push("?"),T.push(_.query)),_.fragment!==void 0&&(T.push("#"),T.push(_.fragment)),T.join("")}function ir(_,b){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},T=arguments[3],I={};return T||(_=ye(fr(_,P),P),b=ye(fr(b,P),P)),P=P||{},!P.tolerant&&b.scheme?(I.scheme=b.scheme,I.userinfo=b.userinfo,I.host=b.host,I.port=b.port,I.path=Er(b.path||""),I.query=b.query):(b.userinfo!==void 0||b.host!==void 0||b.port!==void 0?(I.userinfo=b.userinfo,I.host=b.host,I.port=b.port,I.path=Er(b.path||""),I.query=b.query):(b.path?(b.path.charAt(0)==="/"?I.path=Er(b.path):((_.userinfo!==void 0||_.host!==void 0||_.port!==void 0)&&!_.path?I.path="/"+b.path:_.path?I.path=_.path.slice(0,_.path.lastIndexOf("/")+1)+b.path:I.path=b.path,I.path=Er(I.path)),I.query=b.query):(I.path=_.path,b.query!==void 0?I.query=b.query:I.query=_.query),I.userinfo=_.userinfo,I.host=_.host,I.port=_.port),I.scheme=_.scheme),I.fragment=b.fragment,I}function Hr(_,b,P){var T=a({scheme:"null"},P);return fr(ir(ye(_,T),ye(b,T),T,!0),T)}function mr(_,b){return typeof _=="string"?_=fr(ye(_,b),b):n(_)==="object"&&(_=ye(fr(_,b),b)),_}function Pi(_,b,P){return typeof _=="string"?_=fr(ye(_,P),P):n(_)==="object"&&(_=fr(_,P)),typeof b=="string"?b=fr(ye(b,P),P):n(b)==="object"&&(b=fr(b,P)),_===b}function Lo(_,b){return _&&_.toString().replace(!b||!b.iri?c.ESCAPE:d.ESCAPE,M)}function qr(_,b){return _&&_.toString().replace(!b||!b.iri?c.PCT_ENCODED:d.PCT_ENCODED,W)}var on={scheme:"http",domainHost:!0,parse:function(b,P){return b.host||(b.error=b.error||"HTTP URIs must have a host."),b},serialize:function(b,P){var T=String(b.scheme).toLowerCase()==="https";return(b.port===(T?443:80)||b.port==="")&&(b.port=void 0),b.path||(b.path="/"),b}},gh={scheme:"https",domainHost:on.domainHost,parse:on.parse,serialize:on.serialize};function bh(_){return typeof _.secure=="boolean"?_.secure:String(_.scheme).toLowerCase()==="wss"}var ln={scheme:"ws",domainHost:!0,parse:function(b,P){var T=b;return T.secure=bh(T),T.resourceName=(T.path||"/")+(T.query?"?"+T.query:""),T.path=void 0,T.query=void 0,T},serialize:function(b,P){if((b.port===(bh(b)?443:80)||b.port==="")&&(b.port=void 0),typeof b.secure=="boolean"&&(b.scheme=b.secure?"wss":"ws",b.secure=void 0),b.resourceName){var T=b.resourceName.split("?"),I=u(T,2),H=I[0],ee=I[1];b.path=H&&H!=="/"?H:void 0,b.query=ee,b.resourceName=void 0}return b.fragment=void 0,b}},Eh={scheme:"wss",domainHost:ln.domainHost,parse:ln.parse,serialize:ln.serialize},eP={},rP=!0,wh="[A-Za-z0-9\\-\\.\\_\\~"+(rP?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]",Vr="[0-9A-Fa-f]",tP=t(t("%[EFef]"+Vr+"%"+Vr+Vr+"%"+Vr+Vr)+"|"+t("%[89A-Fa-f]"+Vr+"%"+Vr+Vr)+"|"+t("%"+Vr+Vr)),sP="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",nP="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",iP=e(nP,'[\\"\\\\]'),aP="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",oP=new RegExp(wh,"g"),ds=new RegExp(tP,"g"),lP=new RegExp(e("[^]",sP,"[\\.]",'[\\"]',iP),"g"),_h=new RegExp(e("[^]",wh,aP),"g"),uP=_h;function Fo(_){var b=W(_);return b.match(oP)?b:_}var Sh={scheme:"mailto",parse:function(b,P){var T=b,I=T.to=T.path?T.path.split(","):[];if(T.path=void 0,T.query){for(var H=!1,ee={},fe=T.query.split("&"),Ee=0,De=fe.length;Ee<De;++Ee){var ue=fe[Ee].split("=");switch(ue[0]){case"to":for(var Ae=ue[1].split(","),Le=0,Ie=Ae.length;Le<Ie;++Le)I.push(Ae[Le]);break;case"subject":T.subject=qr(ue[1],P);break;case"body":T.body=qr(ue[1],P);break;default:H=!0,ee[qr(ue[0],P)]=qr(ue[1],P);break}}H&&(T.headers=ee)}T.query=void 0;for(var de=0,Ne=I.length;de<Ne;++de){var Se=I[de].split("@");if(Se[0]=qr(Se[0]),P.unicodeSupport)Se[1]=qr(Se[1],P).toLowerCase();else try{Se[1]=N.toASCII(qr(Se[1],P).toLowerCase())}catch(Lt){T.error=T.error||"Email address's domain name can not be converted to ASCII via punycode: "+Lt}I[de]=Se.join("@")}return T},serialize:function(b,P){var T=b,I=i(b.to);if(I){for(var H=0,ee=I.length;H<ee;++H){var fe=String(I[H]),Ee=fe.lastIndexOf("@"),De=fe.slice(0,Ee).replace(ds,Fo).replace(ds,s).replace(lP,M),ue=fe.slice(Ee+1);try{ue=P.iri?N.toUnicode(ue):N.toASCII(qr(ue,P).toLowerCase())}catch(de){T.error=T.error||"Email address's domain name can not be converted to "+(P.iri?"Unicode":"ASCII")+" via punycode: "+de}I[H]=De+"@"+ue}T.path=I.join(",")}var Ae=b.headers=b.headers||{};b.subject&&(Ae.subject=b.subject),b.body&&(Ae.body=b.body);var Le=[];for(var Ie in Ae)Ae[Ie]!==eP[Ie]&&Le.push(Ie.replace(ds,Fo).replace(ds,s).replace(_h,M)+"="+Ae[Ie].replace(ds,Fo).replace(ds,s).replace(uP,M));return Le.length&&(T.query=Le.join("&")),T}},cP=/^([^\:]+)\:(.*)/,Ph={scheme:"urn",parse:function(b,P){var T=b.path&&b.path.match(cP),I=b;if(T){var H=P.scheme||I.scheme||"urn",ee=T[1].toLowerCase(),fe=T[2],Ee=H+":"+(P.nid||ee),De=L[Ee];I.nid=ee,I.nss=fe,I.path=void 0,De&&(I=De.parse(I,P))}else I.error=I.error||"URN can not be parsed.";return I},serialize:function(b,P){var T=P.scheme||b.scheme||"urn",I=b.nid,H=T+":"+(P.nid||I),ee=L[H];ee&&(b=ee.serialize(b,P));var fe=b,Ee=b.nss;return fe.path=(I||P.nid)+":"+Ee,fe}},fP=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,$h={scheme:"urn:uuid",parse:function(b,P){var T=b;return T.uuid=T.nss,T.nss=void 0,!P.tolerant&&(!T.uuid||!T.uuid.match(fP))&&(T.error=T.error||"UUID is not valid."),T},serialize:function(b,P){var T=b;return T.nss=(b.uuid||"").toLowerCase(),T}};L[on.scheme]=on,L[gh.scheme]=gh,L[ln.scheme]=ln,L[Eh.scheme]=Eh,L[Sh.scheme]=Sh,L[Ph.scheme]=Ph,L[$h.scheme]=$h,r.SCHEMES=L,r.pctEncChar=M,r.pctDecChars=W,r.parse=ye,r.removeDotSegments=Er,r.serialize=fr,r.resolveComponents=ir,r.resolve=Hr,r.normalize=mr,r.equal=Pi,r.escapeComponent=Lo,r.unescapeComponent=qr,Object.defineProperty(r,"__esModule",{value:!0})})});var pt=E((ZM,vd)=>{"use strict";vd.exports=function r(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,s,i;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(s=n;s--!=0;)if(!r(e[s],t[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(s=n;s--!=0;)if(!Object.prototype.hasOwnProperty.call(t,i[s]))return!1;for(s=n;s--!=0;){var a=i[s];if(!r(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}});var gd=E((e4,yd)=>{"use strict";yd.exports=function(e){for(var t=0,n=e.length,s=0,i;s<n;)t++,i=e.charCodeAt(s++),i>=55296&&i<=56319&&s<n&&(i=e.charCodeAt(s),(i&64512)==56320&&s++);return t}});var Vt=E((r4,wd)=>{"use strict";wd.exports={copy:O$,checkDataType:sl,checkDataTypes:T$,coerceToTypes:I$,toHash:nl,getProperty:il,escapeQuotes:al,equal:pt(),ucs2length:gd(),varOccurences:N$,varReplace:q$,schemaHasRules:j$,schemaHasRulesExcept:x$,schemaUnknownRules:k$,toQuotedString:ol,getPathExpr:D$,getPath:L$,getData:H$,unescapeFragment:V$,unescapeJsonPointer:ul,escapeFragment:z$,escapeJsonPointer:ll};function O$(r,e){e=e||{};for(var t in r)e[t]=r[t];return e}function sl(r,e,t,n){var s=n?" !== ":" === ",i=n?" || ":" && ",a=n?"!":"",o=n?"":"!";switch(r){case"null":return e+s+"null";case"array":return a+"Array.isArray("+e+")";case"object":return"("+a+e+i+"typeof "+e+s+'"object"'+i+o+"Array.isArray("+e+"))";case"integer":return"(typeof "+e+s+'"number"'+i+o+"("+e+" % 1)"+i+e+s+e+(t?i+a+"isFinite("+e+")":"")+")";case"number":return"(typeof "+e+s+'"'+r+'"'+(t?i+a+"isFinite("+e+")":"")+")";default:return"typeof "+e+s+'"'+r+'"'}}function T$(r,e,t){switch(r.length){case 1:return sl(r[0],e,t,!0);default:var n="",s=nl(r);s.array&&s.object&&(n=s.null?"(":"(!"+e+" || ",n+="typeof "+e+' !== "object")',delete s.null,delete s.array,delete s.object),s.number&&delete s.integer;for(var i in s)n+=(n?" && ":"")+sl(i,e,t,!0);return n}}var bd=nl(["string","number","integer","boolean","null"]);function I$(r,e){if(Array.isArray(e)){for(var t=[],n=0;n<e.length;n++){var s=e[n];(bd[s]||r==="array"&&s==="array")&&(t[t.length]=s)}if(t.length)return t}else{if(bd[e])return[e];if(r==="array"&&e==="array")return["array"]}}function nl(r){for(var e={},t=0;t<r.length;t++)e[r[t]]=!0;return e}var C$=/^[a-z$_][a-z$_0-9]*$/i,A$=/'|\\/g;function il(r){return typeof r=="number"?"["+r+"]":C$.test(r)?"."+r:"['"+al(r)+"']"}function al(r){return r.replace(A$,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function N$(r,e){e+="[^0-9]";var t=r.match(new RegExp(e,"g"));return t?t.length:0}function q$(r,e,t){return e+="([^0-9])",t=t.replace(/\$/g,"$$$$"),r.replace(new RegExp(e,"g"),t+"$1")}function j$(r,e){if(typeof r=="boolean")return!r;for(var t in r)if(e[t])return!0}function x$(r,e,t){if(typeof r=="boolean")return!r&&t!="not";for(var n in r)if(n!=t&&e[n])return!0}function k$(r,e){if(typeof r!="boolean"){for(var t in r)if(!e[t])return t}}function ol(r){return"'"+al(r)+"'"}function D$(r,e,t,n){var s=t?"'/' + "+e+(n?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):n?"'[' + "+e+" + ']'":"'[\\'' + "+e+" + '\\']'";return Ed(r,s)}function L$(r,e,t){var n=ol(t?"/"+ll(e):il(e));return Ed(r,n)}var F$=/^\/(?:[^~]|~0|~1)*$/,M$=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function H$(r,e,t){var n,s,i,a;if(r==="")return"rootData";if(r[0]=="/"){if(!F$.test(r))throw new Error("Invalid JSON-pointer: "+r);s=r,i="rootData"}else{if(a=r.match(M$),!a)throw new Error("Invalid JSON-pointer: "+r);if(n=+a[1],s=a[2],s=="#"){if(n>=e)throw new Error("Cannot access property/index "+n+" levels up, current level is "+e);return t[e-n]}if(n>e)throw new Error("Cannot access data "+n+" levels up, current level is "+e);if(i="data"+(e-n||""),!s)return i}for(var o=i,c=s.split("/"),d=0;d<c.length;d++){var u=c[d];u&&(i+=il(ul(u)),o+=" && "+i)}return o}function Ed(r,e){return r=='""'?e:(r+" + "+e).replace(/([^\\])' \+ '/g,"$1")}function V$(r){return ul(decodeURIComponent(r))}function z$(r){return encodeURIComponent(ll(r))}function ll(r){return r.replace(/~/g,"~0").replace(/\//g,"~1")}function ul(r){return r.replace(/~1/g,"/").replace(/~0/g,"~")}});var cl=E((t4,_d)=>{"use strict";var U$=Vt();_d.exports=B$;function B$(r){U$.copy(r,this)}});var Pd=E((s4,Sd)=>{"use strict";var mt=Sd.exports=function(r,e,t){typeof e=="function"&&(t=e,e={}),t=e.cb||t;var n=typeof t=="function"?t:t.pre||function(){},s=t.post||function(){};xi(e,n,s,r,"",r)};mt.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0};mt.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};mt.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};mt.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function xi(r,e,t,n,s,i,a,o,c,d){if(n&&typeof n=="object"&&!Array.isArray(n)){e(n,s,i,a,o,c,d);for(var u in n){var h=n[u];if(Array.isArray(h)){if(u in mt.arrayKeywords)for(var f=0;f<h.length;f++)xi(r,e,t,h[f],s+"/"+u+"/"+f,i,s,u,n,f)}else if(u in mt.propsKeywords){if(h&&typeof h=="object")for(var l in h)xi(r,e,t,h[l],s+"/"+u+"/"+G$(l),i,s,u,n,l)}else(u in mt.keywords||r.allKeys&&!(u in mt.skipKeywords))&&xi(r,e,t,h,s+"/"+u,i,s,u,n)}t(n,s,i,a,o,c,d)}}function G$(r){return r.replace(/~/g,"~0").replace(/\//g,"~1")}});var Hi=E((n4,Td)=>{"use strict";var mn=ji(),$d=pt(),ki=Vt(),Di=cl(),K$=Pd();Td.exports=vt;vt.normalizeId=yt;vt.fullPath=Fi;vt.url=Mi;vt.ids=X$;vt.inlineRef=fl;vt.schema=Li;function vt(r,e,t){var n=this._refs[t];if(typeof n=="string")if(this._refs[n])n=this._refs[n];else return vt.call(this,r,e,n);if(n=n||this._schemas[t],n instanceof Di)return fl(n.schema,this._opts.inlineRefs)?n.schema:n.validate||this._compile(n);var s=Li.call(this,e,t),i,a,o;return s&&(i=s.schema,e=s.root,o=s.baseId),i instanceof Di?a=i.validate||r.call(this,i.schema,e,void 0,o):i!==void 0&&(a=fl(i,this._opts.inlineRefs)?i:r.call(this,i,e,void 0,o)),a}function Li(r,e){var t=mn.parse(e),n=Od(t),s=Fi(this._getId(r.schema));if(Object.keys(r.schema).length===0||n!==s){var i=yt(n),a=this._refs[i];if(typeof a=="string")return J$.call(this,r,a,t);if(a instanceof Di)a.validate||this._compile(a),r=a;else if(a=this._schemas[i],a instanceof Di){if(a.validate||this._compile(a),i==yt(e))return{schema:a,root:r,baseId:s};r=a}else return;if(!r.schema)return;s=Fi(this._getId(r.schema))}return Rd.call(this,t,s,r.schema,r)}function J$(r,e,t){var n=Li.call(this,r,e);if(n){var s=n.schema,i=n.baseId;r=n.root;var a=this._getId(s);return a&&(i=Mi(i,a)),Rd.call(this,t,i,s,r)}}var Q$=ki.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function Rd(r,e,t,n){if(r.fragment=r.fragment||"",r.fragment.slice(0,1)=="/"){for(var s=r.fragment.split("/"),i=1;i<s.length;i++){var a=s[i];if(a){if(a=ki.unescapeFragment(a),t=t[a],t===void 0)break;var o;if(!Q$[a]&&(o=this._getId(t),o&&(e=Mi(e,o)),t.$ref)){var c=Mi(e,t.$ref),d=Li.call(this,n,c);d&&(t=d.schema,n=d.root,e=d.baseId)}}}if(t!==void 0&&t!==n.schema)return{schema:t,root:n,baseId:e}}}var Y$=ki.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function fl(r,e){if(e===!1)return!1;if(e===void 0||e===!0)return hl(r);if(e)return dl(r)<=e}function hl(r){var e;if(Array.isArray(r)){for(var t=0;t<r.length;t++)if(e=r[t],typeof e=="object"&&!hl(e))return!1}else for(var n in r)if(n=="$ref"||(e=r[n],typeof e=="object"&&!hl(e)))return!1;return!0}function dl(r){var e=0,t;if(Array.isArray(r)){for(var n=0;n<r.length;n++)if(t=r[n],typeof t=="object"&&(e+=dl(t)),e==1/0)return 1/0}else for(var s in r){if(s=="$ref")return 1/0;if(Y$[s])e++;else if(t=r[s],typeof t=="object"&&(e+=dl(t)+1),e==1/0)return 1/0}return e}function Fi(r,e){e!==!1&&(r=yt(r));var t=mn.parse(r);return Od(t)}function Od(r){return mn.serialize(r).split("#")[0]+"#"}var W$=/#\/?$/;function yt(r){return r?r.replace(W$,""):""}function Mi(r,e){return e=yt(e),mn.resolve(r,e)}function X$(r){var e=yt(this._getId(r)),t={"":e},n={"":Fi(e,!1)},s={},i=this;return K$(r,{allKeys:!0},function(a,o,c,d,u,h,f){if(o!==""){var l=i._getId(a),v=t[d],m=n[d]+"/"+u;if(f!==void 0&&(m+="/"+(typeof f=="number"?f:ki.escapeFragment(f))),typeof l=="string"){l=v=yt(v?mn.resolve(v,l):l);var p=i._refs[l];if(typeof p=="string"&&(p=i._refs[p]),p&&p.schema){if(!$d(a,p.schema))throw new Error('id "'+l+'" resolves to more than one schema')}else if(l!=yt(m))if(l[0]=="#"){if(s[l]&&!$d(a,s[l]))throw new Error('id "'+l+'" resolves to more than one schema');s[l]=a}else i._refs[l]=m}t[o]=v,n[o]=m}}),s}});var Vi=E((i4,Cd)=>{"use strict";var pl=Hi();Cd.exports={Validation:Id(Z$),MissingRef:Id(ml)};function Z$(r){this.message="validation failed",this.errors=r,this.ajv=this.validation=!0}ml.message=function(r,e){return"can't resolve reference "+e+" from id "+r};function ml(r,e,t){this.message=t||ml.message(r,e),this.missingRef=pl.url(r,e),this.missingSchema=pl.normalizeId(pl.fullPath(this.missingRef))}function Id(r){return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}});var vl=E((a4,Ad)=>{"use strict";Ad.exports=function(r,e){e||(e={}),typeof e=="function"&&(e={cmp:e});var t=typeof e.cycles=="boolean"?e.cycles:!1,n=e.cmp&&function(i){return function(a){return function(o,c){var d={key:o,value:a[o]},u={key:c,value:a[c]};return i(d,u)}}}(e.cmp),s=[];return function i(a){if(a&&a.toJSON&&typeof a.toJSON=="function"&&(a=a.toJSON()),a!==void 0){if(typeof a=="number")return isFinite(a)?""+a:"null";if(typeof a!="object")return JSON.stringify(a);var o,c;if(Array.isArray(a)){for(c="[",o=0;o<a.length;o++)o&&(c+=","),c+=i(a[o])||"null";return c+"]"}if(a===null)return"null";if(s.indexOf(a)!==-1){if(t)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var d=s.push(a)-1,u=Object.keys(a).sort(n&&n(a));for(c="",o=0;o<u.length;o++){var h=u[o],f=i(a[h]);!f||(c&&(c+=","),c+=JSON.stringify(h)+":"+f)}return s.splice(d,1),"{"+c+"}"}}(r)}});var yl=E((o4,Nd)=>{"use strict";Nd.exports=function(e,t,n){var s="",i=e.schema.$async===!0,a=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),o=e.self._getId(e.schema);if(e.opts.strictKeywords){var c=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(c){var d="unknown keyword: "+c;if(e.opts.strictKeywords==="log")e.logger.warn(d);else throw new Error(d)}}if(e.isTop&&(s+=" var validate = ",i&&(e.async=!0,s+="async "),s+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",o&&(e.opts.sourceCode||e.opts.processCode)&&(s+=" "+("/*# sourceURL="+o+" */")+" ")),typeof e.schema=="boolean"||!(a||e.schema.$ref)){var t="false schema",u=e.level,h=e.dataLevel,f=e.schema[t],l=e.schemaPath+e.util.getProperty(t),v=e.errSchemaPath+"/"+t,g=!e.opts.allErrors,D,m="data"+(h||""),w="valid"+u;if(e.schema===!1){e.isTop?g=!0:s+=" var "+w+" = false; ";var p=p||[];p.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '"+(D||"false schema")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(v)+" , params: {} ",e.opts.messages!==!1&&(s+=" , message: 'boolean schema is false' "),e.opts.verbose&&(s+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),s+=" } "):s+=" {} ";var y=s;s=p.pop(),!e.compositeRule&&g?e.async?s+=" throw new ValidationError(["+y+"]); ":s+=" validate.errors = ["+y+"]; return false; ":s+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?i?s+=" return data; ":s+=" validate.errors = null; return true; ":s+=" var "+w+" = true; ";return e.isTop&&(s+=" }; return validate; "),s}if(e.isTop){var S=e.isTop,u=e.level=0,h=e.dataLevel=0,m="data";if(e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[""],e.schema.default!==void 0&&e.opts.useDefaults&&e.opts.strictDefaults){var $="default is ignored in the schema root";if(e.opts.strictDefaults==="log")e.logger.warn($);else throw new Error($)}s+=" var vErrors = null; ",s+=" var errors = 0;     ",s+=" if (rootData === undefined) rootData = data; "}else{var u=e.level,h=e.dataLevel,m="data"+(h||"");if(o&&(e.baseId=e.resolve.url(e.baseId,o)),i&&!e.async)throw new Error("async schema in sync schema");s+=" var errs_"+u+" = errors;"}var w="valid"+u,g=!e.opts.allErrors,O="",R="",D,A=e.schema.type,j=Array.isArray(A);if(A&&e.opts.nullable&&e.schema.nullable===!0&&(j?A.indexOf("null")==-1&&(A=A.concat("null")):A!="null"&&(A=[A,"null"],j=!0)),j&&A.length==1&&(A=A[0],j=!1),e.schema.$ref&&a){if(e.opts.extendRefs=="fail")throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');e.opts.extendRefs!==!0&&(a=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(s+=" "+e.RULES.all.$comment.code(e,"$comment")),A){if(e.opts.coerceTypes)var x=e.util.coerceToTypes(e.opts.coerceTypes,A);var k=e.RULES.types[A];if(x||j||k===!0||k&&!Ue(k)){var l=e.schemaPath+".type",v=e.errSchemaPath+"/type",l=e.schemaPath+".type",v=e.errSchemaPath+"/type",q=j?"checkDataTypes":"checkDataType";if(s+=" if ("+e.util[q](A,m,e.opts.strictNumbers,!0)+") { ",x){var C="dataType"+u,F="coerced"+u;s+=" var "+C+" = typeof "+m+"; var "+F+" = undefined; ",e.opts.coerceTypes=="array"&&(s+=" if ("+C+" == 'object' && Array.isArray("+m+") && "+m+".length == 1) { "+m+" = "+m+"[0]; "+C+" = typeof "+m+"; if ("+e.util.checkDataType(e.schema.type,m,e.opts.strictNumbers)+") "+F+" = "+m+"; } "),s+=" if ("+F+" !== undefined) ; ";var Q=x;if(Q)for(var K,z=-1,Y=Q.length-1;z<Y;)K=Q[z+=1],K=="string"?s+=" else if ("+C+" == 'number' || "+C+" == 'boolean') "+F+" = '' + "+m+"; else if ("+m+" === null) "+F+" = ''; ":K=="number"||K=="integer"?(s+=" else if ("+C+" == 'boolean' || "+m+" === null || ("+C+" == 'string' && "+m+" && "+m+" == +"+m+" ",K=="integer"&&(s+=" && !("+m+" % 1)"),s+=")) "+F+" = +"+m+"; "):K=="boolean"?s+=" else if ("+m+" === 'false' || "+m+" === 0 || "+m+" === null) "+F+" = false; else if ("+m+" === 'true' || "+m+" === 1) "+F+" = true; ":K=="null"?s+=" else if ("+m+" === '' || "+m+" === 0 || "+m+" === false) "+F+" = null; ":e.opts.coerceTypes=="array"&&K=="array"&&(s+=" else if ("+C+" == 'string' || "+C+" == 'number' || "+C+" == 'boolean' || "+m+" == null) "+F+" = ["+m+"]; ");s+=" else {   ";var p=p||[];p.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '"+(D||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(v)+" , params: { type: '",j?s+=""+A.join(","):s+=""+A,s+="' } ",e.opts.messages!==!1&&(s+=" , message: 'should be ",j?s+=""+A.join(","):s+=""+A,s+="' "),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),s+=" } "):s+=" {} ";var y=s;s=p.pop(),!e.compositeRule&&g?e.async?s+=" throw new ValidationError(["+y+"]); ":s+=" validate.errors = ["+y+"]; return false; ":s+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } if ("+F+" !== undefined) {  ";var V=h?"data"+(h-1||""):"parentData",le=h?e.dataPathArr[h]:"parentDataProperty";s+=" "+m+" = "+F+"; ",h||(s+="if ("+V+" !== undefined)"),s+=" "+V+"["+le+"] = "+F+"; } "}else{var p=p||[];p.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '"+(D||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(v)+" , params: { type: '",j?s+=""+A.join(","):s+=""+A,s+="' } ",e.opts.messages!==!1&&(s+=" , message: 'should be ",j?s+=""+A.join(","):s+=""+A,s+="' "),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),s+=" } "):s+=" {} ";var y=s;s=p.pop(),!e.compositeRule&&g?e.async?s+=" throw new ValidationError(["+y+"]); ":s+=" validate.errors = ["+y+"]; return false; ":s+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}s+=" } "}}if(e.schema.$ref&&!a)s+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",g&&(s+=" } if (errors === ",S?s+="0":s+="errs_"+u,s+=") { ",R+="}");else{var J=e.RULES;if(J){for(var k,Z=-1,N=J.length-1;Z<N;)if(k=J[Z+=1],Ue(k)){if(k.type&&(s+=" if ("+e.util.checkDataType(k.type,m,e.opts.strictNumbers)+") { "),e.opts.useDefaults){if(k.type=="object"&&e.schema.properties){var f=e.schema.properties,L=Object.keys(f),M=L;if(M)for(var W,Te=-1,he=M.length-1;Te<he;){W=M[Te+=1];var be=f[W];if(be.default!==void 0){var ve=m+e.util.getProperty(W);if(e.compositeRule){if(e.opts.strictDefaults){var $="default is ignored for: "+ve;if(e.opts.strictDefaults==="log")e.logger.warn($);else throw new Error($)}}else s+=" if ("+ve+" === undefined ",e.opts.useDefaults=="empty"&&(s+=" || "+ve+" === null || "+ve+" === '' "),s+=" ) "+ve+" = ",e.opts.useDefaults=="shared"?s+=" "+e.useDefault(be.default)+" ":s+=" "+JSON.stringify(be.default)+" ",s+="; "}}}else if(k.type=="array"&&Array.isArray(e.schema.items)){var xt=e.schema.items;if(xt){for(var be,z=-1,Xe=xt.length-1;z<Xe;)if(be=xt[z+=1],be.default!==void 0){var ve=m+"["+z+"]";if(e.compositeRule){if(e.opts.strictDefaults){var $="default is ignored for: "+ve;if(e.opts.strictDefaults==="log")e.logger.warn($);else throw new Error($)}}else s+=" if ("+ve+" === undefined ",e.opts.useDefaults=="empty"&&(s+=" || "+ve+" === null || "+ve+" === '' "),s+=" ) "+ve+" = ",e.opts.useDefaults=="shared"?s+=" "+e.useDefault(be.default)+" ":s+=" "+JSON.stringify(be.default)+" ",s+="; "}}}}var ye=k.rules;if(ye){for(var dt,st=-1,kt=ye.length-1;st<kt;)if(dt=ye[st+=1],Er(dt)){var Dt=dt.code(e,dt.keyword,k.type);Dt&&(s+=" "+Dt+" ",g&&(O+="}"))}}if(g&&(s+=" "+O+" ",O=""),k.type&&(s+=" } ",A&&A===k.type&&!x)){s+=" else { ";var l=e.schemaPath+".type",v=e.errSchemaPath+"/type",p=p||[];p.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '"+(D||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(v)+" , params: { type: '",j?s+=""+A.join(","):s+=""+A,s+="' } ",e.opts.messages!==!1&&(s+=" , message: 'should be ",j?s+=""+A.join(","):s+=""+A,s+="' "),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),s+=" } "):s+=" {} ";var y=s;s=p.pop(),!e.compositeRule&&g?e.async?s+=" throw new ValidationError(["+y+"]); ":s+=" validate.errors = ["+y+"]; return false; ":s+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } "}g&&(s+=" if (errors === ",S?s+="0":s+="errs_"+u,s+=") { ",R+="}")}}}g&&(s+=" "+R+" "),S?(i?(s+=" if (errors === 0) return data;           ",s+=" else throw new ValidationError(vErrors); "):(s+=" validate.errors = vErrors; ",s+=" return errors === 0;       "),s+=" }; return validate;"):s+=" var "+w+" = errors === errs_"+u+";";function Ue(ir){for(var Hr=ir.rules,mr=0;mr<Hr.length;mr++)if(Er(Hr[mr]))return!0}function Er(ir){return e.schema[ir.keyword]!==void 0||ir.implements&&fr(ir)}function fr(ir){for(var Hr=ir.implements,mr=0;mr<Hr.length;mr++)if(e.schema[Hr[mr]]!==void 0)return!0}return s}});var Dd=E((l4,kd)=>{"use strict";var zi=Hi(),Ui=Vt(),qd=Vi(),eR=vl(),jd=yl(),rR=Ui.ucs2length,tR=pt(),sR=qd.Validation;kd.exports=gl;function gl(r,e,t,n){var s=this,i=this._opts,a=[void 0],o={},c=[],d={},u=[],h={},f=[];e=e||{schema:r,refVal:a,refs:o};var l=nR.call(this,r,e,n),v=this._compilations[l.index];if(l.compiling)return v.callValidate=$;var m=this._formats,p=this.RULES;try{var y=w(r,e,t,n);v.validate=y;var S=v.callValidate;return S&&(S.schema=y.schema,S.errors=null,S.refs=y.refs,S.refVal=y.refVal,S.root=y.root,S.$async=y.$async,i.sourceCode&&(S.source=y.source)),y}finally{iR.call(this,r,e,n)}function $(){var q=v.validate,C=q.apply(this,arguments);return $.errors=q.errors,C}function w(q,C,F,Q){var K=!C||C&&C.schema==q;if(C.schema!=e.schema)return gl.call(s,q,C,F,Q);var z=q.$async===!0,Y=jd({isTop:!0,schema:q,isRoot:K,baseId:Q,root:C,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:qd.MissingRef,RULES:p,validate:jd,util:Ui,resolve:zi,resolveRef:g,usePattern:j,useDefault:x,useCustomRule:k,opts:i,formats:m,logger:s.logger,self:s});Y=Bi(a,lR)+Bi(c,aR)+Bi(u,oR)+Bi(f,uR)+Y,i.processCode&&(Y=i.processCode(Y,q));var V;try{var le=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",Y);V=le(s,p,m,e,a,u,f,tR,rR,sR),a[0]=V}catch(J){throw s.logger.error("Error compiling schema, function code:",Y),J}return V.schema=q,V.errors=null,V.refs=o,V.refVal=a,V.root=K?V:C,z&&(V.$async=!0),i.sourceCode===!0&&(V.source={code:Y,patterns:c,defaults:u}),V}function g(q,C,F){C=zi.url(q,C);var Q=o[C],K,z;if(Q!==void 0)return K=a[Q],z="refVal["+Q+"]",A(K,z);if(!F&&e.refs){var Y=e.refs[C];if(Y!==void 0)return K=e.refVal[Y],z=O(C,K),A(K,z)}z=O(C);var V=zi.call(s,w,e,C);if(V===void 0){var le=t&&t[C];le&&(V=zi.inlineRef(le,i.inlineRefs)?le:gl.call(s,le,e,t,q))}if(V===void 0)R(C);else return D(C,V),A(V,z)}function O(q,C){var F=a.length;return a[F]=C,o[q]=F,"refVal"+F}function R(q){delete o[q]}function D(q,C){var F=o[q];a[F]=C}function A(q,C){return typeof q=="object"||typeof q=="boolean"?{code:C,schema:q,inline:!0}:{code:C,$async:q&&!!q.$async}}function j(q){var C=d[q];return C===void 0&&(C=d[q]=c.length,c[C]=q),"pattern"+C}function x(q){switch(typeof q){case"boolean":case"number":return""+q;case"string":return Ui.toQuotedString(q);case"object":if(q===null)return"null";var C=eR(q),F=h[C];return F===void 0&&(F=h[C]=u.length,u[F]=q),"default"+F}}function k(q,C,F,Q){if(s._opts.validateSchema!==!1){var K=q.definition.dependencies;if(K&&!K.every(function(M){return Object.prototype.hasOwnProperty.call(F,M)}))throw new Error("parent schema must have all required keywords: "+K.join(","));var z=q.definition.validateSchema;if(z){var Y=z(C);if(!Y){var V="keyword schema is invalid: "+s.errorsText(z.errors);if(s._opts.validateSchema=="log")s.logger.error(V);else throw new Error(V)}}}var le=q.definition.compile,J=q.definition.inline,Z=q.definition.macro,N;if(le)N=le.call(s,C,F,Q);else if(Z)N=Z.call(s,C,F,Q),i.validateSchema!==!1&&s.validateSchema(N,!0);else if(J)N=J.call(s,Q,q.keyword,C,F);else if(N=q.definition.validate,!N)return;if(N===void 0)throw new Error('custom keyword "'+q.keyword+'"failed to compile');var L=f.length;return f[L]=N,{code:"customRule"+L,validate:N}}}function nR(r,e,t){var n=xd.call(this,r,e,t);return n>=0?{index:n,compiling:!0}:(n=this._compilations.length,this._compilations[n]={schema:r,root:e,baseId:t},{index:n,compiling:!1})}function iR(r,e,t){var n=xd.call(this,r,e,t);n>=0&&this._compilations.splice(n,1)}function xd(r,e,t){for(var n=0;n<this._compilations.length;n++){var s=this._compilations[n];if(s.schema==r&&s.root==e&&s.baseId==t)return n}return-1}function aR(r,e){return"var pattern"+r+" = new RegExp("+Ui.toQuotedString(e[r])+");"}function oR(r){return"var default"+r+" = defaults["+r+"];"}function lR(r,e){return e[r]===void 0?"":"var refVal"+r+" = refVal["+r+"];"}function uR(r){return"var customRule"+r+" = customRules["+r+"];"}function Bi(r,e){if(!r.length)return"";for(var t="",n=0;n<r.length;n++)t+=e(n,r);return t}});var Fd=E((u4,Ld)=>{"use strict";var Gi=Ld.exports=function(){this._cache={}};Gi.prototype.put=function(e,t){this._cache[e]=t};Gi.prototype.get=function(e){return this._cache[e]};Gi.prototype.del=function(e){delete this._cache[e]};Gi.prototype.clear=function(){this._cache={}}});var bl=E((c4,Yd)=>{"use strict";var cR=Vt(),fR=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,hR=[0,31,28,31,30,31,30,31,31,30,31,30,31],dR=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,Md=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,pR=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,mR=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,Hd=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,Vd=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,zd=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,Ud=/^(?:\/(?:[^~/]|~0|~1)*)*$/,Bd=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,Gd=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;Yd.exports=Ki;function Ki(r){return r=r=="full"?"full":"fast",cR.copy(Ki[r])}Ki.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":Hd,url:Vd,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:Md,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:Qd,uuid:zd,"json-pointer":Ud,"json-pointer-uri-fragment":Bd,"relative-json-pointer":Gd};Ki.full={date:Kd,time:Jd,"date-time":gR,uri:ER,"uri-reference":mR,"uri-template":Hd,url:Vd,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:Md,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:Qd,uuid:zd,"json-pointer":Ud,"json-pointer-uri-fragment":Bd,"relative-json-pointer":Gd};function vR(r){return r%4==0&&(r%100!=0||r%400==0)}function Kd(r){var e=r.match(fR);if(!e)return!1;var t=+e[1],n=+e[2],s=+e[3];return n>=1&&n<=12&&s>=1&&s<=(n==2&&vR(t)?29:hR[n])}function Jd(r,e){var t=r.match(dR);if(!t)return!1;var n=t[1],s=t[2],i=t[3],a=t[5];return(n<=23&&s<=59&&i<=59||n==23&&s==59&&i==60)&&(!e||a)}var yR=/t|\s/i;function gR(r){var e=r.split(yR);return e.length==2&&Kd(e[0])&&Jd(e[1],!0)}var bR=/\/|:/;function ER(r){return bR.test(r)&&pR.test(r)}var wR=/[^\\]\\Z/;function Qd(r){if(wR.test(r))return!1;try{return new RegExp(r),!0}catch{return!1}}});var Xd=E((f4,Wd)=>{"use strict";Wd.exports=function(e,t,n){var s=" ",i=e.level,a=e.dataLevel,o=e.schema[t],c=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,u="data"+(a||""),h="valid"+i,f,l;if(o=="#"||o=="#/")e.isRoot?(f=e.async,l="validate"):(f=e.root.schema.$async===!0,l="root.refVal[0]");else{var v=e.resolveRef(e.baseId,o,e.isRoot);if(v===void 0){var m=e.MissingRefError.message(e.baseId,o);if(e.opts.missingRefs=="fail"){e.logger.error(m);var p=p||[];p.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { ref: '"+e.util.escapeQuotes(o)+"' } ",e.opts.messages!==!1&&(s+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(o)+"' "),e.opts.verbose&&(s+=" , schema: "+e.util.toQuotedString(o)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),s+=" } "):s+=" {} ";var y=s;s=p.pop(),!e.compositeRule&&d?e.async?s+=" throw new ValidationError(["+y+"]); ":s+=" validate.errors = ["+y+"]; return false; ":s+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",d&&(s+=" if (false) { ")}else if(e.opts.missingRefs=="ignore")e.logger.warn(m),d&&(s+=" if (true) { ");else throw new e.MissingRefError(e.baseId,o,m)}else if(v.inline){var S=e.util.copy(e);S.level++;var $="valid"+S.level;S.schema=v.schema,S.schemaPath="",S.errSchemaPath=o;var w=e.validate(S).replace(/validate\.schema/g,v.code);s+=" "+w+" ",d&&(s+=" if ("+$+") { ")}else f=v.$async===!0||e.async&&v.$async!==!1,l=v.code}if(l){var p=p||[];p.push(s),s="",e.opts.passContext?s+=" "+l+".call(this, ":s+=" "+l+"( ",s+=" "+u+", (dataPath || '')",e.errorPath!='""'&&(s+=" + "+e.errorPath);var g=a?"data"+(a-1||""):"parentData",O=a?e.dataPathArr[a]:"parentDataProperty";s+=" , "+g+" , "+O+", rootData)  ";var R=s;if(s=p.pop(),f){if(!e.async)throw new Error("async schema referenced by sync schema");d&&(s+=" var "+h+"; "),s+=" try { await "+R+"; ",d&&(s+=" "+h+" = true; "),s+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",d&&(s+=" "+h+" = false; "),s+=" } ",d&&(s+=" if ("+h+") { ")}else s+=" if (!"+R+") { if (vErrors === null) vErrors = "+l+".errors; else vErrors = vErrors.concat("+l+".errors); errors = vErrors.length; } ",d&&(s+=" else { ")}return s}});var ep=E((h4,Zd)=>{"use strict";Zd.exports=function(e,t,n){var s=" ",i=e.schema[t],a=e.schemaPath+e.util.getProperty(t),o=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,d=e.util.copy(e),u="";d.level++;var h="valid"+d.level,f=d.baseId,l=!0,v=i;if(v)for(var m,p=-1,y=v.length-1;p<y;)m=v[p+=1],(e.opts.strictKeywords?typeof m=="object"&&Object.keys(m).length>0||m===!1:e.util.schemaHasRules(m,e.RULES.all))&&(l=!1,d.schema=m,d.schemaPath=a+"["+p+"]",d.errSchemaPath=o+"/"+p,s+="  "+e.validate(d)+" ",d.baseId=f,c&&(s+=" if ("+h+") { ",u+="}"));return c&&(l?s+=" if (true) { ":s+=" "+u.slice(0,-1)+" "),s}});var tp=E((d4,rp)=>{"use strict";rp.exports=function(e,t,n){var s=" ",i=e.level,a=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h="data"+(a||""),f="valid"+i,l="errs__"+i,v=e.util.copy(e),m="";v.level++;var p="valid"+v.level,y=o.every(function(D){return e.opts.strictKeywords?typeof D=="object"&&Object.keys(D).length>0||D===!1:e.util.schemaHasRules(D,e.RULES.all)});if(y){var S=v.baseId;s+=" var "+l+" = errors; var "+f+" = false;  ";var $=e.compositeRule;e.compositeRule=v.compositeRule=!0;var w=o;if(w)for(var g,O=-1,R=w.length-1;O<R;)g=w[O+=1],v.schema=g,v.schemaPath=c+"["+O+"]",v.errSchemaPath=d+"/"+O,s+="  "+e.validate(v)+" ",v.baseId=S,s+=" "+f+" = "+f+" || "+p+"; if (!"+f+") { ",m+="}";e.compositeRule=v.compositeRule=$,s+=" "+m+" if (!"+f+") {   var err =   ",e.createErrors!==!1?(s+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: {} ",e.opts.messages!==!1&&(s+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(s+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?s+=" throw new ValidationError(vErrors); ":s+=" validate.errors = vErrors; return false; "),s+=" } else {  errors = "+l+"; if (vErrors !== null) { if ("+l+") vErrors.length = "+l+"; else vErrors = null; } ",e.opts.allErrors&&(s+=" } ")}else u&&(s+=" if (true) { ");return s}});var np=E((p4,sp)=>{"use strict";sp.exports=function(e,t,n){var s=" ",i=e.schema[t],a=e.errSchemaPath+"/"+t,o=!e.opts.allErrors,c=e.util.toQuotedString(i);return e.opts.$comment===!0?s+=" console.log("+c+");":typeof e.opts.$comment=="function"&&(s+=" self._opts.$comment("+c+", "+e.util.toQuotedString(a)+", validate.root.schema);"),s}});var ap=E((m4,ip)=>{"use strict";ip.exports=function(e,t,n){var s=" ",i=e.level,a=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h="data"+(a||""),f="valid"+i,l=e.opts.$data&&o&&o.$data,v;l?(s+=" var schema"+i+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ",v="schema"+i):v=o,l||(s+=" var schema"+i+" = validate.schema"+c+";"),s+="var "+f+" = equal("+h+", schema"+i+"); if (!"+f+") {   ";var m=m||[];m.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { allowedValue: schema"+i+" } ",e.opts.messages!==!1&&(s+=" , message: 'should be equal to constant' "),e.opts.verbose&&(s+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ";var p=s;return s=m.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+p+"]); ":s+=" validate.errors = ["+p+"]; return false; ":s+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" }",u&&(s+=" else { "),s}});var lp=E((v4,op)=>{"use strict";op.exports=function(e,t,n){var s=" ",i=e.level,a=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h="data"+(a||""),f="valid"+i,l="errs__"+i,v=e.util.copy(e),m="";v.level++;var p="valid"+v.level,y="i"+i,S=v.dataLevel=e.dataLevel+1,$="data"+S,w=e.baseId,g=e.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:e.util.schemaHasRules(o,e.RULES.all);if(s+="var "+l+" = errors;var "+f+";",g){var O=e.compositeRule;e.compositeRule=v.compositeRule=!0,v.schema=o,v.schemaPath=c,v.errSchemaPath=d,s+=" var "+p+" = false; for (var "+y+" = 0; "+y+" < "+h+".length; "+y+"++) { ",v.errorPath=e.util.getPathExpr(e.errorPath,y,e.opts.jsonPointers,!0);var R=h+"["+y+"]";v.dataPathArr[S]=y;var D=e.validate(v);v.baseId=w,e.util.varOccurences(D,$)<2?s+=" "+e.util.varReplace(D,$,R)+" ":s+=" var "+$+" = "+R+"; "+D+" ",s+=" if ("+p+") break; }  ",e.compositeRule=v.compositeRule=O,s+=" "+m+" if (!"+p+") {"}else s+=" if ("+h+".length == 0) {";var A=A||[];A.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: {} ",e.opts.messages!==!1&&(s+=" , message: 'should contain a valid item' "),e.opts.verbose&&(s+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ";var j=s;return s=A.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+j+"]); ":s+=" validate.errors = ["+j+"]; return false; ":s+=" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } else { ",g&&(s+="  errors = "+l+"; if (vErrors !== null) { if ("+l+") vErrors.length = "+l+"; else vErrors = null; } "),e.opts.allErrors&&(s+=" } "),s}});var cp=E((y4,up)=>{"use strict";up.exports=function(e,t,n){var s=" ",i=e.level,a=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h="data"+(a||""),f="errs__"+i,l=e.util.copy(e),v="";l.level++;var m="valid"+l.level,p={},y={},S=e.opts.ownProperties;for(O in o)if(O!="__proto__"){var $=o[O],w=Array.isArray($)?y:p;w[O]=$}s+="var "+f+" = errors;";var g=e.errorPath;s+="var missing"+i+";";for(var O in y)if(w=y[O],w.length){if(s+=" if ( "+h+e.util.getProperty(O)+" !== undefined ",S&&(s+=" && Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes(O)+"') "),u){s+=" && ( ";var R=w;if(R)for(var D,A=-1,j=R.length-1;A<j;){D=R[A+=1],A&&(s+=" || ");var x=e.util.getProperty(D),k=h+x;s+=" ( ( "+k+" === undefined ",S&&(s+=" || ! Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes(D)+"') "),s+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?D:x)+") ) "}s+=")) {  ";var q="missing"+i,C="' + "+q+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(g,q,!0):g+" + "+q);var F=F||[];F.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { property: '"+e.util.escapeQuotes(O)+"', missingProperty: '"+C+"', depsCount: "+w.length+", deps: '"+e.util.escapeQuotes(w.length==1?w[0]:w.join(", "))+"' } ",e.opts.messages!==!1&&(s+=" , message: 'should have ",w.length==1?s+="property "+e.util.escapeQuotes(w[0]):s+="properties "+e.util.escapeQuotes(w.join(", ")),s+=" when property "+e.util.escapeQuotes(O)+" is present' "),e.opts.verbose&&(s+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ";var Q=s;s=F.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+Q+"]); ":s+=" validate.errors = ["+Q+"]; return false; ":s+=" var err = "+Q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{s+=" ) { ";var K=w;if(K)for(var D,z=-1,Y=K.length-1;z<Y;){D=K[z+=1];var x=e.util.getProperty(D),C=e.util.escapeQuotes(D),k=h+x;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(g,D,e.opts.jsonPointers)),s+=" if ( "+k+" === undefined ",S&&(s+=" || ! Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes(D)+"') "),s+=") {  var err =   ",e.createErrors!==!1?(s+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { property: '"+e.util.escapeQuotes(O)+"', missingProperty: '"+C+"', depsCount: "+w.length+", deps: '"+e.util.escapeQuotes(w.length==1?w[0]:w.join(", "))+"' } ",e.opts.messages!==!1&&(s+=" , message: 'should have ",w.length==1?s+="property "+e.util.escapeQuotes(w[0]):s+="properties "+e.util.escapeQuotes(w.join(", ")),s+=" when property "+e.util.escapeQuotes(O)+" is present' "),e.opts.verbose&&(s+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}s+=" }   ",u&&(v+="}",s+=" else { ")}e.errorPath=g;var V=l.baseId;for(var O in p){var $=p[O];(e.opts.strictKeywords?typeof $=="object"&&Object.keys($).length>0||$===!1:e.util.schemaHasRules($,e.RULES.all))&&(s+=" "+m+" = true; if ( "+h+e.util.getProperty(O)+" !== undefined ",S&&(s+=" && Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes(O)+"') "),s+=") { ",l.schema=$,l.schemaPath=c+e.util.getProperty(O),l.errSchemaPath=d+"/"+e.util.escapeFragment(O),s+="  "+e.validate(l)+" ",l.baseId=V,s+=" }  ",u&&(s+=" if ("+m+") { ",v+="}"))}return u&&(s+="   "+v+" if ("+f+" == errors) {"),s}});var hp=E((g4,fp)=>{"use strict";fp.exports=function(e,t,n){var s=" ",i=e.level,a=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h="data"+(a||""),f="valid"+i,l=e.opts.$data&&o&&o.$data,v;l?(s+=" var schema"+i+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ",v="schema"+i):v=o;var m="i"+i,p="schema"+i;l||(s+=" var "+p+" = validate.schema"+c+";"),s+="var "+f+";",l&&(s+=" if (schema"+i+" === undefined) "+f+" = true; else if (!Array.isArray(schema"+i+")) "+f+" = false; else {"),s+=""+f+" = false;for (var "+m+"=0; "+m+"<"+p+".length; "+m+"++) if (equal("+h+", "+p+"["+m+"])) { "+f+" = true; break; }",l&&(s+="  }  "),s+=" if (!"+f+") {   ";var y=y||[];y.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { allowedValues: schema"+i+" } ",e.opts.messages!==!1&&(s+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(s+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ";var S=s;return s=y.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+S+"]); ":s+=" validate.errors = ["+S+"]; return false; ":s+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" }",u&&(s+=" else { "),s}});var pp=E((b4,dp)=>{"use strict";dp.exports=function(e,t,n){var s=" ",i=e.level,a=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h="data"+(a||"");if(e.opts.format===!1)return u&&(s+=" if (true) { "),s;var f=e.opts.$data&&o&&o.$data,l;f?(s+=" var schema"+i+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ",l="schema"+i):l=o;var v=e.opts.unknownFormats,m=Array.isArray(v);if(f){var p="format"+i,y="isObject"+i,S="formatType"+i;s+=" var "+p+" = formats["+l+"]; var "+y+" = typeof "+p+" == 'object' && !("+p+" instanceof RegExp) && "+p+".validate; var "+S+" = "+y+" && "+p+".type || 'string'; if ("+y+") { ",e.async&&(s+=" var async"+i+" = "+p+".async; "),s+=" "+p+" = "+p+".validate; } if (  ",f&&(s+=" ("+l+" !== undefined && typeof "+l+" != 'string') || "),s+=" (",v!="ignore"&&(s+=" ("+l+" && !"+p+" ",m&&(s+=" && self._opts.unknownFormats.indexOf("+l+") == -1 "),s+=") || "),s+=" ("+p+" && "+S+" == '"+n+"' && !(typeof "+p+" == 'function' ? ",e.async?s+=" (async"+i+" ? await "+p+"("+h+") : "+p+"("+h+")) ":s+=" "+p+"("+h+") ",s+=" : "+p+".test("+h+"))))) {"}else{var p=e.formats[o];if(!p){if(v=="ignore")return e.logger.warn('unknown format "'+o+'" ignored in schema at path "'+e.errSchemaPath+'"'),u&&(s+=" if (true) { "),s;if(m&&v.indexOf(o)>=0)return u&&(s+=" if (true) { "),s;throw new Error('unknown format "'+o+'" is used in schema at path "'+e.errSchemaPath+'"')}var y=typeof p=="object"&&!(p instanceof RegExp)&&p.validate,S=y&&p.type||"string";if(y){var $=p.async===!0;p=p.validate}if(S!=n)return u&&(s+=" if (true) { "),s;if($){if(!e.async)throw new Error("async format in sync schema");var w="formats"+e.util.getProperty(o)+".validate";s+=" if (!(await "+w+"("+h+"))) { "}else{s+=" if (! ";var w="formats"+e.util.getProperty(o);y&&(w+=".validate"),typeof p=="function"?s+=" "+w+"("+h+") ":s+=" "+w+".test("+h+") ",s+=") { "}}var g=g||[];g.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { format:  ",f?s+=""+l:s+=""+e.util.toQuotedString(o),s+="  } ",e.opts.messages!==!1&&(s+=` , message: 'should match format "`,f?s+="' + "+l+" + '":s+=""+e.util.escapeQuotes(o),s+=`"' `),e.opts.verbose&&(s+=" , schema:  ",f?s+="validate.schema"+c:s+=""+e.util.toQuotedString(o),s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ";var O=s;return s=g.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+O+"]); ":s+=" validate.errors = ["+O+"]; return false; ":s+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } ",u&&(s+=" else { "),s}});var vp=E((E4,mp)=>{"use strict";mp.exports=function(e,t,n){var s=" ",i=e.level,a=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h="data"+(a||""),f="valid"+i,l="errs__"+i,v=e.util.copy(e);v.level++;var m="valid"+v.level,p=e.schema.then,y=e.schema.else,S=p!==void 0&&(e.opts.strictKeywords?typeof p=="object"&&Object.keys(p).length>0||p===!1:e.util.schemaHasRules(p,e.RULES.all)),$=y!==void 0&&(e.opts.strictKeywords?typeof y=="object"&&Object.keys(y).length>0||y===!1:e.util.schemaHasRules(y,e.RULES.all)),w=v.baseId;if(S||$){var g;v.createErrors=!1,v.schema=o,v.schemaPath=c,v.errSchemaPath=d,s+=" var "+l+" = errors; var "+f+" = true;  ";var O=e.compositeRule;e.compositeRule=v.compositeRule=!0,s+="  "+e.validate(v)+" ",v.baseId=w,v.createErrors=!0,s+="  errors = "+l+"; if (vErrors !== null) { if ("+l+") vErrors.length = "+l+"; else vErrors = null; }  ",e.compositeRule=v.compositeRule=O,S?(s+=" if ("+m+") {  ",v.schema=e.schema.then,v.schemaPath=e.schemaPath+".then",v.errSchemaPath=e.errSchemaPath+"/then",s+="  "+e.validate(v)+" ",v.baseId=w,s+=" "+f+" = "+m+"; ",S&&$?(g="ifClause"+i,s+=" var "+g+" = 'then'; "):g="'then'",s+=" } ",$&&(s+=" else { ")):s+=" if (!"+m+") { ",$&&(v.schema=e.schema.else,v.schemaPath=e.schemaPath+".else",v.errSchemaPath=e.errSchemaPath+"/else",s+="  "+e.validate(v)+" ",v.baseId=w,s+=" "+f+" = "+m+"; ",S&&$?(g="ifClause"+i,s+=" var "+g+" = 'else'; "):g="'else'",s+=" } "),s+=" if (!"+f+") {   var err =   ",e.createErrors!==!1?(s+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { failingKeyword: "+g+" } ",e.opts.messages!==!1&&(s+=` , message: 'should match "' + `+g+` + '" schema' `),e.opts.verbose&&(s+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?s+=" throw new ValidationError(vErrors); ":s+=" validate.errors = vErrors; return false; "),s+=" }   ",u&&(s+=" else { ")}else u&&(s+=" if (true) { ");return s}});var gp=E((w4,yp)=>{"use strict";yp.exports=function(e,t,n){var s=" ",i=e.level,a=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h="data"+(a||""),f="valid"+i,l="errs__"+i,v=e.util.copy(e),m="";v.level++;var p="valid"+v.level,y="i"+i,S=v.dataLevel=e.dataLevel+1,$="data"+S,w=e.baseId;if(s+="var "+l+" = errors;var "+f+";",Array.isArray(o)){var g=e.schema.additionalItems;if(g===!1){s+=" "+f+" = "+h+".length <= "+o.length+"; ";var O=d;d=e.errSchemaPath+"/additionalItems",s+="  if (!"+f+") {   ";var R=R||[];R.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { limit: "+o.length+" } ",e.opts.messages!==!1&&(s+=" , message: 'should NOT have more than "+o.length+" items' "),e.opts.verbose&&(s+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ";var D=s;s=R.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+D+"]); ":s+=" validate.errors = ["+D+"]; return false; ":s+=" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } ",d=O,u&&(m+="}",s+=" else { ")}var A=o;if(A){for(var j,x=-1,k=A.length-1;x<k;)if(j=A[x+=1],e.opts.strictKeywords?typeof j=="object"&&Object.keys(j).length>0||j===!1:e.util.schemaHasRules(j,e.RULES.all)){s+=" "+p+" = true; if ("+h+".length > "+x+") { ";var q=h+"["+x+"]";v.schema=j,v.schemaPath=c+"["+x+"]",v.errSchemaPath=d+"/"+x,v.errorPath=e.util.getPathExpr(e.errorPath,x,e.opts.jsonPointers,!0),v.dataPathArr[S]=x;var C=e.validate(v);v.baseId=w,e.util.varOccurences(C,$)<2?s+=" "+e.util.varReplace(C,$,q)+" ":s+=" var "+$+" = "+q+"; "+C+" ",s+=" }  ",u&&(s+=" if ("+p+") { ",m+="}")}}if(typeof g=="object"&&(e.opts.strictKeywords?typeof g=="object"&&Object.keys(g).length>0||g===!1:e.util.schemaHasRules(g,e.RULES.all))){v.schema=g,v.schemaPath=e.schemaPath+".additionalItems",v.errSchemaPath=e.errSchemaPath+"/additionalItems",s+=" "+p+" = true; if ("+h+".length > "+o.length+") {  for (var "+y+" = "+o.length+"; "+y+" < "+h+".length; "+y+"++) { ",v.errorPath=e.util.getPathExpr(e.errorPath,y,e.opts.jsonPointers,!0);var q=h+"["+y+"]";v.dataPathArr[S]=y;var C=e.validate(v);v.baseId=w,e.util.varOccurences(C,$)<2?s+=" "+e.util.varReplace(C,$,q)+" ":s+=" var "+$+" = "+q+"; "+C+" ",u&&(s+=" if (!"+p+") break; "),s+=" } }  ",u&&(s+=" if ("+p+") { ",m+="}")}}else if(e.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:e.util.schemaHasRules(o,e.RULES.all)){v.schema=o,v.schemaPath=c,v.errSchemaPath=d,s+="  for (var "+y+" = "+0+"; "+y+" < "+h+".length; "+y+"++) { ",v.errorPath=e.util.getPathExpr(e.errorPath,y,e.opts.jsonPointers,!0);var q=h+"["+y+"]";v.dataPathArr[S]=y;var C=e.validate(v);v.baseId=w,e.util.varOccurences(C,$)<2?s+=" "+e.util.varReplace(C,$,q)+" ":s+=" var "+$+" = "+q+"; "+C+" ",u&&(s+=" if (!"+p+") break; "),s+=" }"}return u&&(s+=" "+m+" if ("+l+" == errors) {"),s}});var El=E((_4,bp)=>{"use strict";bp.exports=function(e,t,n){var s=" ",i=e.level,a=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h,f="data"+(a||""),l=e.opts.$data&&o&&o.$data,v;l?(s+=" var schema"+i+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ",v="schema"+i):v=o;var m=t=="maximum",p=m?"exclusiveMaximum":"exclusiveMinimum",y=e.schema[p],S=e.opts.$data&&y&&y.$data,$=m?"<":">",w=m?">":"<",h=void 0;if(!(l||typeof o=="number"||o===void 0))throw new Error(t+" must be number");if(!(S||y===void 0||typeof y=="number"||typeof y=="boolean"))throw new Error(p+" must be number or boolean");if(S){var g=e.util.getData(y.$data,a,e.dataPathArr),O="exclusive"+i,R="exclType"+i,D="exclIsNumber"+i,A="op"+i,j="' + "+A+" + '";s+=" var schemaExcl"+i+" = "+g+"; ",g="schemaExcl"+i,s+=" var "+O+"; var "+R+" = typeof "+g+"; if ("+R+" != 'boolean' && "+R+" != 'undefined' && "+R+" != 'number') { ";var h=p,x=x||[];x.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '"+(h||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: {} ",e.opts.messages!==!1&&(s+=" , message: '"+p+" should be boolean' "),e.opts.verbose&&(s+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),s+=" } "):s+=" {} ";var k=s;s=x.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+k+"]); ":s+=" validate.errors = ["+k+"]; return false; ":s+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } else if ( ",l&&(s+=" ("+v+" !== undefined && typeof "+v+" != 'number') || "),s+=" "+R+" == 'number' ? ( ("+O+" = "+v+" === undefined || "+g+" "+$+"= "+v+") ? "+f+" "+w+"= "+g+" : "+f+" "+w+" "+v+" ) : ( ("+O+" = "+g+" === true) ? "+f+" "+w+"= "+v+" : "+f+" "+w+" "+v+" ) || "+f+" !== "+f+") { var op"+i+" = "+O+" ? '"+$+"' : '"+$+"='; ",o===void 0&&(h=p,d=e.errSchemaPath+"/"+p,v=g,l=S)}else{var D=typeof y=="number",j=$;if(D&&l){var A="'"+j+"'";s+=" if ( ",l&&(s+=" ("+v+" !== undefined && typeof "+v+" != 'number') || "),s+=" ( "+v+" === undefined || "+y+" "+$+"= "+v+" ? "+f+" "+w+"= "+y+" : "+f+" "+w+" "+v+" ) || "+f+" !== "+f+") { "}else{D&&o===void 0?(O=!0,h=p,d=e.errSchemaPath+"/"+p,v=y,w+="="):(D&&(v=Math[m?"min":"max"](y,o)),y===(D?v:!0)?(O=!0,h=p,d=e.errSchemaPath+"/"+p,w+="="):(O=!1,j+="="));var A="'"+j+"'";s+=" if ( ",l&&(s+=" ("+v+" !== undefined && typeof "+v+" != 'number') || "),s+=" "+f+" "+w+" "+v+" || "+f+" !== "+f+") { "}}h=h||t;var x=x||[];x.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '"+(h||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { comparison: "+A+", limit: "+v+", exclusive: "+O+" } ",e.opts.messages!==!1&&(s+=" , message: 'should be "+j+" ",l?s+="' + "+v:s+=""+v+"'"),e.opts.verbose&&(s+=" , schema:  ",l?s+="validate.schema"+c:s+=""+o,s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),s+=" } "):s+=" {} ";var k=s;return s=x.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+k+"]); ":s+=" validate.errors = ["+k+"]; return false; ":s+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } ",u&&(s+=" else { "),s}});var wl=E((S4,Ep)=>{"use strict";Ep.exports=function(e,t,n){var s=" ",i=e.level,a=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h,f="data"+(a||""),l=e.opts.$data&&o&&o.$data,v;if(l?(s+=" var schema"+i+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ",v="schema"+i):v=o,!(l||typeof o=="number"))throw new Error(t+" must be number");var m=t=="maxItems"?">":"<";s+="if ( ",l&&(s+=" ("+v+" !== undefined && typeof "+v+" != 'number') || "),s+=" "+f+".length "+m+" "+v+") { ";var h=t,p=p||[];p.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '"+(h||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { limit: "+v+" } ",e.opts.messages!==!1&&(s+=" , message: 'should NOT have ",t=="maxItems"?s+="more":s+="fewer",s+=" than ",l?s+="' + "+v+" + '":s+=""+o,s+=" items' "),e.opts.verbose&&(s+=" , schema:  ",l?s+="validate.schema"+c:s+=""+o,s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),s+=" } "):s+=" {} ";var y=s;return s=p.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+y+"]); ":s+=" validate.errors = ["+y+"]; return false; ":s+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",u&&(s+=" else { "),s}});var _l=E((P4,wp)=>{"use strict";wp.exports=function(e,t,n){var s=" ",i=e.level,a=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h,f="data"+(a||""),l=e.opts.$data&&o&&o.$data,v;if(l?(s+=" var schema"+i+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ",v="schema"+i):v=o,!(l||typeof o=="number"))throw new Error(t+" must be number");var m=t=="maxLength"?">":"<";s+="if ( ",l&&(s+=" ("+v+" !== undefined && typeof "+v+" != 'number') || "),e.opts.unicode===!1?s+=" "+f+".length ":s+=" ucs2length("+f+") ",s+=" "+m+" "+v+") { ";var h=t,p=p||[];p.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '"+(h||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { limit: "+v+" } ",e.opts.messages!==!1&&(s+=" , message: 'should NOT be ",t=="maxLength"?s+="longer":s+="shorter",s+=" than ",l?s+="' + "+v+" + '":s+=""+o,s+=" characters' "),e.opts.verbose&&(s+=" , schema:  ",l?s+="validate.schema"+c:s+=""+o,s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),s+=" } "):s+=" {} ";var y=s;return s=p.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+y+"]); ":s+=" validate.errors = ["+y+"]; return false; ":s+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",u&&(s+=" else { "),s}});var Sl=E(($4,_p)=>{"use strict";_p.exports=function(e,t,n){var s=" ",i=e.level,a=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h,f="data"+(a||""),l=e.opts.$data&&o&&o.$data,v;if(l?(s+=" var schema"+i+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ",v="schema"+i):v=o,!(l||typeof o=="number"))throw new Error(t+" must be number");var m=t=="maxProperties"?">":"<";s+="if ( ",l&&(s+=" ("+v+" !== undefined && typeof "+v+" != 'number') || "),s+=" Object.keys("+f+").length "+m+" "+v+") { ";var h=t,p=p||[];p.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '"+(h||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { limit: "+v+" } ",e.opts.messages!==!1&&(s+=" , message: 'should NOT have ",t=="maxProperties"?s+="more":s+="fewer",s+=" than ",l?s+="' + "+v+" + '":s+=""+o,s+=" properties' "),e.opts.verbose&&(s+=" , schema:  ",l?s+="validate.schema"+c:s+=""+o,s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),s+=" } "):s+=" {} ";var y=s;return s=p.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+y+"]); ":s+=" validate.errors = ["+y+"]; return false; ":s+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",u&&(s+=" else { "),s}});var Pp=E((R4,Sp)=>{"use strict";Sp.exports=function(e,t,n){var s=" ",i=e.level,a=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h="data"+(a||""),f=e.opts.$data&&o&&o.$data,l;if(f?(s+=" var schema"+i+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ",l="schema"+i):l=o,!(f||typeof o=="number"))throw new Error(t+" must be number");s+="var division"+i+";if (",f&&(s+=" "+l+" !== undefined && ( typeof "+l+" != 'number' || "),s+=" (division"+i+" = "+h+" / "+l+", ",e.opts.multipleOfPrecision?s+=" Math.abs(Math.round(division"+i+") - division"+i+") > 1e-"+e.opts.multipleOfPrecision+" ":s+=" division"+i+" !== parseInt(division"+i+") ",s+=" ) ",f&&(s+="  )  "),s+=" ) {   ";var v=v||[];v.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { multipleOf: "+l+" } ",e.opts.messages!==!1&&(s+=" , message: 'should be multiple of ",f?s+="' + "+l:s+=""+l+"'"),e.opts.verbose&&(s+=" , schema:  ",f?s+="validate.schema"+c:s+=""+o,s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ";var m=s;return s=v.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+m+"]); ":s+=" validate.errors = ["+m+"]; return false; ":s+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",u&&(s+=" else { "),s}});var Rp=E((O4,$p)=>{"use strict";$p.exports=function(e,t,n){var s=" ",i=e.level,a=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h="data"+(a||""),f="errs__"+i,l=e.util.copy(e);l.level++;var v="valid"+l.level;if(e.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:e.util.schemaHasRules(o,e.RULES.all)){l.schema=o,l.schemaPath=c,l.errSchemaPath=d,s+=" var "+f+" = errors;  ";var m=e.compositeRule;e.compositeRule=l.compositeRule=!0,l.createErrors=!1;var p;l.opts.allErrors&&(p=l.opts.allErrors,l.opts.allErrors=!1),s+=" "+e.validate(l)+" ",l.createErrors=!0,p&&(l.opts.allErrors=p),e.compositeRule=l.compositeRule=m,s+=" if ("+v+") {   ";var y=y||[];y.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: {} ",e.opts.messages!==!1&&(s+=" , message: 'should NOT be valid' "),e.opts.verbose&&(s+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ";var S=s;s=y.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+S+"]); ":s+=" validate.errors = ["+S+"]; return false; ":s+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } ",e.opts.allErrors&&(s+=" } ")}else s+="  var err =   ",e.createErrors!==!1?(s+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: {} ",e.opts.messages!==!1&&(s+=" , message: 'should NOT be valid' "),e.opts.verbose&&(s+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u&&(s+=" if (false) { ");return s}});var Tp=E((T4,Op)=>{"use strict";Op.exports=function(e,t,n){var s=" ",i=e.level,a=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h="data"+(a||""),f="valid"+i,l="errs__"+i,v=e.util.copy(e),m="";v.level++;var p="valid"+v.level,y=v.baseId,S="prevValid"+i,$="passingSchemas"+i;s+="var "+l+" = errors , "+S+" = false , "+f+" = false , "+$+" = null; ";var w=e.compositeRule;e.compositeRule=v.compositeRule=!0;var g=o;if(g)for(var O,R=-1,D=g.length-1;R<D;)O=g[R+=1],(e.opts.strictKeywords?typeof O=="object"&&Object.keys(O).length>0||O===!1:e.util.schemaHasRules(O,e.RULES.all))?(v.schema=O,v.schemaPath=c+"["+R+"]",v.errSchemaPath=d+"/"+R,s+="  "+e.validate(v)+" ",v.baseId=y):s+=" var "+p+" = true; ",R&&(s+=" if ("+p+" && "+S+") { "+f+" = false; "+$+" = ["+$+", "+R+"]; } else { ",m+="}"),s+=" if ("+p+") { "+f+" = "+S+" = true; "+$+" = "+R+"; }";return e.compositeRule=v.compositeRule=w,s+=""+m+"if (!"+f+") {   var err =   ",e.createErrors!==!1?(s+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { passingSchemas: "+$+" } ",e.opts.messages!==!1&&(s+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(s+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?s+=" throw new ValidationError(vErrors); ":s+=" validate.errors = vErrors; return false; "),s+="} else {  errors = "+l+"; if (vErrors !== null) { if ("+l+") vErrors.length = "+l+"; else vErrors = null; }",e.opts.allErrors&&(s+=" } "),s}});var Cp=E((I4,Ip)=>{"use strict";Ip.exports=function(e,t,n){var s=" ",i=e.level,a=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h="data"+(a||""),f=e.opts.$data&&o&&o.$data,l;f?(s+=" var schema"+i+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ",l="schema"+i):l=o;var v=f?"(new RegExp("+l+"))":e.usePattern(o);s+="if ( ",f&&(s+=" ("+l+" !== undefined && typeof "+l+" != 'string') || "),s+=" !"+v+".test("+h+") ) {   ";var m=m||[];m.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { pattern:  ",f?s+=""+l:s+=""+e.util.toQuotedString(o),s+="  } ",e.opts.messages!==!1&&(s+=` , message: 'should match pattern "`,f?s+="' + "+l+" + '":s+=""+e.util.escapeQuotes(o),s+=`"' `),e.opts.verbose&&(s+=" , schema:  ",f?s+="validate.schema"+c:s+=""+e.util.toQuotedString(o),s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ";var p=s;return s=m.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+p+"]); ":s+=" validate.errors = ["+p+"]; return false; ":s+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",u&&(s+=" else { "),s}});var Np=E((C4,Ap)=>{"use strict";Ap.exports=function(e,t,n){var s=" ",i=e.level,a=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h="data"+(a||""),f="errs__"+i,l=e.util.copy(e),v="";l.level++;var m="valid"+l.level,p="key"+i,y="idx"+i,S=l.dataLevel=e.dataLevel+1,$="data"+S,w="dataProperties"+i,g=Object.keys(o||{}).filter(z),O=e.schema.patternProperties||{},R=Object.keys(O).filter(z),D=e.schema.additionalProperties,A=g.length||R.length,j=D===!1,x=typeof D=="object"&&Object.keys(D).length,k=e.opts.removeAdditional,q=j||x||k,C=e.opts.ownProperties,F=e.baseId,Q=e.schema.required;if(Q&&!(e.opts.$data&&Q.$data)&&Q.length<e.opts.loopRequired)var K=e.util.toHash(Q);function z(qr){return qr!=="__proto__"}if(s+="var "+f+" = errors;var "+m+" = true;",C&&(s+=" var "+w+" = undefined;"),q){if(C?s+=" "+w+" = "+w+" || Object.keys("+h+"); for (var "+y+"=0; "+y+"<"+w+".length; "+y+"++) { var "+p+" = "+w+"["+y+"]; ":s+=" for (var "+p+" in "+h+") { ",A){if(s+=" var isAdditional"+i+" = !(false ",g.length)if(g.length>8)s+=" || validate.schema"+c+".hasOwnProperty("+p+") ";else{var Y=g;if(Y)for(var V,le=-1,J=Y.length-1;le<J;)V=Y[le+=1],s+=" || "+p+" == "+e.util.toQuotedString(V)+" "}if(R.length){var Z=R;if(Z)for(var N,L=-1,M=Z.length-1;L<M;)N=Z[L+=1],s+=" || "+e.usePattern(N)+".test("+p+") "}s+=" ); if (isAdditional"+i+") { "}if(k=="all")s+=" delete "+h+"["+p+"]; ";else{var W=e.errorPath,Te="' + "+p+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,p,e.opts.jsonPointers)),j)if(k)s+=" delete "+h+"["+p+"]; ";else{s+=" "+m+" = false; ";var he=d;d=e.errSchemaPath+"/additionalProperties";var be=be||[];be.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { additionalProperty: '"+Te+"' } ",e.opts.messages!==!1&&(s+=" , message: '",e.opts._errorDataPathProperty?s+="is an invalid additional property":s+="should NOT have additional properties",s+="' "),e.opts.verbose&&(s+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ";var ve=s;s=be.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+ve+"]); ":s+=" validate.errors = ["+ve+"]; return false; ":s+=" var err = "+ve+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",d=he,u&&(s+=" break; ")}else if(x)if(k=="failing"){s+=" var "+f+" = errors;  ";var xt=e.compositeRule;e.compositeRule=l.compositeRule=!0,l.schema=D,l.schemaPath=e.schemaPath+".additionalProperties",l.errSchemaPath=e.errSchemaPath+"/additionalProperties",l.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,p,e.opts.jsonPointers);var Xe=h+"["+p+"]";l.dataPathArr[S]=p;var ye=e.validate(l);l.baseId=F,e.util.varOccurences(ye,$)<2?s+=" "+e.util.varReplace(ye,$,Xe)+" ":s+=" var "+$+" = "+Xe+"; "+ye+" ",s+=" if (!"+m+") { errors = "+f+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+h+"["+p+"]; }  ",e.compositeRule=l.compositeRule=xt}else{l.schema=D,l.schemaPath=e.schemaPath+".additionalProperties",l.errSchemaPath=e.errSchemaPath+"/additionalProperties",l.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,p,e.opts.jsonPointers);var Xe=h+"["+p+"]";l.dataPathArr[S]=p;var ye=e.validate(l);l.baseId=F,e.util.varOccurences(ye,$)<2?s+=" "+e.util.varReplace(ye,$,Xe)+" ":s+=" var "+$+" = "+Xe+"; "+ye+" ",u&&(s+=" if (!"+m+") break; ")}e.errorPath=W}A&&(s+=" } "),s+=" }  ",u&&(s+=" if ("+m+") { ",v+="}")}var dt=e.opts.useDefaults&&!e.compositeRule;if(g.length){var st=g;if(st)for(var V,kt=-1,Dt=st.length-1;kt<Dt;){V=st[kt+=1];var Ue=o[V];if(e.opts.strictKeywords?typeof Ue=="object"&&Object.keys(Ue).length>0||Ue===!1:e.util.schemaHasRules(Ue,e.RULES.all)){var Er=e.util.getProperty(V),Xe=h+Er,fr=dt&&Ue.default!==void 0;l.schema=Ue,l.schemaPath=c+Er,l.errSchemaPath=d+"/"+e.util.escapeFragment(V),l.errorPath=e.util.getPath(e.errorPath,V,e.opts.jsonPointers),l.dataPathArr[S]=e.util.toQuotedString(V);var ye=e.validate(l);if(l.baseId=F,e.util.varOccurences(ye,$)<2){ye=e.util.varReplace(ye,$,Xe);var ir=Xe}else{var ir=$;s+=" var "+$+" = "+Xe+"; "}if(fr)s+=" "+ye+" ";else{if(K&&K[V]){s+=" if ( "+ir+" === undefined ",C&&(s+=" || ! Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes(V)+"') "),s+=") { "+m+" = false; ";var W=e.errorPath,he=d,Hr=e.util.escapeQuotes(V);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(W,V,e.opts.jsonPointers)),d=e.errSchemaPath+"/required";var be=be||[];be.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { missingProperty: '"+Hr+"' } ",e.opts.messages!==!1&&(s+=" , message: '",e.opts._errorDataPathProperty?s+="is a required property":s+="should have required property \\'"+Hr+"\\'",s+="' "),e.opts.verbose&&(s+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ";var ve=s;s=be.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+ve+"]); ":s+=" validate.errors = ["+ve+"]; return false; ":s+=" var err = "+ve+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",d=he,e.errorPath=W,s+=" } else { "}else u?(s+=" if ( "+ir+" === undefined ",C&&(s+=" || ! Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes(V)+"') "),s+=") { "+m+" = true; } else { "):(s+=" if ("+ir+" !== undefined ",C&&(s+=" &&   Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes(V)+"') "),s+=" ) { ");s+=" "+ye+" } "}}u&&(s+=" if ("+m+") { ",v+="}")}}if(R.length){var mr=R;if(mr)for(var N,Pi=-1,Lo=mr.length-1;Pi<Lo;){N=mr[Pi+=1];var Ue=O[N];if(e.opts.strictKeywords?typeof Ue=="object"&&Object.keys(Ue).length>0||Ue===!1:e.util.schemaHasRules(Ue,e.RULES.all)){l.schema=Ue,l.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(N),l.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(N),C?s+=" "+w+" = "+w+" || Object.keys("+h+"); for (var "+y+"=0; "+y+"<"+w+".length; "+y+"++) { var "+p+" = "+w+"["+y+"]; ":s+=" for (var "+p+" in "+h+") { ",s+=" if ("+e.usePattern(N)+".test("+p+")) { ",l.errorPath=e.util.getPathExpr(e.errorPath,p,e.opts.jsonPointers);var Xe=h+"["+p+"]";l.dataPathArr[S]=p;var ye=e.validate(l);l.baseId=F,e.util.varOccurences(ye,$)<2?s+=" "+e.util.varReplace(ye,$,Xe)+" ":s+=" var "+$+" = "+Xe+"; "+ye+" ",u&&(s+=" if (!"+m+") break; "),s+=" } ",u&&(s+=" else "+m+" = true; "),s+=" }  ",u&&(s+=" if ("+m+") { ",v+="}")}}}return u&&(s+=" "+v+" if ("+f+" == errors) {"),s}});var jp=E((A4,qp)=>{"use strict";qp.exports=function(e,t,n){var s=" ",i=e.level,a=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h="data"+(a||""),f="errs__"+i,l=e.util.copy(e),v="";l.level++;var m="valid"+l.level;if(s+="var "+f+" = errors;",e.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:e.util.schemaHasRules(o,e.RULES.all)){l.schema=o,l.schemaPath=c,l.errSchemaPath=d;var p="key"+i,y="idx"+i,S="i"+i,$="' + "+p+" + '",w=l.dataLevel=e.dataLevel+1,g="data"+w,O="dataProperties"+i,R=e.opts.ownProperties,D=e.baseId;R&&(s+=" var "+O+" = undefined; "),R?s+=" "+O+" = "+O+" || Object.keys("+h+"); for (var "+y+"=0; "+y+"<"+O+".length; "+y+"++) { var "+p+" = "+O+"["+y+"]; ":s+=" for (var "+p+" in "+h+") { ",s+=" var startErrs"+i+" = errors; ";var A=p,j=e.compositeRule;e.compositeRule=l.compositeRule=!0;var x=e.validate(l);l.baseId=D,e.util.varOccurences(x,g)<2?s+=" "+e.util.varReplace(x,g,A)+" ":s+=" var "+g+" = "+A+"; "+x+" ",e.compositeRule=l.compositeRule=j,s+=" if (!"+m+") { for (var "+S+"=startErrs"+i+"; "+S+"<errors; "+S+"++) { vErrors["+S+"].propertyName = "+p+"; }   var err =   ",e.createErrors!==!1?(s+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { propertyName: '"+$+"' } ",e.opts.messages!==!1&&(s+=" , message: 'property name \\'"+$+"\\' is invalid' "),e.opts.verbose&&(s+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?s+=" throw new ValidationError(vErrors); ":s+=" validate.errors = vErrors; return false; "),u&&(s+=" break; "),s+=" } }"}return u&&(s+=" "+v+" if ("+f+" == errors) {"),s}});var kp=E((N4,xp)=>{"use strict";xp.exports=function(e,t,n){var s=" ",i=e.level,a=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h="data"+(a||""),f="valid"+i,l=e.opts.$data&&o&&o.$data,v;l?(s+=" var schema"+i+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ",v="schema"+i):v=o;var m="schema"+i;if(!l)if(o.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var p=[],y=o;if(y)for(var S,$=-1,w=y.length-1;$<w;){S=y[$+=1];var g=e.schema.properties[S];g&&(e.opts.strictKeywords?typeof g=="object"&&Object.keys(g).length>0||g===!1:e.util.schemaHasRules(g,e.RULES.all))||(p[p.length]=S)}}else var p=o;if(l||p.length){var O=e.errorPath,R=l||p.length>=e.opts.loopRequired,D=e.opts.ownProperties;if(u)if(s+=" var missing"+i+"; ",R){l||(s+=" var "+m+" = validate.schema"+c+"; ");var A="i"+i,j="schema"+i+"["+A+"]",x="' + "+j+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(O,j,e.opts.jsonPointers)),s+=" var "+f+" = true; ",l&&(s+=" if (schema"+i+" === undefined) "+f+" = true; else if (!Array.isArray(schema"+i+")) "+f+" = false; else {"),s+=" for (var "+A+" = 0; "+A+" < "+m+".length; "+A+"++) { "+f+" = "+h+"["+m+"["+A+"]] !== undefined ",D&&(s+=" &&   Object.prototype.hasOwnProperty.call("+h+", "+m+"["+A+"]) "),s+="; if (!"+f+") break; } ",l&&(s+="  }  "),s+="  if (!"+f+") {   ";var k=k||[];k.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { missingProperty: '"+x+"' } ",e.opts.messages!==!1&&(s+=" , message: '",e.opts._errorDataPathProperty?s+="is a required property":s+="should have required property \\'"+x+"\\'",s+="' "),e.opts.verbose&&(s+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ";var q=s;s=k.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+q+"]); ":s+=" validate.errors = ["+q+"]; return false; ":s+=" var err = "+q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } else { "}else{s+=" if ( ";var C=p;if(C)for(var F,A=-1,Q=C.length-1;A<Q;){F=C[A+=1],A&&(s+=" || ");var K=e.util.getProperty(F),z=h+K;s+=" ( ( "+z+" === undefined ",D&&(s+=" || ! Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes(F)+"') "),s+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?F:K)+") ) "}s+=") {  ";var j="missing"+i,x="' + "+j+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(O,j,!0):O+" + "+j);var k=k||[];k.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { missingProperty: '"+x+"' } ",e.opts.messages!==!1&&(s+=" , message: '",e.opts._errorDataPathProperty?s+="is a required property":s+="should have required property \\'"+x+"\\'",s+="' "),e.opts.verbose&&(s+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ";var q=s;s=k.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+q+"]); ":s+=" validate.errors = ["+q+"]; return false; ":s+=" var err = "+q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } else { "}else if(R){l||(s+=" var "+m+" = validate.schema"+c+"; ");var A="i"+i,j="schema"+i+"["+A+"]",x="' + "+j+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(O,j,e.opts.jsonPointers)),l&&(s+=" if ("+m+" && !Array.isArray("+m+")) {  var err =   ",e.createErrors!==!1?(s+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { missingProperty: '"+x+"' } ",e.opts.messages!==!1&&(s+=" , message: '",e.opts._errorDataPathProperty?s+="is a required property":s+="should have required property \\'"+x+"\\'",s+="' "),e.opts.verbose&&(s+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+m+" !== undefined) { "),s+=" for (var "+A+" = 0; "+A+" < "+m+".length; "+A+"++) { if ("+h+"["+m+"["+A+"]] === undefined ",D&&(s+=" || ! Object.prototype.hasOwnProperty.call("+h+", "+m+"["+A+"]) "),s+=") {  var err =   ",e.createErrors!==!1?(s+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { missingProperty: '"+x+"' } ",e.opts.messages!==!1&&(s+=" , message: '",e.opts._errorDataPathProperty?s+="is a required property":s+="should have required property \\'"+x+"\\'",s+="' "),e.opts.verbose&&(s+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",l&&(s+="  }  ")}else{var Y=p;if(Y)for(var F,V=-1,le=Y.length-1;V<le;){F=Y[V+=1];var K=e.util.getProperty(F),x=e.util.escapeQuotes(F),z=h+K;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(O,F,e.opts.jsonPointers)),s+=" if ( "+z+" === undefined ",D&&(s+=" || ! Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes(F)+"') "),s+=") {  var err =   ",e.createErrors!==!1?(s+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { missingProperty: '"+x+"' } ",e.opts.messages!==!1&&(s+=" , message: '",e.opts._errorDataPathProperty?s+="is a required property":s+="should have required property \\'"+x+"\\'",s+="' "),e.opts.verbose&&(s+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=O}else u&&(s+=" if (true) {");return s}});var Lp=E((q4,Dp)=>{"use strict";Dp.exports=function(e,t,n){var s=" ",i=e.level,a=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h="data"+(a||""),f="valid"+i,l=e.opts.$data&&o&&o.$data,v;if(l?(s+=" var schema"+i+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ",v="schema"+i):v=o,(o||l)&&e.opts.uniqueItems!==!1){l&&(s+=" var "+f+"; if ("+v+" === false || "+v+" === undefined) "+f+" = true; else if (typeof "+v+" != 'boolean') "+f+" = false; else { "),s+=" var i = "+h+".length , "+f+" = true , j; if (i > 1) { ";var m=e.schema.items&&e.schema.items.type,p=Array.isArray(m);if(!m||m=="object"||m=="array"||p&&(m.indexOf("object")>=0||m.indexOf("array")>=0))s+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+h+"[i], "+h+"[j])) { "+f+" = false; break outer; } } } ";else{s+=" var itemIndices = {}, item; for (;i--;) { var item = "+h+"[i]; ";var y="checkDataType"+(p?"s":"");s+=" if ("+e.util[y](m,"item",e.opts.strictNumbers,!0)+") continue; ",p&&(s+=` if (typeof item == 'string') item = '"' + item; `),s+=" if (typeof itemIndices[item] == 'number') { "+f+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}s+=" } ",l&&(s+="  }  "),s+=" if (!"+f+") {   ";var S=S||[];S.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { i: i, j: j } ",e.opts.messages!==!1&&(s+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(s+=" , schema:  ",l?s+="validate.schema"+c:s+=""+o,s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ";var $=s;s=S.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+$+"]); ":s+=" validate.errors = ["+$+"]; return false; ":s+=" var err = "+$+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } ",u&&(s+=" else { ")}else u&&(s+=" if (true) { ");return s}});var Mp=E((j4,Fp)=>{"use strict";Fp.exports={$ref:Xd(),allOf:ep(),anyOf:tp(),$comment:np(),const:ap(),contains:lp(),dependencies:cp(),enum:hp(),format:pp(),if:vp(),items:gp(),maximum:El(),minimum:El(),maxItems:wl(),minItems:wl(),maxLength:_l(),minLength:_l(),maxProperties:Sl(),minProperties:Sl(),multipleOf:Pp(),not:Rp(),oneOf:Tp(),pattern:Cp(),properties:Np(),propertyNames:jp(),required:kp(),uniqueItems:Lp(),validate:yl()}});var zp=E((x4,Vp)=>{"use strict";var Hp=Mp(),Pl=Vt().toHash;Vp.exports=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],t=["type","$comment"],n=["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"],s=["number","integer","string","array","object","boolean","null"];return e.all=Pl(t),e.types=Pl(s),e.forEach(function(i){i.rules=i.rules.map(function(a){var o;if(typeof a=="object"){var c=Object.keys(a)[0];o=a[c],a=c,o.forEach(function(u){t.push(u),e.all[u]=!0})}t.push(a);var d=e.all[a]={keyword:a,code:Hp[a],implements:o};return d}),e.all.$comment={keyword:"$comment",code:Hp.$comment},i.type&&(e.types[i.type]=i)}),e.keywords=Pl(t.concat(n)),e.custom={},e}});var Gp=E((k4,Bp)=>{"use strict";var Up=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];Bp.exports=function(r,e){for(var t=0;t<e.length;t++){r=JSON.parse(JSON.stringify(r));var n=e[t].split("/"),s=r,i;for(i=1;i<n.length;i++)s=s[n[i]];for(i=0;i<Up.length;i++){var a=Up[i],o=s[a];o&&(s[a]={anyOf:[o,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return r}});var Qp=E((D4,Jp)=>{"use strict";var _R=Vi().MissingRef;Jp.exports=Kp;function Kp(r,e,t){var n=this;if(typeof this._opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");typeof e=="function"&&(t=e,e=void 0);var s=i(r).then(function(){var o=n._addSchema(r,void 0,e);return o.validate||a(o)});return t&&s.then(function(o){t(null,o)},t),s;function i(o){var c=o.$schema;return c&&!n.getSchema(c)?Kp.call(n,{$ref:c},!0):Promise.resolve()}function a(o){try{return n._compile(o)}catch(d){if(d instanceof _R)return c(d);throw d}function c(d){var u=d.missingSchema;if(l(u))throw new Error("Schema "+u+" is loaded but "+d.missingRef+" cannot be resolved");var h=n._loadingSchemas[u];return h||(h=n._loadingSchemas[u]=n._opts.loadSchema(u),h.then(f,f)),h.then(function(v){if(!l(u))return i(v).then(function(){l(u)||n.addSchema(v,u,void 0,e)})}).then(function(){return a(o)});function f(){delete n._loadingSchemas[u]}function l(v){return n._refs[v]||n._schemas[v]}}}}});var Wp=E((L4,Yp)=>{"use strict";Yp.exports=function(e,t,n){var s=" ",i=e.level,a=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h,f="data"+(a||""),l="valid"+i,v="errs__"+i,m=e.opts.$data&&o&&o.$data,p;m?(s+=" var schema"+i+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ",p="schema"+i):p=o;var y=this,S="definition"+i,$=y.definition,w="",g,O,R,D,A;if(m&&$.$data){A="keywordValidate"+i;var j=$.validateSchema;s+=" var "+S+" = RULES.custom['"+t+"'].definition; var "+A+" = "+S+".validate;"}else{if(D=e.useCustomRule(y,o,e.schema,e),!D)return;p="validate.schema"+c,A=D.code,g=$.compile,O=$.inline,R=$.macro}var x=A+".errors",k="i"+i,q="ruleErr"+i,C=$.async;if(C&&!e.async)throw new Error("async keyword in sync schema");if(O||R||(s+=""+x+" = null;"),s+="var "+v+" = errors;var "+l+";",m&&$.$data&&(w+="}",s+=" if ("+p+" === undefined) { "+l+" = true; } else { ",j&&(w+="}",s+=" "+l+" = "+S+".validateSchema("+p+"); if ("+l+") { ")),O)$.statements?s+=" "+D.validate+" ":s+=" "+l+" = "+D.validate+"; ";else if(R){var F=e.util.copy(e),w="";F.level++;var Q="valid"+F.level;F.schema=D.validate,F.schemaPath="";var K=e.compositeRule;e.compositeRule=F.compositeRule=!0;var z=e.validate(F).replace(/validate\.schema/g,A);e.compositeRule=F.compositeRule=K,s+=" "+z}else{var Y=Y||[];Y.push(s),s="",s+="  "+A+".call( ",e.opts.passContext?s+="this":s+="self",g||$.schema===!1?s+=" , "+f+" ":s+=" , "+p+" , "+f+" , validate.schema"+e.schemaPath+" ",s+=" , (dataPath || '')",e.errorPath!='""'&&(s+=" + "+e.errorPath);var V=a?"data"+(a-1||""):"parentData",le=a?e.dataPathArr[a]:"parentDataProperty";s+=" , "+V+" , "+le+" , rootData )  ";var J=s;s=Y.pop(),$.errors===!1?(s+=" "+l+" = ",C&&(s+="await "),s+=""+J+"; "):C?(x="customErrors"+i,s+=" var "+x+" = null; try { "+l+" = await "+J+"; } catch (e) { "+l+" = false; if (e instanceof ValidationError) "+x+" = e.errors; else throw e; } "):s+=" "+x+" = null; "+l+" = "+J+"; "}if($.modifying&&(s+=" if ("+V+") "+f+" = "+V+"["+le+"];"),s+=""+w,$.valid)u&&(s+=" if (true) { ");else{s+=" if ( ",$.valid===void 0?(s+=" !",R?s+=""+Q:s+=""+l):s+=" "+!$.valid+" ",s+=") { ",h=y.keyword;var Y=Y||[];Y.push(s),s="";var Y=Y||[];Y.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '"+(h||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { keyword: '"+y.keyword+"' } ",e.opts.messages!==!1&&(s+=` , message: 'should pass "`+y.keyword+`" keyword validation' `),e.opts.verbose&&(s+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),s+=" } "):s+=" {} ";var Z=s;s=Y.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+Z+"]); ":s+=" validate.errors = ["+Z+"]; return false; ":s+=" var err = "+Z+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var N=s;s=Y.pop(),O?$.errors?$.errors!="full"&&(s+="  for (var "+k+"="+v+"; "+k+"<errors; "+k+"++) { var "+q+" = vErrors["+k+"]; if ("+q+".dataPath === undefined) "+q+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+q+".schemaPath === undefined) { "+q+'.schemaPath = "'+d+'"; } ',e.opts.verbose&&(s+=" "+q+".schema = "+p+"; "+q+".data = "+f+"; "),s+=" } "):$.errors===!1?s+=" "+N+" ":(s+=" if ("+v+" == errors) { "+N+" } else {  for (var "+k+"="+v+"; "+k+"<errors; "+k+"++) { var "+q+" = vErrors["+k+"]; if ("+q+".dataPath === undefined) "+q+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+q+".schemaPath === undefined) { "+q+'.schemaPath = "'+d+'"; } ',e.opts.verbose&&(s+=" "+q+".schema = "+p+"; "+q+".data = "+f+"; "),s+=" } } "):R?(s+="   var err =   ",e.createErrors!==!1?(s+=" { keyword: '"+(h||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { keyword: '"+y.keyword+"' } ",e.opts.messages!==!1&&(s+=` , message: 'should pass "`+y.keyword+`" keyword validation' `),e.opts.verbose&&(s+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?s+=" throw new ValidationError(vErrors); ":s+=" validate.errors = vErrors; return false; ")):$.errors===!1?s+=" "+N+" ":(s+=" if (Array.isArray("+x+")) { if (vErrors === null) vErrors = "+x+"; else vErrors = vErrors.concat("+x+"); errors = vErrors.length;  for (var "+k+"="+v+"; "+k+"<errors; "+k+"++) { var "+q+" = vErrors["+k+"]; if ("+q+".dataPath === undefined) "+q+".dataPath = (dataPath || '') + "+e.errorPath+";  "+q+'.schemaPath = "'+d+'";  ',e.opts.verbose&&(s+=" "+q+".schema = "+p+"; "+q+".data = "+f+"; "),s+=" } } else { "+N+" } "),s+=" } ",u&&(s+=" else { ")}return s}});var $l=E((F4,SR)=>{SR.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var em=E((M4,Zp)=>{"use strict";var Xp=$l();Zp.exports={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:Xp.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:Xp.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}});var tm=E((H4,rm)=>{"use strict";var PR=/^[a-z_$][a-z0-9_$-]*$/i,$R=Wp(),RR=em();rm.exports={add:OR,get:TR,remove:IR,validate:Rl};function OR(r,e){var t=this.RULES;if(t.keywords[r])throw new Error("Keyword "+r+" is already defined");if(!PR.test(r))throw new Error("Keyword "+r+" is not a valid identifier");if(e){this.validateKeyword(e,!0);var n=e.type;if(Array.isArray(n))for(var s=0;s<n.length;s++)a(r,n[s],e);else a(r,n,e);var i=e.metaSchema;i&&(e.$data&&this._opts.$data&&(i={anyOf:[i,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),e.validateSchema=this.compile(i,!0))}t.keywords[r]=t.all[r]=!0;function a(o,c,d){for(var u,h=0;h<t.length;h++){var f=t[h];if(f.type==c){u=f;break}}u||(u={type:c,rules:[]},t.push(u));var l={keyword:o,definition:d,custom:!0,code:$R,implements:d.implements};u.rules.push(l),t.custom[o]=l}return this}function TR(r){var e=this.RULES.custom[r];return e?e.definition:this.RULES.keywords[r]||!1}function IR(r){var e=this.RULES;delete e.keywords[r],delete e.all[r],delete e.custom[r];for(var t=0;t<e.length;t++)for(var n=e[t].rules,s=0;s<n.length;s++)if(n[s].keyword==r){n.splice(s,1);break}return this}function Rl(r,e){Rl.errors=null;var t=this._validateKeyword=this._validateKeyword||this.compile(RR,!0);if(t(r))return!0;if(Rl.errors=t.errors,e)throw new Error("custom keyword definition is invalid: "+this.errorsText(t.errors));return!1}});var sm=E((V4,CR)=>{CR.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var Tl=E((z4,hm)=>{"use strict";var nm=Dd(),zt=Hi(),AR=Fd(),im=cl(),NR=vl(),qR=bl(),jR=zp(),am=Gp(),om=Vt();hm.exports=qe;qe.prototype.validate=kR;qe.prototype.compile=DR;qe.prototype.addSchema=LR;qe.prototype.addMetaSchema=FR;qe.prototype.validateSchema=MR;qe.prototype.getSchema=VR;qe.prototype.removeSchema=UR;qe.prototype.addFormat=XR;qe.prototype.errorsText=WR;qe.prototype._addSchema=BR;qe.prototype._compile=GR;qe.prototype.compileAsync=Qp();var Ji=tm();qe.prototype.addKeyword=Ji.add;qe.prototype.getKeyword=Ji.get;qe.prototype.removeKeyword=Ji.remove;qe.prototype.validateKeyword=Ji.validate;var lm=Vi();qe.ValidationError=lm.Validation;qe.MissingRefError=lm.MissingRef;qe.$dataMetaSchema=am;var Qi="http://json-schema.org/draft-07/schema",um=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],xR=["/properties"];function qe(r){if(!(this instanceof qe))return new qe(r);r=this._opts=om.copy(r)||{},nO(this),this._schemas={},this._refs={},this._fragments={},this._formats=qR(r.format),this._cache=r.cache||new AR,this._loadingSchemas={},this._compilations=[],this.RULES=jR(),this._getId=KR(r),r.loopRequired=r.loopRequired||1/0,r.errorDataPath=="property"&&(r._errorDataPathProperty=!0),r.serialize===void 0&&(r.serialize=NR),this._metaOpts=sO(this),r.formats&&rO(this),r.keywords&&tO(this),ZR(this),typeof r.meta=="object"&&this.addMetaSchema(r.meta),r.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),eO(this)}function kR(r,e){var t;if(typeof r=="string"){if(t=this.getSchema(r),!t)throw new Error('no schema with key or ref "'+r+'"')}else{var n=this._addSchema(r);t=n.validate||this._compile(n)}var s=t(e);return t.$async!==!0&&(this.errors=t.errors),s}function DR(r,e){var t=this._addSchema(r,void 0,e);return t.validate||this._compile(t)}function LR(r,e,t,n){if(Array.isArray(r)){for(var s=0;s<r.length;s++)this.addSchema(r[s],void 0,t,n);return this}var i=this._getId(r);if(i!==void 0&&typeof i!="string")throw new Error("schema id must be string");return e=zt.normalizeId(e||i),fm(this,e),this._schemas[e]=this._addSchema(r,t,n,!0),this}function FR(r,e,t){return this.addSchema(r,e,t,!0),this}function MR(r,e){var t=r.$schema;if(t!==void 0&&typeof t!="string")throw new Error("$schema must be a string");if(t=t||this._opts.defaultMeta||HR(this),!t)return this.logger.warn("meta-schema not available"),this.errors=null,!0;var n=this.validate(t,r);if(!n&&e){var s="schema is invalid: "+this.errorsText();if(this._opts.validateSchema=="log")this.logger.error(s);else throw new Error(s)}return n}function HR(r){var e=r._opts.meta;return r._opts.defaultMeta=typeof e=="object"?r._getId(e)||e:r.getSchema(Qi)?Qi:void 0,r._opts.defaultMeta}function VR(r){var e=cm(this,r);switch(typeof e){case"object":return e.validate||this._compile(e);case"string":return this.getSchema(e);case"undefined":return zR(this,r)}}function zR(r,e){var t=zt.schema.call(r,{schema:{}},e);if(t){var n=t.schema,s=t.root,i=t.baseId,a=nm.call(r,n,s,void 0,i);return r._fragments[e]=new im({ref:e,fragment:!0,schema:n,root:s,baseId:i,validate:a}),a}}function cm(r,e){return e=zt.normalizeId(e),r._schemas[e]||r._refs[e]||r._fragments[e]}function UR(r){if(r instanceof RegExp)return Yi(this,this._schemas,r),Yi(this,this._refs,r),this;switch(typeof r){case"undefined":return Yi(this,this._schemas),Yi(this,this._refs),this._cache.clear(),this;case"string":var e=cm(this,r);return e&&this._cache.del(e.cacheKey),delete this._schemas[r],delete this._refs[r],this;case"object":var t=this._opts.serialize,n=t?t(r):r;this._cache.del(n);var s=this._getId(r);s&&(s=zt.normalizeId(s),delete this._schemas[s],delete this._refs[s])}return this}function Yi(r,e,t){for(var n in e){var s=e[n];!s.meta&&(!t||t.test(n))&&(r._cache.del(s.cacheKey),delete e[n])}}function BR(r,e,t,n){if(typeof r!="object"&&typeof r!="boolean")throw new Error("schema should be object or boolean");var s=this._opts.serialize,i=s?s(r):r,a=this._cache.get(i);if(a)return a;n=n||this._opts.addUsedSchema!==!1;var o=zt.normalizeId(this._getId(r));o&&n&&fm(this,o);var c=this._opts.validateSchema!==!1&&!e,d;c&&!(d=o&&o==zt.normalizeId(r.$schema))&&this.validateSchema(r,!0);var u=zt.ids.call(this,r),h=new im({id:o,schema:r,localRefs:u,cacheKey:i,meta:t});return o[0]!="#"&&n&&(this._refs[o]=h),this._cache.put(i,h),c&&d&&this.validateSchema(r,!0),h}function GR(r,e){if(r.compiling)return r.validate=s,s.schema=r.schema,s.errors=null,s.root=e||s,r.schema.$async===!0&&(s.$async=!0),s;r.compiling=!0;var t;r.meta&&(t=this._opts,this._opts=this._metaOpts);var n;try{n=nm.call(this,r.schema,e,r.localRefs)}catch(i){throw delete r.validate,i}finally{r.compiling=!1,r.meta&&(this._opts=t)}return r.validate=n,r.refs=n.refs,r.refVal=n.refVal,r.root=n.root,n;function s(){var i=r.validate,a=i.apply(this,arguments);return s.errors=i.errors,a}}function KR(r){switch(r.schemaId){case"auto":return YR;case"id":return JR;default:return QR}}function JR(r){return r.$id&&this.logger.warn("schema $id ignored",r.$id),r.id}function QR(r){return r.id&&this.logger.warn("schema id ignored",r.id),r.$id}function YR(r){if(r.$id&&r.id&&r.$id!=r.id)throw new Error("schema $id is different from id");return r.$id||r.id}function WR(r,e){if(r=r||this.errors,!r)return"No errors";e=e||{};for(var t=e.separator===void 0?", ":e.separator,n=e.dataVar===void 0?"data":e.dataVar,s="",i=0;i<r.length;i++){var a=r[i];a&&(s+=n+a.dataPath+" "+a.message+t)}return s.slice(0,-t.length)}function XR(r,e){return typeof e=="string"&&(e=new RegExp(e)),this._formats[r]=e,this}function ZR(r){var e;if(r._opts.$data&&(e=sm(),r.addMetaSchema(e,e.$id,!0)),r._opts.meta!==!1){var t=$l();r._opts.$data&&(t=am(t,xR)),r.addMetaSchema(t,Qi,!0),r._refs["http://json-schema.org/schema"]=Qi}}function eO(r){var e=r._opts.schemas;if(!!e)if(Array.isArray(e))r.addSchema(e);else for(var t in e)r.addSchema(e[t],t)}function rO(r){for(var e in r._opts.formats){var t=r._opts.formats[e];r.addFormat(e,t)}}function tO(r){for(var e in r._opts.keywords){var t=r._opts.keywords[e];r.addKeyword(e,t)}}function fm(r,e){if(r._schemas[e]||r._refs[e])throw new Error('schema with key or id "'+e+'" already exists')}function sO(r){for(var e=om.copy(r._opts),t=0;t<um.length;t++)delete e[um[t]];return e}function nO(r){var e=r._opts.logger;if(e===!1)r.logger={log:Ol,warn:Ol,error:Ol};else{if(e===void 0&&(e=console),!(typeof e=="object"&&e.log&&e.warn&&e.error))throw new Error("logger must implement log, warn and error methods");r.logger=e}}function Ol(){}});var vm=E((U4,mm)=>{"use strict";var iO=function(e){return aO(e)&&!oO(e)};function aO(r){return!!r&&typeof r=="object"}function oO(r){var e=Object.prototype.toString.call(r);return e==="[object RegExp]"||e==="[object Date]"||cO(r)}var lO=typeof Symbol=="function"&&Symbol.for,uO=lO?Symbol.for("react.element"):60103;function cO(r){return r.$$typeof===uO}function fO(r){return Array.isArray(r)?[]:{}}function vn(r,e){return e.clone!==!1&&e.isMergeableObject(r)?Rs(fO(r),r,e):r}function hO(r,e,t){return r.concat(e).map(function(n){return vn(n,t)})}function dO(r,e){if(!e.customMerge)return Rs;var t=e.customMerge(r);return typeof t=="function"?t:Rs}function pO(r){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(r).filter(function(e){return r.propertyIsEnumerable(e)}):[]}function dm(r){return Object.keys(r).concat(pO(r))}function pm(r,e){try{return e in r}catch{return!1}}function mO(r,e){return pm(r,e)&&!(Object.hasOwnProperty.call(r,e)&&Object.propertyIsEnumerable.call(r,e))}function vO(r,e,t){var n={};return t.isMergeableObject(r)&&dm(r).forEach(function(s){n[s]=vn(r[s],t)}),dm(e).forEach(function(s){mO(r,s)||(pm(r,s)&&t.isMergeableObject(e[s])?n[s]=dO(s,t)(r[s],e[s],t):n[s]=vn(e[s],t))}),n}function Rs(r,e,t){t=t||{},t.arrayMerge=t.arrayMerge||hO,t.isMergeableObject=t.isMergeableObject||iO,t.cloneUnlessOtherwiseSpecified=vn;var n=Array.isArray(e),s=Array.isArray(r),i=n===s;return i?n?t.arrayMerge(r,e,t):vO(r,e,t):vn(e,t)}Rs.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(n,s){return Rs(n,s,t)},{})};var yO=Rs;mm.exports=yO});var Wi=E((B4,ym)=>{"use strict";ym.exports=gO;function Os(r){return r instanceof Buffer?Buffer.from(r):new r.constructor(r.buffer.slice(),r.byteOffset,r.length)}function gO(r){if(r=r||{},r.circles)return bO(r);return r.proto?n:t;function e(s,i){for(var a=Object.keys(s),o=new Array(a.length),c=0;c<a.length;c++){var d=a[c],u=s[d];typeof u!="object"||u===null?o[d]=u:u instanceof Date?o[d]=new Date(u):ArrayBuffer.isView(u)?o[d]=Os(u):o[d]=i(u)}return o}function t(s){if(typeof s!="object"||s===null)return s;if(s instanceof Date)return new Date(s);if(Array.isArray(s))return e(s,t);if(s instanceof Map)return new Map(e(Array.from(s),t));if(s instanceof Set)return new Set(e(Array.from(s),t));var i={};for(var a in s)if(Object.hasOwnProperty.call(s,a)!==!1){var o=s[a];typeof o!="object"||o===null?i[a]=o:o instanceof Date?i[a]=new Date(o):o instanceof Map?i[a]=new Map(e(Array.from(o),t)):o instanceof Set?i[a]=new Set(e(Array.from(o),t)):ArrayBuffer.isView(o)?i[a]=Os(o):i[a]=t(o)}return i}function n(s){if(typeof s!="object"||s===null)return s;if(s instanceof Date)return new Date(s);if(Array.isArray(s))return e(s,n);if(s instanceof Map)return new Map(e(Array.from(s),n));if(s instanceof Set)return new Set(e(Array.from(s),n));var i={};for(var a in s){var o=s[a];typeof o!="object"||o===null?i[a]=o:o instanceof Date?i[a]=new Date(o):o instanceof Map?i[a]=new Map(e(Array.from(o),n)):o instanceof Set?i[a]=new Set(e(Array.from(o),n)):ArrayBuffer.isView(o)?i[a]=Os(o):i[a]=n(o)}return i}}function bO(r){var e=[],t=[];return r.proto?i:s;function n(a,o){for(var c=Object.keys(a),d=new Array(c.length),u=0;u<c.length;u++){var h=c[u],f=a[h];if(typeof f!="object"||f===null)d[h]=f;else if(f instanceof Date)d[h]=new Date(f);else if(ArrayBuffer.isView(f))d[h]=Os(f);else{var l=e.indexOf(f);l!==-1?d[h]=t[l]:d[h]=o(f)}}return d}function s(a){if(typeof a!="object"||a===null)return a;if(a instanceof Date)return new Date(a);if(Array.isArray(a))return n(a,s);if(a instanceof Map)return new Map(n(Array.from(a),s));if(a instanceof Set)return new Set(n(Array.from(a),s));var o={};e.push(a),t.push(o);for(var c in a)if(Object.hasOwnProperty.call(a,c)!==!1){var d=a[c];if(typeof d!="object"||d===null)o[c]=d;else if(d instanceof Date)o[c]=new Date(d);else if(d instanceof Map)o[c]=new Map(n(Array.from(d),s));else if(d instanceof Set)o[c]=new Set(n(Array.from(d),s));else if(ArrayBuffer.isView(d))o[c]=Os(d);else{var u=e.indexOf(d);u!==-1?o[c]=t[u]:o[c]=s(d)}}return e.pop(),t.pop(),o}function i(a){if(typeof a!="object"||a===null)return a;if(a instanceof Date)return new Date(a);if(Array.isArray(a))return n(a,i);if(a instanceof Map)return new Map(n(Array.from(a),i));if(a instanceof Set)return new Set(n(Array.from(a),i));var o={};e.push(a),t.push(o);for(var c in a){var d=a[c];if(typeof d!="object"||d===null)o[c]=d;else if(d instanceof Date)o[c]=new Date(d);else if(d instanceof Map)o[c]=new Map(n(Array.from(d),i));else if(d instanceof Set)o[c]=new Set(n(Array.from(d),i));else if(ArrayBuffer.isView(d))o[c]=Os(d);else{var u=e.indexOf(d);u!==-1?o[c]=t[u]:o[c]=i(d)}}return e.pop(),t.pop(),o}}});var bm=E((G4,gm)=>{"use strict";gm.exports=pt()});var wm=E((K4,Em)=>{function Il(){return!0}var yn=bl()(),Xi=bm(),Cl=function(){var r=[],e={type:"integer",minimum:0};r[1]=e;var t=function(){return function a(o,c,d,u,h){"use strict";var f=null,l=0,v=l,m=l;if(typeof o!="number"||o%1||o!==o)return a.errors=[{keyword:"type",dataPath:(c||"")+"",schemaPath:"#/definitions/nonNegativeInteger/type",params:{type:"integer"},message:"should be integer"}],!1;if(typeof o=="number"&&(o<0||o!==o))return a.errors=[{keyword:"minimum",dataPath:(c||"")+"",schemaPath:"#/definitions/nonNegativeInteger/minimum",params:{comparison:">=",limit:0,exclusive:!1},message:"should be >= 0"}],!1;var p=l===m,y=l===v;return a.errors=f,l===0}}();t.schema={allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},t.errors=null,r[2]=t;var n=function(){return function a(o,c,d,u,h){"use strict";var f=null,l=0;if(h===void 0&&(h=o),Array.isArray(o)){if(o.length<1)return a.errors=[{keyword:"minItems",dataPath:(c||"")+"",schemaPath:"#/minItems",params:{limit:1},message:"should NOT have fewer than 1 items"}],!1;for(var v=l,m,p=0;p<o.length;p++){var y=l;Il(o[p],(c||"")+"["+p+"]",o,p,h)||(f===null?f=Il.errors:f=f.concat(Il.errors),l=f.length);var S=l===y;if(!S)break}}else return a.errors=[{keyword:"type",dataPath:(c||"")+"",schemaPath:"#/type",params:{type:"array"},message:"should be array"}],!1;return a.errors=f,l===0}}();n.schema={type:"array",minItems:1,items:{$ref:"#"}},n.errors=null,r[3]=n;var s={type:"array",items:{type:"string"},uniqueItems:!0,default:[]};r[4]=s;var i={enum:["array","boolean","integer","null","number","object","string"]};return r[5]=i,function a(o,c,d,u,h){"use strict";var f=null,l=0;if(h===void 0&&(h=o),(!o||typeof o!="object"||Array.isArray(o))&&typeof o!="boolean")return a.errors=[{keyword:"type",dataPath:(c||"")+"",schemaPath:"#/type",params:{type:"object,boolean"},message:"should be object,boolean"}],!1;if(o&&typeof o=="object"&&!Array.isArray(o)){var v=l,m=!0,p=o.$id;if(p===void 0)m=!0;else{var y=l;if(l===y)if(typeof p=="string"){if(!yn["uri-reference"].test(p))return a.errors=[{keyword:"format",dataPath:(c||"")+".$id",schemaPath:"#/properties/%24id/format",params:{format:"uri-reference"},message:'should match format "uri-reference"'}],!1}else return a.errors=[{keyword:"type",dataPath:(c||"")+".$id",schemaPath:"#/properties/%24id/type",params:{type:"string"},message:"should be string"}],!1;var m=l===y}if(m){var p=o.$schema;if(p===void 0)m=!0;else{var y=l;if(l===y)if(typeof p=="string"){if(!yn.uri.test(p))return a.errors=[{keyword:"format",dataPath:(c||"")+".$schema",schemaPath:"#/properties/%24schema/format",params:{format:"uri"},message:'should match format "uri"'}],!1}else return a.errors=[{keyword:"type",dataPath:(c||"")+".$schema",schemaPath:"#/properties/%24schema/type",params:{type:"string"},message:"should be string"}],!1;var m=l===y}if(m){var p=o.$ref;if(p===void 0)m=!0;else{var y=l;if(l===y)if(typeof p=="string"){if(!yn["uri-reference"].test(p))return a.errors=[{keyword:"format",dataPath:(c||"")+".$ref",schemaPath:"#/properties/%24ref/format",params:{format:"uri-reference"},message:'should match format "uri-reference"'}],!1}else return a.errors=[{keyword:"type",dataPath:(c||"")+".$ref",schemaPath:"#/properties/%24ref/type",params:{type:"string"},message:"should be string"}],!1;var m=l===y}if(m){if(o.$comment===void 0)m=!0;else{var y=l;if(typeof o.$comment!="string")return a.errors=[{keyword:"type",dataPath:(c||"")+".$comment",schemaPath:"#/properties/%24comment/type",params:{type:"string"},message:"should be string"}],!1;var m=l===y}if(m){if(o.title===void 0)m=!0;else{var y=l;if(typeof o.title!="string")return a.errors=[{keyword:"type",dataPath:(c||"")+".title",schemaPath:"#/properties/title/type",params:{type:"string"},message:"should be string"}],!1;var m=l===y}if(m){if(o.description===void 0)m=!0;else{var y=l;if(typeof o.description!="string")return a.errors=[{keyword:"type",dataPath:(c||"")+".description",schemaPath:"#/properties/description/type",params:{type:"string"},message:"should be string"}],!1;var m=l===y}if(m&&m){if(o.readOnly===void 0)m=!0;else{var y=l;if(typeof o.readOnly!="boolean")return a.errors=[{keyword:"type",dataPath:(c||"")+".readOnly",schemaPath:"#/properties/readOnly/type",params:{type:"boolean"},message:"should be boolean"}],!1;var m=l===y}if(m){if(o.examples===void 0)m=!0;else{var y=l;if(Array.isArray(o.examples))var S=l,m;else return a.errors=[{keyword:"type",dataPath:(c||"")+".examples",schemaPath:"#/properties/examples/type",params:{type:"array"},message:"should be array"}],!1;var m=l===y}if(m){var p=o.multipleOf;if(p===void 0)m=!0;else{var y=l;if(typeof p=="number"){if(p<=0||p!==p)return a.errors=[{keyword:"exclusiveMinimum",dataPath:(c||"")+".multipleOf",schemaPath:"#/properties/multipleOf/exclusiveMinimum",params:{comparison:">",limit:0,exclusive:!0},message:"should be > 0"}],!1}else return a.errors=[{keyword:"type",dataPath:(c||"")+".multipleOf",schemaPath:"#/properties/multipleOf/type",params:{type:"number"},message:"should be number"}],!1;var m=l===y}if(m){if(o.maximum===void 0)m=!0;else{var y=l;if(typeof o.maximum!="number")return a.errors=[{keyword:"type",dataPath:(c||"")+".maximum",schemaPath:"#/properties/maximum/type",params:{type:"number"},message:"should be number"}],!1;var m=l===y}if(m){if(o.exclusiveMaximum===void 0)m=!0;else{var y=l;if(typeof o.exclusiveMaximum!="number")return a.errors=[{keyword:"type",dataPath:(c||"")+".exclusiveMaximum",schemaPath:"#/properties/exclusiveMaximum/type",params:{type:"number"},message:"should be number"}],!1;var m=l===y}if(m){if(o.minimum===void 0)m=!0;else{var y=l;if(typeof o.minimum!="number")return a.errors=[{keyword:"type",dataPath:(c||"")+".minimum",schemaPath:"#/properties/minimum/type",params:{type:"number"},message:"should be number"}],!1;var m=l===y}if(m){if(o.exclusiveMinimum===void 0)m=!0;else{var y=l;if(typeof o.exclusiveMinimum!="number")return a.errors=[{keyword:"type",dataPath:(c||"")+".exclusiveMinimum",schemaPath:"#/properties/exclusiveMinimum/type",params:{type:"number"},message:"should be number"}],!1;var m=l===y}if(m){var p=o.maxLength;if(p===void 0)m=!0;else{var y=l,$=l;if(typeof p!="number"||p%1||p!==p)return a.errors=[{keyword:"type",dataPath:(c||"")+".maxLength",schemaPath:"#/definitions/nonNegativeInteger/type",params:{type:"integer"},message:"should be integer"}],!1;if(typeof p=="number"&&(p<0||p!==p))return a.errors=[{keyword:"minimum",dataPath:(c||"")+".maxLength",schemaPath:"#/definitions/nonNegativeInteger/minimum",params:{comparison:">=",limit:0,exclusive:!1},message:"should be >= 0"}],!1;var w=l===$,m=l===y}if(m){if(o.minLength===void 0)m=!0;else{var y=l;t(o.minLength,(c||"")+".minLength",o,"minLength",h)||(f===null?f=t.errors:f=f.concat(t.errors),l=f.length);var m=l===y}if(m){var p=o.pattern;if(p===void 0)m=!0;else{var y=l;if(l===y)if(typeof p=="string"){if(!yn.regex(p))return a.errors=[{keyword:"format",dataPath:(c||"")+".pattern",schemaPath:"#/properties/pattern/format",params:{format:"regex"},message:'should match format "regex"'}],!1}else return a.errors=[{keyword:"type",dataPath:(c||"")+".pattern",schemaPath:"#/properties/pattern/type",params:{type:"string"},message:"should be string"}],!1;var m=l===y}if(m){if(o.additionalItems===void 0)m=!0;else{var y=l;a(o.additionalItems,(c||"")+".additionalItems",o,"additionalItems",h)||(f===null?f=a.errors:f=f.concat(a.errors),l=f.length);var m=l===y}if(m){var p=o.items;if(p===void 0)m=!0;else{var y=l,S=l,m=!1,$=l;a(p,(c||"")+".items",o,"items",h)||(f===null?f=a.errors:f=f.concat(a.errors),l=f.length);var w=l===$;if(m=m||w,!m){var $=l;n(p,(c||"")+".items",o,"items",h)||(f===null?f=n.errors:f=f.concat(n.errors),l=f.length);var w=l===$;m=m||w}if(m)l=S,f!==null&&(S?f.length=S:f=null);else{var g={keyword:"anyOf",dataPath:(c||"")+".items",schemaPath:"#/properties/items/anyOf",params:{},message:"should match some schema in anyOf"};return f===null?f=[g]:f.push(g),l++,a.errors=f,!1}var m=l===y}if(m){var p=o.maxItems;if(p===void 0)m=!0;else{var y=l,$=l;if(typeof p!="number"||p%1||p!==p)return a.errors=[{keyword:"type",dataPath:(c||"")+".maxItems",schemaPath:"#/definitions/nonNegativeInteger/type",params:{type:"integer"},message:"should be integer"}],!1;if(typeof p=="number"&&(p<0||p!==p))return a.errors=[{keyword:"minimum",dataPath:(c||"")+".maxItems",schemaPath:"#/definitions/nonNegativeInteger/minimum",params:{comparison:">=",limit:0,exclusive:!1},message:"should be >= 0"}],!1;var w=l===$,m=l===y}if(m){if(o.minItems===void 0)m=!0;else{var y=l;r[2](o.minItems,(c||"")+".minItems",o,"minItems",h)||(f===null?f=r[2].errors:f=f.concat(r[2].errors),l=f.length);var m=l===y}if(m){if(o.uniqueItems===void 0)m=!0;else{var y=l;if(typeof o.uniqueItems!="boolean")return a.errors=[{keyword:"type",dataPath:(c||"")+".uniqueItems",schemaPath:"#/properties/uniqueItems/type",params:{type:"boolean"},message:"should be boolean"}],!1;var m=l===y}if(m){if(o.contains===void 0)m=!0;else{var y=l;a(o.contains,(c||"")+".contains",o,"contains",h)||(f===null?f=a.errors:f=f.concat(a.errors),l=f.length);var m=l===y}if(m){var p=o.maxProperties;if(p===void 0)m=!0;else{var y=l,$=l;if(typeof p!="number"||p%1||p!==p)return a.errors=[{keyword:"type",dataPath:(c||"")+".maxProperties",schemaPath:"#/definitions/nonNegativeInteger/type",params:{type:"integer"},message:"should be integer"}],!1;if(typeof p=="number"&&(p<0||p!==p))return a.errors=[{keyword:"minimum",dataPath:(c||"")+".maxProperties",schemaPath:"#/definitions/nonNegativeInteger/minimum",params:{comparison:">=",limit:0,exclusive:!1},message:"should be >= 0"}],!1;var w=l===$,m=l===y}if(m){if(o.minProperties===void 0)m=!0;else{var y=l;r[2](o.minProperties,(c||"")+".minProperties",o,"minProperties",h)||(f===null?f=r[2].errors:f=f.concat(r[2].errors),l=f.length);var m=l===y}if(m){var p=o.required;if(p===void 0)m=!0;else{var y=l,$=l;if(Array.isArray(p)){for(var O=l,w,R=0;R<p.length;R++){var D=l;if(typeof p[R]!="string")return a.errors=[{keyword:"type",dataPath:(c||"")+".required["+R+"]",schemaPath:"#/definitions/stringArray/items/type",params:{type:"string"},message:"should be string"}],!1;var A=l===D;if(!A)break}if(O==l){var j=p.length,w=!0,x;if(j>1)for(var k={},q;j--;){var q=p[j];if(typeof q=="string"){if(typeof k[q]=="number"){w=!1,x=k[q];break}k[q]=j}}if(!w)return a.errors=[{keyword:"uniqueItems",dataPath:(c||"")+".required",schemaPath:"#/definitions/stringArray/uniqueItems",params:{i:j,j:x},message:"should NOT have duplicate items (items ## "+x+" and "+j+" are identical)"}],!1}}else return a.errors=[{keyword:"type",dataPath:(c||"")+".required",schemaPath:"#/definitions/stringArray/type",params:{type:"array"},message:"should be array"}],!1;var w=l===$,m=l===y}if(m){if(o.additionalProperties===void 0)m=!0;else{var y=l;a(o.additionalProperties,(c||"")+".additionalProperties",o,"additionalProperties",h)||(f===null?f=a.errors:f=f.concat(a.errors),l=f.length);var m=l===y}if(m){var p=o.definitions;if(p===void 0)m=!0;else{var y=l;if(p&&typeof p=="object"&&!Array.isArray(p)){var S=l,w=!0;for(var C in p){var $=l;a(p[C],(c||"")+".definitions['"+C+"']",p,C,h)||(f===null?f=a.errors:f=f.concat(a.errors),l=f.length);var w=l===$;if(!w)break}}else return a.errors=[{keyword:"type",dataPath:(c||"")+".definitions",schemaPath:"#/properties/definitions/type",params:{type:"object"},message:"should be object"}],!1;var m=l===y}if(m){var p=o.properties;if(p===void 0)m=!0;else{var y=l;if(p&&typeof p=="object"&&!Array.isArray(p)){var S=l,w=!0;for(var C in p){var $=l;a(p[C],(c||"")+".properties['"+C+"']",p,C,h)||(f===null?f=a.errors:f=f.concat(a.errors),l=f.length);var w=l===$;if(!w)break}}else return a.errors=[{keyword:"type",dataPath:(c||"")+".properties",schemaPath:"#/properties/properties/type",params:{type:"object"},message:"should be object"}],!1;var m=l===y}if(m){var p=o.patternProperties;if(p===void 0)m=!0;else{var y=l;if(p&&typeof p=="object"&&!Array.isArray(p)){var S=l;for(var C in p){var F=l,Q=C,$=l;if(l===$&&typeof Q=="string"&&!yn.regex(Q)){var g={keyword:"format",dataPath:(c||"")+".patternProperties",schemaPath:"#/properties/patternProperties/propertyNames/format",params:{format:"regex"},message:'should match format "regex"'};f===null?f=[g]:f.push(g),l++}var w=l===$;if(!w){for(var K=F;K<l;K++)f[K].propertyName=C;var g={keyword:"propertyNames",dataPath:(c||"")+".patternProperties",schemaPath:"#/properties/patternProperties/propertyNames",params:{propertyName:""+C+""},message:"property name '"+C+"' is invalid"};return f===null?f=[g]:f.push(g),l++,a.errors=f,!1;break}}if(S==l){var S=l,w=!0;for(var C in p){var $=l;a(p[C],(c||"")+".patternProperties['"+C+"']",p,C,h)||(f===null?f=a.errors:f=f.concat(a.errors),l=f.length);var w=l===$;if(!w)break}}}else return a.errors=[{keyword:"type",dataPath:(c||"")+".patternProperties",schemaPath:"#/properties/patternProperties/type",params:{type:"object"},message:"should be object"}],!1;var m=l===y}if(m){var p=o.dependencies;if(p===void 0)m=!0;else{var y=l;if(p&&typeof p=="object"&&!Array.isArray(p)){var S=l,w=!0;for(var C in p){var Q=p[C],$=l,O=l,w=!1,D=l;a(Q,(c||"")+".dependencies['"+C+"']",p,C,h)||(f===null?f=a.errors:f=f.concat(a.errors),l=f.length);var A=l===D;if(w=w||A,!w){var D=l,z=l;if(Array.isArray(Q)){for(var Y=l,Z,V=0;V<Q.length;V++){var le=l;if(typeof Q[V]!="string"){var g={keyword:"type",dataPath:(c||"")+".dependencies['"+C+"']["+V+"]",schemaPath:"#/definitions/stringArray/items/type",params:{type:"string"},message:"should be string"};f===null?f=[g]:f.push(g),l++}var J=l===le;if(!J)break}if(Y==l){var j=Q.length,Z=!0,x;if(j>1)for(var k={},q;j--;){var q=Q[j];if(typeof q=="string"){if(typeof k[q]=="number"){Z=!1,x=k[q];break}k[q]=j}}if(!Z){var g={keyword:"uniqueItems",dataPath:(c||"")+".dependencies['"+C+"']",schemaPath:"#/definitions/stringArray/uniqueItems",params:{i:j,j:x},message:"should NOT have duplicate items (items ## "+x+" and "+j+" are identical)"};f===null?f=[g]:f.push(g),l++}}}else{var g={keyword:"type",dataPath:(c||"")+".dependencies['"+C+"']",schemaPath:"#/definitions/stringArray/type",params:{type:"array"},message:"should be array"};f===null?f=[g]:f.push(g),l++}var Z=l===z,A=l===D;w=w||A}if(w)l=O,f!==null&&(O?f.length=O:f=null);else{var g={keyword:"anyOf",dataPath:(c||"")+".dependencies['"+C+"']",schemaPath:"#/properties/dependencies/additionalProperties/anyOf",params:{},message:"should match some schema in anyOf"};return f===null?f=[g]:f.push(g),l++,a.errors=f,!1}var w=l===$;if(!w)break}}else return a.errors=[{keyword:"type",dataPath:(c||"")+".dependencies",schemaPath:"#/properties/dependencies/type",params:{type:"object"},message:"should be object"}],!1;var m=l===y}if(m){if(o.propertyNames===void 0)m=!0;else{var y=l;a(o.propertyNames,(c||"")+".propertyNames",o,"propertyNames",h)||(f===null?f=a.errors:f=f.concat(a.errors),l=f.length);var m=l===y}if(m&&m){var p=o.enum;if(p===void 0)m=!0;else{var y=l;if(Array.isArray(p)){if(p.length<1)return a.errors=[{keyword:"minItems",dataPath:(c||"")+".enum",schemaPath:"#/properties/enum/minItems",params:{limit:1},message:"should NOT have fewer than 1 items"}],!1;var S=l,m;if(S==l){var j=p.length,m=!0,x;if(j>1){e:for(;j--;)for(x=j;x--;)if(Xi(p[j],p[x])){m=!1;break e}}if(!m)return a.errors=[{keyword:"uniqueItems",dataPath:(c||"")+".enum",schemaPath:"#/properties/enum/uniqueItems",params:{i:j,j:x},message:"should NOT have duplicate items (items ## "+x+" and "+j+" are identical)"}],!1}}else return a.errors=[{keyword:"type",dataPath:(c||"")+".enum",schemaPath:"#/properties/enum/type",params:{type:"array"},message:"should be array"}],!1;var m=l===y}if(m){var p=o.type;if(p===void 0)m=!0;else{var y=l,S=l,m=!1,$=l,D=l,N=i.enum,A;A=!1;for(var L=0;L<N.length;L++)if(Xi(p,N[L])){A=!0;break}if(!A){var g={keyword:"enum",dataPath:(c||"")+".type",schemaPath:"#/definitions/simpleTypes/enum",params:{allowedValues:N},message:"should be equal to one of the allowed values"};f===null?f=[g]:f.push(g),l++}var A=l===D,w=l===$;if(m=m||w,!m){var $=l;if(Array.isArray(p))if(p.length<1){var g={keyword:"minItems",dataPath:(c||"")+".type",schemaPath:"#/properties/type/anyOf/1/minItems",params:{limit:1},message:"should NOT have fewer than 1 items"};f===null?f=[g]:f.push(g),l++}else{for(var O=l,w,R=0;R<p.length;R++){var D=l,z=l,M=r[5].enum,Z;Z=!1;for(var V=0;V<M.length;V++)if(Xi(p[R],M[V])){Z=!0;break}if(!Z){var g={keyword:"enum",dataPath:(c||"")+".type["+R+"]",schemaPath:"#/definitions/simpleTypes/enum",params:{allowedValues:M},message:"should be equal to one of the allowed values"};f===null?f=[g]:f.push(g),l++}var Z=l===z,A=l===D;if(!A)break}if(O==l){var j=p.length,w=!0,x;if(j>1){e:for(;j--;)for(x=j;x--;)if(Xi(p[j],p[x])){w=!1;break e}}if(!w){var g={keyword:"uniqueItems",dataPath:(c||"")+".type",schemaPath:"#/properties/type/anyOf/1/uniqueItems",params:{i:j,j:x},message:"should NOT have duplicate items (items ## "+x+" and "+j+" are identical)"};f===null?f=[g]:f.push(g),l++}}}else{var g={keyword:"type",dataPath:(c||"")+".type",schemaPath:"#/properties/type/anyOf/1/type",params:{type:"array"},message:"should be array"};f===null?f=[g]:f.push(g),l++}var w=l===$;m=m||w}if(m)l=S,f!==null&&(S?f.length=S:f=null);else{var g={keyword:"anyOf",dataPath:(c||"")+".type",schemaPath:"#/properties/type/anyOf",params:{},message:"should match some schema in anyOf"};return f===null?f=[g]:f.push(g),l++,a.errors=f,!1}var m=l===y}if(m){if(o.format===void 0)m=!0;else{var y=l;if(typeof o.format!="string")return a.errors=[{keyword:"type",dataPath:(c||"")+".format",schemaPath:"#/properties/format/type",params:{type:"string"},message:"should be string"}],!1;var m=l===y}if(m){if(o.contentMediaType===void 0)m=!0;else{var y=l;if(typeof o.contentMediaType!="string")return a.errors=[{keyword:"type",dataPath:(c||"")+".contentMediaType",schemaPath:"#/properties/contentMediaType/type",params:{type:"string"},message:"should be string"}],!1;var m=l===y}if(m){if(o.contentEncoding===void 0)m=!0;else{var y=l;if(typeof o.contentEncoding!="string")return a.errors=[{keyword:"type",dataPath:(c||"")+".contentEncoding",schemaPath:"#/properties/contentEncoding/type",params:{type:"string"},message:"should be string"}],!1;var m=l===y}if(m){if(o.if===void 0)m=!0;else{var y=l;a(o.if,(c||"")+".if",o,"if",h)||(f===null?f=a.errors:f=f.concat(a.errors),l=f.length);var m=l===y}if(m){if(o.then===void 0)m=!0;else{var y=l;a(o.then,(c||"")+".then",o,"then",h)||(f===null?f=a.errors:f=f.concat(a.errors),l=f.length);var m=l===y}if(m){if(o.else===void 0)m=!0;else{var y=l;a(o.else,(c||"")+".else",o,"else",h)||(f===null?f=a.errors:f=f.concat(a.errors),l=f.length);var m=l===y}if(m){if(o.allOf===void 0)m=!0;else{var y=l;r[3](o.allOf,(c||"")+".allOf",o,"allOf",h)||(f===null?f=r[3].errors:f=f.concat(r[3].errors),l=f.length);var m=l===y}if(m){if(o.anyOf===void 0)m=!0;else{var y=l;r[3](o.anyOf,(c||"")+".anyOf",o,"anyOf",h)||(f===null?f=r[3].errors:f=f.concat(r[3].errors),l=f.length);var m=l===y}if(m){if(o.oneOf===void 0)m=!0;else{var y=l;r[3](o.oneOf,(c||"")+".oneOf",o,"oneOf",h)||(f===null?f=r[3].errors:f=f.concat(r[3].errors),l=f.length);var m=l===y}if(m)if(o.not===void 0)m=!0;else{var y=l;a(o.not,(c||"")+".not",o,"not",h)||(f===null?f=a.errors:f=f.concat(a.errors),l=f.length);var m=l===y}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}return a.errors=f,l===0}}();Cl.schema={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0};Cl.errors=null;Em.exports=Cl});var Pm=E((J4,Sm)=>{Sm.exports={compareTwoStrings:_m,findBestMatch:EO};function _m(r,e){if(r=r.replace(/\s+/g,""),e=e.replace(/\s+/g,""),r===e)return 1;if(r.length<2||e.length<2)return 0;let t=new Map;for(let s=0;s<r.length-1;s++){let i=r.substring(s,s+2),a=t.has(i)?t.get(i)+1:1;t.set(i,a)}let n=0;for(let s=0;s<e.length-1;s++){let i=e.substring(s,s+2),a=t.has(i)?t.get(i):0;a>0&&(t.set(i,a-1),n++)}return 2*n/(r.length+e.length-2)}function EO(r,e){if(!wO(r,e))throw new Error("Bad arguments: First argument should be a string, second should be an array of strings");let t=[],n=0;for(let i=0;i<e.length;i++){let a=e[i],o=_m(r,a);t.push({target:a,rating:o}),o>t[n].rating&&(n=i)}let s=t[n];return{ratings:t,bestMatch:s,bestMatchIndex:n}}function wO(r,e){return!(typeof r!="string"||!Array.isArray(e)||!e.length||e.find(function(t){return typeof t!="string"}))}});var Dl=E((Q4,kl)=>{"use strict";var $m=Tl(),Al=vm(),Rm=Wi()({proto:!0}),Zi=Symbol("fast-json-stringify.cloned"),Om=wm(),Nl=null,Ts;try{Ts=require("long").isLong}catch{Ts=null}var Oe=`
  if (addComma) {
    json += ','
  } else {
    addComma = true
  }
`;function ql(r,e){if(!Om(r)){e?e=`"${e}" `:e="";let t=Om.errors[0],n=new Error(`${e}schema is invalid: data${t.dataPath} ${t.message}`);throw n.errors=ql.errors,n}}function Pr(r,e){return{schema:e.schema||r.schema,root:e.root||r.root,externalSchema:e.externalSchema||r.externalSchema}}var gn=new Map;function _O(r,e){if(gn.clear(),e=e||{},ql(r),e.schema)for(var t of Object.keys(e.schema))ql(e.schema[t],t);let n="trunc";if(e.rounding)if(["floor","ceil","round"].includes(e.rounding))n=e.rounding;else throw new Error(`Unsupported integer rounding method ${e.rounding}`);let s=`
    'use strict'
  `;s+=`
    ${OO}

    var isLong = ${Ts?Ts.toString():!1}

    function parseInteger(int) { return Math.${n}(int) }
    `;let i={schema:r,root:r,externalSchema:e.schema};r.$ref&&(i=Gr(r.$ref,i),r=i.schema),r.type===void 0&&(r.type=Tm(r));let a;switch(r.type){case"object":a="$main",s=ra(i,s,a);break;case"string":a=r.nullable?"$asStringNullable":ea(r.format);break;case"integer":a=r.nullable?"$asIntegerNullable":"$asInteger";break;case"number":a=r.nullable?"$asNumberNullable":"$asNumber";break;case"boolean":a=r.nullable?"$asBooleanNullable":"$asBoolean";break;case"null":a="$asNull";break;case"array":a="$main",s=ta(i,s,a),r=i.schema;break;case void 0:a="$asAny";break;default:throw new Error(`${r.type} unsupported`)}s+=`
    ;
     return ${a}
  `;let o=[new $m(e.ajv)],c=["ajv"];return c.push(s),e.debugMode?(c.toString=function(){return c.join(`
`)},c):(gn.clear(),Function.apply(null,c).apply(null,o))}var SO=["maxProperties","minProperties","required","properties","patternProperties","additionalProperties","dependencies"],PO=["items","additionalItems","maxItems","minItems","uniqueItems","contains"],$O=["maxLength","minLength","pattern"],RO=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum"];function Tm(r){for(var e of SO)if(e in r)return"object";for(var e of PO)if(e in r)return"array";for(var e of $O)if(e in r)return"string";for(var e of RO)if(e in r)return"number";return r.type}var Im={"date-time":"$asDatetime",date:"$asDate",time:"$asTime"};function ea(r){return Im[r]||"$asString"}function Cm(r){return Im[r]}var OO=`
function $pad2Zeros (num) {
  const s = '00' + num
  return s[s.length - 2] + s[s.length - 1]
}

function $asAny (i) {
  return JSON.stringify(i)
}

function $asNull () {
  return 'null'
}

function $asInteger (i) {
  if (isLong && isLong(i)) {
    return i.toString()
  } else if (typeof i === 'bigint') {
    return i.toString()
  } else if (Number.isInteger(i)) {
    return $asNumber(i)
  } else {
    /* eslint no-undef: "off" */
    return $asNumber(parseInteger(i))
  }
}

function $asIntegerNullable (i) {
  return i === null ? null : $asInteger(i)
}

function $asNumber (i) {
  const num = Number(i)
  if (isNaN(num)) {
    return 'null'
  } else {
    return '' + num
  }
}

function $asNumberNullable (i) {
  return i === null ? null : $asNumber(i)
}

function $asBoolean (bool) {
  return bool && 'true' || 'false' // eslint-disable-line
}

function $asBooleanNullable (bool) {
  return bool === null ? null : $asBoolean(bool)
}

function $asDatetime (date, skipQuotes) {
  const quotes = skipQuotes === true ? '' : '"'
  if (date instanceof Date) {
    return quotes + date.toISOString() + quotes
  } else if (date && typeof date.toISOString === 'function') {
    return quotes + date.toISOString() + quotes
  } else {
    return $asString(date, skipQuotes)
  }
}

function $asDate (date, skipQuotes) {
  const quotes = skipQuotes === true ? '' : '"'
  if (date instanceof Date) {
    return quotes + new Date(date.getTime() - (date.getTimezoneOffset() * 60000 )).toISOString().slice(0, 10) + quotes
  } else if (date && typeof date.format === 'function') {
    return quotes + date.format('YYYY-MM-DD') + quotes
  } else {
    return $asString(date, skipQuotes)
  }
}

function $asTime (date, skipQuotes) {
  const quotes = skipQuotes === true ? '' : '"'
  if (date instanceof Date) {
    const hour = new Intl.DateTimeFormat('en', { hour: 'numeric', hour12: false }).format(date)
    const minute = new Intl.DateTimeFormat('en', { minute: 'numeric' }).format(date)
    const second = new Intl.DateTimeFormat('en', { second: 'numeric' }).format(date)
    return quotes + $pad2Zeros(hour) + ':' + $pad2Zeros(minute) + ':' + $pad2Zeros(second) + quotes
  } else if (date && typeof date.format === 'function') {
    return quotes + date.format('HH:mm:ss') + quotes
  } else {
    return $asString(date, skipQuotes)
  }
}

function $asString (str, skipQuotes) {
  const quotes = skipQuotes === true ? '' : '"'
  if (str instanceof Date) {
    return quotes + str.toISOString() + quotes
  } else if (str === null) {
    return quotes + quotes
  } else if (str instanceof RegExp) {
    str = str.source
  } else if (typeof str !== 'string') {
    str = str.toString()
  }
  // If we skipQuotes it means that we are using it as test
  // no need to test the string length for the render
  if (skipQuotes) {
    return str
  }

  if (str.length < 42) {
    return $asStringSmall(str)
  } else {
    return JSON.stringify(str)
  }
}

function $asStringNullable (str) {
  return str === null ? null : $asString(str)
}

// magically escape strings for json
// relying on their charCodeAt
// everything below 32 needs JSON.stringify()
// every string that contain surrogate needs JSON.stringify()
// 34 and 92 happens all the time, so we
// have a fast case for them
function $asStringSmall (str) {
  const l = str.length
  let result = ''
  let last = 0
  let found = false
  let surrogateFound = false
  let point = 255
  // eslint-disable-next-line
  for (var i = 0; i < l && point >= 32; i++) {
    point = str.charCodeAt(i)
    if (point >= 0xD800 && point <= 0xDFFF) {
      // The current character is a surrogate.
      surrogateFound = true
    }
    if (point === 34 || point === 92) {
      result += str.slice(last, i) + '\\\\'
      last = i
      found = true
    }
  }

  if (!found) {
    result = str
  } else {
    result += str.slice(last)
  }
  return ((point < 32) || (surrogateFound === true)) ? JSON.stringify(str) : '"' + result + '"'
}
`;function TO(r){let e=r.schema,t=e.patternProperties,n=`
      var properties = ${JSON.stringify(e.properties)} || {}
      var keys = Object.keys(obj)
      for (var i = 0; i < keys.length; i++) {
        if (properties[keys[i]]) continue
  `;return Object.keys(t).forEach((s,i)=>{let a=Pr(r,{schema:t[s]});t[s].$ref&&(a=Gr(t[s].$ref,r),t[s]=a.schema);let o=t[s].type,c=t[s].format,d=ea(c);try{RegExp(s)}catch(u){throw new Error(`${u.message}. Found at ${s} matching ${JSON.stringify(t[s])}`)}n+=`
        if (/${s.replace(/\\*\//g,"\\/")}/.test(keys[i])) {
    `,o==="object"?n+=`${ra(a,"","buildObjectPP"+i)}
          ${Oe}
          json += $asString(keys[i]) + ':' + buildObjectPP${i}(obj[keys[i]])
      `:o==="array"?n+=`${ta(a,"","buildArrayPP"+i)}
          ${Oe}
          json += $asString(keys[i]) + ':' + buildArrayPP${i}(obj[keys[i]])
      `:o==="null"?n+=`
          ${Oe}
          json += $asString(keys[i]) +':null'
      `:o==="string"?n+=`
          ${Oe}
          json += $asString(keys[i]) + ':' + ${d}(obj[keys[i]])
      `:o==="integer"?n+=`
          ${Oe}
          json += $asString(keys[i]) + ':' + $asInteger(obj[keys[i]])
      `:o==="number"?n+=`
          ${Oe}
          json += $asString(keys[i]) + ':' + $asNumber(obj[keys[i]])
      `:o==="boolean"?n+=`
          ${Oe}
          json += $asString(keys[i]) + ':' + $asBoolean(obj[keys[i]])
      `:o===void 0?n+=`
          ${Oe}
          json += $asString(keys[i]) + ':' + $asAny(obj[keys[i]])
      `:n+=`
        throw new Error('Cannot coerce ' + obj[keys[i]] + ' to ' + ${JSON.stringify(o)})
      `,n+=`
          continue
        }
    `}),e.additionalProperties&&(n+=Am(r)),n+=`
      }
  `,n}function Am(r){let e=r.schema.additionalProperties,t="";if(e===!0)return`
        if (obj[keys[i]] !== undefined && typeof obj[keys[i]] !== 'function' && typeof obj[keys[i]] !== 'symbol') {
          ${Oe}
          json += $asString(keys[i]) + ':' + JSON.stringify(obj[keys[i]])
        }
    `;let n=Pr(r,{schema:e});e.$ref&&(n=Gr(e.$ref,r),e=n.schema);let s=e.type,i=e.format,a=ea(i);return s==="object"?t+=`${ra(n,"","buildObjectAP")}
        ${Oe}
        json += $asString(keys[i]) + ':' + buildObjectAP(obj[keys[i]])
    `:s==="array"?t+=`${ta(n,"","buildArrayAP")}
        ${Oe}
        json += $asString(keys[i]) + ':' + buildArrayAP(obj[keys[i]])
    `:s==="null"?t+=`
        ${Oe}
        json += $asString(keys[i]) +':null'
    `:s==="string"?t+=`
        ${Oe}
        json += $asString(keys[i]) + ':' + ${a}(obj[keys[i]])
    `:s==="integer"?(t+=`
        var t = Number(obj[keys[i]])
    `,Ts?t+=`
          if (isLong(obj[keys[i]]) || !isNaN(t)) {
            ${Oe}
            json += $asString(keys[i]) + ':' + $asInteger(obj[keys[i]])
          }
      `:t+=`
          if (!isNaN(t)) {
            ${Oe}
            json += $asString(keys[i]) + ':' + t
          }
      `):s==="number"?t+=`
        var t = Number(obj[keys[i]])
        if (!isNaN(t)) {
          ${Oe}
          json += $asString(keys[i]) + ':' + t
        }
    `:s==="boolean"?t+=`
        ${Oe}
        json += $asString(keys[i]) + ':' + $asBoolean(obj[keys[i]])
    `:s===void 0?t+=`
        ${Oe}
        json += $asString(keys[i]) + ':' + $asAny(obj[keys[i]])
    `:t+=`
        throw new Error('Cannot coerce ' + obj[keys[i]] + ' to ' + ${JSON.stringify(s)})
    `,t}function IO(r){return`
      var properties = ${JSON.stringify(r.schema.properties)} || {}
      var keys = Object.keys(obj)
      for (var i = 0; i < keys.length; i++) {
        if (properties[keys[i]]) continue
        ${Am(r)}
      }
  `}function Nm(r,e){let t,n=(s,i)=>{Object.keys(s||{}).forEach((a,o,c)=>{a==="$id"&&s[a]===i?t=s:t===void 0&&typeof s[a]=="object"&&n(s[a],i)})};return n(r,e),t}function Gr(r,e){let t=e.externalSchema,n=e.root,s=e.schema;if(t&&t[r])return{schema:t[r],root:t[r],externalSchema:t};if(r=r.split("#"),r[0]&&(s=t[r[0]],n=t[r[0]],s===void 0&&d(t,[r[0]]),s.$ref))return Gr(s.$ref,{schema:s,root:n,externalSchema:t});let i="return schema";if(r[1]){let u=r[1].split("/");if(u.length===1){let h=`#${r[1]}`,f=Nm(s,h);if(f===void 0&&!r[0]){for(var a of Object.keys(t))if(f=Nm(t[a],h),f!==void 0){n=t[a];break}}return{schema:f,root:n,externalSchema:t}}else for(var o=1;o<u.length;o++)i+=`[${JSON.stringify(u[o])}]`}let c;try{c=new Function("schema",i)(n)}catch{}if(c===void 0&&r[1]){let u=r[1].split("/");d(s,u.slice(1))}if(c.$ref)return Gr(c.$ref,{schema:s,root:n,externalSchema:t});return{schema:c,root:n,externalSchema:t};function d(u,h){if(h.length===0)return null;let f=h.shift();if(u[f]===void 0){Nl=Nl||Pm();let{bestMatch:l}=Nl.findBestMatch(f,Object.keys(u));throw l.rating>=.5?new Error(`Cannot find reference ${JSON.stringify(f)}, did you mean ${JSON.stringify(l.target)}?`):new Error(`Cannot find reference ${JSON.stringify(f)}`)}return d(u[f],h)}}function CO(r,e,t,n){r.schema.$ref&&(r=Gr(r.schema.$ref,r));let s=r.schema,i=s.required;if(Object.keys(s.properties||{}).forEach((o,c,d)=>{let u=Pr(r,{schema:s.properties[o]});s.properties[o].$ref&&(u=Gr(s.properties[o].$ref,r),s.properties[o]=u.schema);let h=s.properties[o].type,f=s.properties[o].nullable,l=JSON.stringify(o),v=JSON.stringify(l);if(f&&(e+=`
        if (obj[${l}] === null) {
          ${Oe}
          json += ${v} + ':null'
          var rendered = true
        } else {
      `),h==="number")e+=`
          var t = Number(obj[${l}])
          if (!isNaN(t)) {
            ${Oe}
            json += ${v} + ':' + t
      `;else if(h==="integer")e+=`
          var rendered = false
      `,Ts?e+=`
            if (isLong(obj[${l}])) {
              ${Oe}
              json += ${v} + ':' + obj[${l}].toString()
              rendered = true
            } else {
              var t = Number(obj[${l}])
              if (!isNaN(t)) {
                ${Oe}
                json += ${v} + ':' + t
                rendered = true
              }
            }
        `:e+=`
            var t = $asInteger(obj[${l}])
            if (!isNaN(t)) {
              ${Oe}
              json += ${v} + ':' + t
              rendered = true
            }
        `,e+=`
          if (rendered) {
      `;else{e+=`
        if (obj[${l}] !== undefined) {
          ${Oe}
          json += ${v} + ':'
        `;let p=Ut(t,n,o,Pr(u,{schema:s.properties[o]}),void 0,!1);e+=p.code,t=p.laterCode}let m=s.properties[o].default;m!==void 0?(i=qm(i,o),e+=`
      } else {
        ${Oe}
        json += ${v} + ':' + ${JSON.stringify(JSON.stringify(m))}
      `):i&&i.indexOf(o)!==-1&&(i=qm(i,o),e+=`
      } else {
        throw new Error('${l} is required!')
      `),e+=`
      }
    `,f&&(e+=`
        }
      `)}),i&&i.length>0){e+="var required = [";for(var a=0;a<i.length;a++)a>0&&(e+=","),e+=`${JSON.stringify(i[a])}`;e+=`]
      for (var i = 0; i < required.length; i++) {
        if (obj[required[i]] === undefined) throw new Error('"' + required[i] + '" is required!')
      }
    `}return{code:e,laterCode:t}}function qm(r,e){return r&&r.filter(t=>t!==e)}function jm(r,e,t,n){if(r.schema.allOf)r.schema.allOf.forEach(s=>{let i=jm(Pr(r,{schema:s}),e,t,n);e=i.code,t=i.laterCode});else{let s=CO(r,e,t,n);e=s.code,t=s.laterCode}return{code:e,laterCode:t}}function jl(r,e){let t=r.schema,n=jm(r,"","",e);return t.patternProperties?n.code+=TO(r):t.additionalProperties&&!t.patternProperties&&(n.code+=IO(r)),n}function xl(r,e){let t="",n,s="",i,a=r.schema,o=Al({},a),c=o.if,d=o.then,u=o.else?o.else:{additionalProperties:!0};delete o.if,delete o.then,delete o.else;let h=Al(o,d),f=Pr(r,{schema:h});return t+=`
    valid = ajv.validate(${JSON.stringify(c)}, obj)
    if (valid) {
  `,h.if&&h.then&&(i=xl(f,e+"Then"),t+=i.code,s=i.laterCode),n=jl(f,e+"Then"),t+=n.code,s+=n.laterCode,t+=`
    }
  `,h=Al(o,u),f=Pr(f,{schema:h}),t+=`
      else {
    `,h.if&&h.then&&(i=xl(f,e+"Else"),t+=i.code,s+=i.laterCode),n=jl(f,e+"Else"),t+=n.code,s+=n.laterCode,t+=`
      }
    `,{code:t,laterCode:s}}function AO(r){return`(${r} && typeof ${r}.toJSON === 'function')
    ? ${r}.toJSON()
    : ${r}
  `}function ra(r,e,t){let n=r.schema;e+=`
    function ${t} (input) {
  `,n.nullable&&(e+=`
      if(input === null) {
        return 'null';
      }
  `),e+=`
      var obj = ${AO("input")}
      var json = '{'
      var addComma = false
  `;let s;return n.if&&n.then?(e+=`
      var valid
    `,s=xl(r,t)):s=jl(r,t),e+=`${s.code}
      json += '}'
      return json
    }
    ${s.laterCode}
  `,e}function ta(r,e,t,n=null){let s=r.schema;e+=`
    function ${t} (obj) {
  `,s.nullable&&(e+=`
      if(obj === null) {
        return 'null';
      }
    `);let i="";if(s.items||(s.items={}),s.items.$ref){if(s[Zi]||(r.schema=Rm(r.schema),s=r.schema,s[Zi]=!0),r=Gr(s.items.$ref,r),s.items=r.schema,gn.has(s.items))return e+=`
      return ${gn.get(s.items)}(obj)
      }
      `,e;gn.set(s.items,t)}let a={code:"",laterCode:""},o="[i]";if(Array.isArray(s.items)){if(a=s.items.reduce((c,d,u)=>{let h=Ut(i,t,o,Pr(r,{schema:d}),u,!0),f=`i === ${u} && ${xm(d.type,o)}`;return{code:`${c.code}
        ${u>0?"else":""} if (${f}) {
          ${h.code}
        }`,laterCode:`${c.laterCode}
        ${h.laterCode}`}},a),s.additionalItems){let c=Ut(i,t,o,Pr(r,{schema:s.items}),void 0,!0);a.code+=`
      else if (i >= ${s.items.length}) {
        ${c.code}
      }
      `}a.code+=`
    else {
      throw new Error(\`Item at \${i} does not match schema definition.\`)
    }
    `}else a=Ut(i,t,o,Pr(r,{schema:s.items}),void 0,!0);return n&&(e+=`
    if(!Array.isArray(obj)) {
      throw new TypeError(\`Property '${n}' should be of type array, received '\${obj}' instead.\`)
    }
    `),e+=`
    var l = obj.length
    var jsonOutput= ''
    for (var i = 0; i < l; i++) {
      var json = ''
      ${a.code}
      jsonOutput += json

      if (json.length > 0 && i < l - 1) {
        jsonOutput += ','
      }
    }
    return \`[\${jsonOutput}]\`
  }
  ${a.laterCode}
  `,e}function xm(r,e){let t;switch(r){case"null":t=`obj${e} === null`;break;case"string":t=`typeof obj${e} === 'string'`;break;case"integer":t=`Number.isInteger(obj${e})`;break;case"number":t=`Number.isFinite(obj${e})`;break;case"boolean":t=`typeof obj${e} === 'boolean'`;break;case"object":t=`obj${e} && typeof obj${e} === 'object' && obj${e}.constructor === Object`;break;case"array":t=`Array.isArray(obj${e})`;break;default:if(Array.isArray(r))t=`(${r.map(s=>xm(s,e)).join(" || ")})`;else throw new Error(`${r} unsupported`)}return t}function km(r,e){if(!r.schema[Zi]){let s=Rm(r.schema);s[Zi]=!0,r.schema=s}let t=r.schema,n=[];return t[e].forEach((s,i)=>{let a=Pr(r,{schema:s});for(;s.$ref;)a=Gr(s.$ref,a),t[e][i]=a.schema,s=t[e][i];n[i]=a}),n}var Dm=0;function Lm(r){let e=r.replace(/[^a-zA-Z0-9$_]/g,"");return e.length===0?"anan"+Dm++:(e!==r&&(e+=Dm++),e)}function Ut(r,e,t,n,s,i){let a="",o;s=s||"";let c=n.schema;if(c.$ref&&(c=Gr(c.$ref,n)),c.type===void 0){let f=Tm(c);f&&(c.type=f)}let d=c.type,u=c.nullable===!0,h=i?t:`[${JSON.stringify(t)}]`;switch(d){case"null":a+=`
        json += $asNull()
      `;break;case"string":{let f=ea(c.format);a+=u?`json += obj${h} === null ? null : ${f}(obj${h})`:`json += ${f}(obj${h})`;break}case"integer":a+=u?`json += obj${h} === null ? null : $asInteger(obj${h})`:`json += $asInteger(obj${h})`;break;case"number":a+=u?`json += obj${h} === null ? null : $asNumber(obj${h})`:`json += $asNumber(obj${h})`;break;case"boolean":a+=u?`json += obj${h} === null ? null : $asBoolean(obj${h})`:`json += $asBoolean(obj${h})`;break;case"object":o=Lm(e+t+s),r=ra(n,r,o),a+=`
        json += ${o}(obj${h})
      `;break;case"array":o=Lm("$arr"+e+t+s),r=ta(n,r,o,t),a+=`
        json += ${o}(obj${h})
      `;break;case void 0:if("anyOf"in c)km(n,"anyOf").forEach((l,v)=>{let m=Ut(r,e,t,l,s!==""?s:"i"+v,i),p=Cm(l.schema.format),y=p!==void 0?`${p}(obj${h}, true)`:`obj${h}`;a+=`
            ${v===0?"if":"else if"}(ajv.validate(${JSON.stringify(l.schema)}, ${y}))
              ${m.code}
          `,r=m.laterCode}),a+=`
          else json+= null
        `;else if("oneOf"in c)km(n,"oneOf").forEach((l,v)=>{let m=Ut(r,e,t,l,s!==""?s:"i"+v,i),p=Cm(l.schema.format),y=p!==void 0?`${p}(obj${h}, true)`:`obj${h}`;a+=`
            ${v===0?"if":"else if"}(ajv.validate(${JSON.stringify(l.schema)}, ${y}))
              ${m.code}
          `,r=m.laterCode}),i||(a+=`
            else json+= null
          `);else if(NO(c))a+=`
          json += JSON.stringify(obj${h})
        `;else if("const"in c)a+=`
          if(ajv.validate(${JSON.stringify(c)}, obj${h}))
            json += '${JSON.stringify(c.const)}'
          else
            throw new Error(\`Item \${JSON.stringify(obj${h})} does not match schema definition.\`)
        `;else if(c.type===void 0)a+=`
          json += JSON.stringify(obj${h})
        `;else throw new Error(`${c.type} unsupported`);break;default:if(Array.isArray(d)){let f=d.indexOf("null");(f!==-1?[d[f]].concat(d.slice(0,f)).concat(d.slice(f+1)):d).forEach((v,m)=>{let p=m===0?"if":"else if",y=Object.assign({},c,{type:v}),S=Ut(r,e,t,Pr(n,{schema:y}),s,i);switch(v){case"string":{a+=`
                ${p}(obj${h} === null || typeof obj${h} === "${v}" || obj${h} instanceof Date || typeof obj${h}.toISOString === "function" || obj${h} instanceof RegExp || (typeof obj${h} === "object" && Object.hasOwnProperty.call(obj${h}, "toString")))
                  ${S.code}
              `;break}case"null":{a+=`
                ${p}(obj${h} == null)
                  ${S.code}
              `;break}case"array":{a+=`
                ${p}(Array.isArray(obj${h}))
                  ${S.code}
              `;break}case"integer":{a+=`
                ${p}(Number.isInteger(obj${h}) || obj${h} === null)
                  ${S.code}
              `;break}case"number":{a+=`
                ${p}(isNaN(obj${h}) === false)
                  ${S.code}
              `;break}default:{a+=`
                ${p}(typeof obj${h} === "${v}")
                  ${S.code}
              `;break}}r=S.laterCode}),a+=`
          else json+= null
        `}else throw new Error(`${d} unsupported`)}return{code:a,laterCode:r}}function NO(r){for(var e in r)if(r.hasOwnProperty(e)&&r[e]!==void 0)return!1;return!0}kl.exports=_O;kl.exports.restore=function(r,e={}){let t=[r],n=[];return r.startsWith("ajv")&&(t.unshift("ajv"),n.push(new $m(e.ajv))),Function.apply(null,["ajv",r]).apply(null,n)}});var Bt=E((Y4,Vm)=>{"use strict";var qO=["onRoute","onRegister","onReady","onClose"],Fm=["onTimeout","onRequest","preParsing","preValidation","preSerialization","preHandler","onSend","onResponse","onError"],Mm=Fm.concat(qO),{FST_ERR_HOOK_INVALID_TYPE:jO,FST_ERR_HOOK_INVALID_HANDLER:xO,FST_ERR_SEND_UNDEFINED_ERR:kO}=br(),{kReplyIsError:DO,kChildren:Ll,kHooks:LO}=er();function sa(){this.onRequest=[],this.preParsing=[],this.preValidation=[],this.preSerialization=[],this.preHandler=[],this.onResponse=[],this.onSend=[],this.onError=[],this.onRoute=[],this.onRegister=[],this.onReady=[],this.onTimeout=[]}sa.prototype.validate=function(r,e){if(typeof r!="string")throw new jO;if(typeof e!="function")throw new xO;if(Mm.indexOf(r)===-1)throw new Error(`${r} hook not supported!`)};sa.prototype.add=function(r,e){this.validate(r,e),this[r].push(e)};function FO(r){let e=new sa;return e.onRequest=r.onRequest.slice(),e.preParsing=r.preParsing.slice(),e.preValidation=r.preValidation.slice(),e.preSerialization=r.preSerialization.slice(),e.preHandler=r.preHandler.slice(),e.onSend=r.onSend.slice(),e.onResponse=r.onResponse.slice(),e.onError=r.onError.slice(),e.onRoute=r.onRoute.slice(),e.onRegister=r.onRegister.slice(),e.onTimeout=r.onTimeout.slice(),e.onReady=[],e}function Hm(r,e,t,n){let s=t[LO][r],i=0,a=0;c();function o(u){if(u){n(u);return}n()}function c(u){if(u){o(u);return}if(i===s.length&&a===t[Ll].length){i===0&&a===0?o():e(function(f,l){o(f),l(f)});return}if(i===s.length&&a<t[Ll].length){let h=t[Ll][a++];Hm(r,e,h,c);return}e(d(s[i++],t)),c()}function d(u,h){return function(f,l){if(f){l(f);return}if(u.length===1){try{u.call(h,l)}catch(m){l(m)}return}let v=u.call(h);if(v&&typeof v.then=="function"){v.then(l,l);return}l(f)}}}function MO(r,e,t,n,s){let i=0;function a(d){if(d||i===r.length){s(d,t,n);return}let u;try{u=e(r[i++],t,n,a)}catch(h){a(h);return}u&&typeof u.then=="function"&&u.then(o,c)}function o(){a()}function c(d){d?d instanceof Error||(n[DO]=!0):d=new kO,s(d,t,n)}a()}function HO(r,e,t,n,s){let i=0;function a(d,u){if(d){s(d,e,t,n);return}if(u!==void 0&&(n=u),i===r.length){try{s(null,e,t,n)}catch(f){c(f)}return}let h;try{h=r[i++](e,t,n,a)}catch(f){a(f);return}h&&typeof h.then=="function"&&h.then(o,c)}function o(d){a(null,d)}function c(d){s(d,e,t,n)}a()}function VO(r,e,t,n){if(t.sent!==!0)return r(e,t,n)}Vm.exports={Hooks:sa,buildHooks:FO,hookRunner:MO,onSendHookRunner:HO,hookIterator:VO,hookRunnerApplication:Hm,lifecycleHooks:Fm,supportedHooks:Mm}});var Vl=E((W4,Um)=>{"use strict";var{kSchemaHeaders:na,kSchemaParams:Fl,kSchemaQuerystring:Ml,kSchemaBody:Hl,kSchemaResponse:zm}=er();function zO(r,e){if(!r.schema||!r.schema.response)return;let{method:t,url:n}=r.config||{};r[zm]=Object.keys(r.schema.response).reduce(function(s,i){return s[i]=e({schema:r.schema.response[i],url:n,method:t,httpStatus:i}),s},{})}function UO(r,e){if(!r.schema)return;let{method:t,url:n}=r.config||{},s=r.schema.headers;if(s&&Object.getPrototypeOf(s)!==Object.prototype)r[na]=e({schema:s,method:t,url:n,httpPart:"headers"});else if(s){let i={};Object.keys(s).forEach(a=>{i[a]=s[a]}),i.required instanceof Array&&(i.required=i.required.map(a=>a.toLowerCase())),s.properties&&(i.properties={},Object.keys(s.properties).forEach(a=>{i.properties[a.toLowerCase()]=s.properties[a]})),r[na]=e({schema:i,method:t,url:n,httpPart:"headers"})}r.schema.body&&(r[Hl]=e({schema:r.schema.body,method:t,url:n,httpPart:"body"})),r.schema.querystring&&(r[Ml]=e({schema:r.schema.querystring,method:t,url:n,httpPart:"querystring"})),r.schema.params&&(r[Fl]=e({schema:r.schema.params,method:t,url:n,httpPart:"params"}))}function ia(r,e,t){let n=r&&r(e[t]);return n===!1?r.errors:n&&n.error?n.error:(n&&n.value&&(e[t]=n.value),!1)}function BO(r,e){let t=ia(r[Fl],e,"params");if(t)return aa(t,"params",r.schemaErrorFormatter);let n=ia(r[Hl],e,"body");if(n)return aa(n,"body",r.schemaErrorFormatter);let s=ia(r[Ml],e,"query");if(s)return aa(s,"querystring",r.schemaErrorFormatter);let i=ia(r[na],e,"headers");return i?aa(i,"headers",r.schemaErrorFormatter):null}function aa(r,e,t){if(r instanceof Error)return r.validationContext=r.validationContext||e,r;let n=t(r,e);return n.validation=r,n.validationContext=e,n}Um.exports={symbols:{bodySchema:Hl,querystringSchema:Ml,responseSchema:zm,paramsSchema:Fl,headersSchema:na},compileSchemasForValidation:UO,compileSchemasForSerialization:zO,validate:BO}});var zl=E((X4,Km)=>{"use strict";var{kReplyIsError:Bm,kReplySent:oa,kReplySentOverwritten:Gm}=er(),{FST_ERR_PROMISE_NOT_FULFILLED:GO}=br();function KO(r,e){r.then(function(t){if(e[Gm]!==!0)if(t!==void 0||e.raw.statusCode===204&&e[oa]===!1)try{e.send(t)}catch(n){e[oa]=!1,e[Bm]=!0,e.send(n)}else e[oa]===!1&&e.log.error({err:new GO},"Promise may not be fulfilled with 'undefined' when statusCode is not 204")},function(t){if(e[Gm]===!0||e.sent===!0){e.log.error({err:t},"Promise errored, but reply.sent = true was set");return}e[oa]=!1,e[Bm]=!0,e.send(t)})}Km.exports=KO});var Kl=E((Z4,Gl)=>{"use strict";var{validate:JO}=Vl(),{hookRunner:Jm,hookIterator:Qm}=Bt(),QO=zl(),{kReplyIsError:YO}=er();function WO(r,e,t){if(t.sent===!0)return;if(r!=null){t.send(r);return}let n=e.raw.method,s=e.headers;if(n==="GET"||n==="HEAD"){Gt(e,t);return}let i=s["content-type"];if(n==="POST"||n==="PUT"||n==="PATCH"){i===void 0?s["transfer-encoding"]===void 0&&(s["content-length"]==="0"||s["content-length"]===void 0)?Gt(e,t):t.context.contentTypeParser.run("",Gt,e,t):t.context.contentTypeParser.run(i,Gt,e,t);return}if(n==="OPTIONS"||n==="DELETE"){i!==void 0&&(s["transfer-encoding"]!==void 0||s["content-length"]!==void 0)?t.context.contentTypeParser.run(i,Gt,e,t):Gt(e,t);return}t.code(404).send(new Error("Not Found"))}function Gt(r,e){try{e.context.preValidation!==null?Jm(e.context.preValidation,Qm,r,e,Ul):Ul(null,r,e)}catch(t){Ul(t,r,e)}}function Ul(r,e,t){if(t.sent===!0||t.raw.writableEnded===!0||t.raw.writable===!1)return;if(r!=null){t.send(r);return}let n=JO(t.context,e);if(n){if(t.context.attachValidation===!1){t.code(400).send(n);return}t.request.validationError=n}t.context.preHandler!==null?Jm(t.context.preHandler,Qm,e,t,Bl):Bl(null,e,t)}function Bl(r,e,t){if(t.sent||t.raw.writableEnded===!0||t.raw.writable===!1)return;if(r!=null){t.send(r);return}let n;try{n=t.context.handler(e,t)}catch(s){s instanceof Error||(t[YO]=!0),t.send(s);return}n!==void 0&&(n!==null&&typeof n.then=="function"?QO(n,t):t.send(n))}Gl.exports=WO;Gl.exports[Symbol.for("internals")]={handler:Gt,preHandlerCallback:Bl}});var Wm=E((eH,Ym)=>{"use strict";function Is(){}var XO={fatal:Is,error:Is,warn:Is,info:Is,debug:Is,trace:Is};Object.defineProperty(Ym,"exports",{get(){return Object.create(XO)}})});var rv=E((rH,ev)=>{"use strict";ev.exports=Zm;var{toString:ZO}=Object.prototype,Jl=Symbol("circular-ref-tag"),Ql=Symbol("pino-raw-err-ref"),Xm=Object.create({},{type:{enumerable:!0,writable:!0,value:void 0},message:{enumerable:!0,writable:!0,value:void 0},stack:{enumerable:!0,writable:!0,value:void 0},raw:{enumerable:!1,get:function(){return this[Ql]},set:function(r){this[Ql]=r}}});Object.defineProperty(Xm,Ql,{writable:!0,value:{}});function Zm(r){if(!(r instanceof Error))return r;r[Jl]=void 0;let e=Object.create(Xm);e.type=ZO.call(r.constructor)==="[object Function]"?r.constructor.name:r.name,e.message=r.message,e.stack=r.stack;for(let t in r)if(e[t]===void 0){let n=r[t];n instanceof Error?n.hasOwnProperty(Jl)||(e[t]=Zm(n)):e[t]=n}return delete r[Jl],e.raw=r,e}});var iv=E((tH,nv)=>{"use strict";nv.exports={mapHttpRequest:e1,reqSerializer:sv};var Yl=Symbol("pino-raw-req-ref"),tv=Object.create({},{id:{enumerable:!0,writable:!0,value:""},method:{enumerable:!0,writable:!0,value:""},url:{enumerable:!0,writable:!0,value:""},query:{enumerable:!0,writable:!0,value:""},params:{enumerable:!0,writable:!0,value:""},headers:{enumerable:!0,writable:!0,value:{}},remoteAddress:{enumerable:!0,writable:!0,value:""},remotePort:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[Yl]},set:function(r){this[Yl]=r}}});Object.defineProperty(tv,Yl,{writable:!0,value:{}});function sv(r){let e=r.info||r.socket,t=Object.create(tv);return t.id=typeof r.id=="function"?r.id():r.id||(r.info?r.info.id:void 0),t.method=r.method,r.originalUrl?(t.url=r.originalUrl,t.query=r.query,t.params=r.params):t.url=r.path||(r.url?r.url.path||r.url:void 0),t.headers=r.headers,t.remoteAddress=e&&e.remoteAddress,t.remotePort=e&&e.remotePort,t.raw=r.raw||r,t}function e1(r){return{req:sv(r)}}});var uv=E((sH,lv)=>{"use strict";lv.exports={mapHttpResponse:r1,resSerializer:ov};var Wl=Symbol("pino-raw-res-ref"),av=Object.create({},{statusCode:{enumerable:!0,writable:!0,value:0},headers:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[Wl]},set:function(r){this[Wl]=r}}});Object.defineProperty(av,Wl,{writable:!0,value:{}});function ov(r){let e=Object.create(av);return e.statusCode=r.statusCode,e.headers=r.getHeaders?r.getHeaders():r._headers,e.raw=r,e}function r1(r){return{res:ov(r)}}});var Zl=E((nH,cv)=>{"use strict";var Xl=rv(),la=iv(),ua=uv();cv.exports={err:Xl,mapHttpRequest:la.mapHttpRequest,mapHttpResponse:ua.mapHttpResponse,req:la.reqSerializer,res:ua.resSerializer,wrapErrorSerializer:function(e){return e===Xl?e:function(n){return e(Xl(n))}},wrapRequestSerializer:function(e){return e===la.reqSerializer?e:function(n){return e(la.reqSerializer(n))}},wrapResponseSerializer:function(e){return e===ua.resSerializer?e:function(n){return e(ua.resSerializer(n))}}}});var hv=E((iH,fv)=>{"use strict";var{createContext:t1,runInContext:s1}=require("vm");fv.exports=n1;function n1(r={}){let{ERR_PATHS_MUST_BE_STRINGS:e=()=>"fast-redact - Paths must be (non-empty) strings",ERR_INVALID_PATH:t=n=>`fast-redact \u2013 Invalid path (${n})`}=r;return function({paths:s}){s.forEach(i=>{if(typeof i!="string")throw Error(e());try{if(/〇/.test(i))throw Error();let a=new Proxy({},{get:()=>a,set:()=>{throw Error()}}),o=(i[0]==="["?"":".")+i.replace(/^\*/,"\u3007").replace(/\.\*/g,".\u3007").replace(/\[\*\]/g,"[\u3007]");if(/\n|\r|;/.test(o)||/\/\*/.test(o))throw Error();s1(`
          (function () {
            'use strict'
            o${o}
            if ([o${o}].length !== 1) throw Error()
          })()
        `,t1({o:a,"\u3007":null}),{codeGeneration:{strings:!1,wasm:!1}})}catch{throw Error(t(i))}})}}});var ca=E((aH,dv)=>{"use strict";dv.exports=/[^.[\]]+|\[((?:.)*?)\]/g});var mv=E((oH,pv)=>{"use strict";var i1=ca();pv.exports=a1;function a1({paths:r}){let e=[];var t=0;let n=r.reduce(function(s,i,a){var o=i.match(i1).map(u=>u.replace(/'|"|`/g,""));let c=i[0]==="[";o=o.map(u=>u[0]==="["?u.substr(1,u.length-2):u);let d=o.indexOf("*");if(d>-1){let u=o.slice(0,d),h=u.join("."),f=o.slice(d+1,o.length);if(f.indexOf("*")>-1)throw Error("fast-redact \u2013 Only one wildcard per path is supported");let l=f.length>0;t++,e.push({before:u,beforeStr:h,after:f,nested:l})}else s[i]={path:o,val:void 0,precensored:!1,circle:"",escPath:JSON.stringify(i),leadingBracket:c};return s},{});return{wildcards:e,wcLen:t,secret:n}}});var yv=E((lH,vv)=>{"use strict";var o1=ca();vv.exports=l1;function l1({secret:r,serialize:e,wcLen:t,strict:n,isCensorFct:s,censorFctTakesPath:i},a){let o=Function("o",`
    if (typeof o !== 'object' || o == null) {
      ${h1(n,e)}
    }
    const { censor, secret } = this
    ${u1(r,s,i)}
    this.compileRestore()
    ${c1(t>0,s,i)}
    ${f1(e)}
  `).bind(a);return e===!1&&(o.restore=c=>a.restore(c)),o}function u1(r,e,t){return Object.keys(r).map(n=>{let{escPath:s,leadingBracket:i,path:a}=r[n],o=i?1:0,c=i?"":".",d=[];for(var u;(u=o1.exec(n))!==null;){let[,v]=u,{index:m,input:p}=u;m>o&&d.push(p.substring(0,m-(v?0:1)))}var h=d.map(v=>`o${c}${v}`).join(" && ");h.length===0?h+=`o${c}${n} != null`:h+=` && o${c}${n} != null`;let f=`
      switch (true) {
        ${d.reverse().map(v=>`
          case o${c}${v} === censor:
            secret[${s}].circle = ${JSON.stringify(v)}
            break
        `).join(`
`)}
      }
    `,l=t?`val, ${JSON.stringify(a)}`:"val";return`
      if (${h}) {
        const val = o${c}${n}
        if (val === censor) {
          secret[${s}].precensored = true
        } else {
          secret[${s}].val = val
          o${c}${n} = ${e?`censor(${l})`:"censor"}
          ${f}
        }
      }
    `}).join(`
`)}function c1(r,e,t){return r===!0?`
    {
      const { wildcards, wcLen, groupRedact, nestedRedact } = this
      for (var i = 0; i < wcLen; i++) {
        const { before, beforeStr, after, nested } = wildcards[i]
        if (nested === true) {
          secret[beforeStr] = secret[beforeStr] || []
          nestedRedact(secret[beforeStr], o, before, after, censor, ${e}, ${t})
        } else secret[beforeStr] = groupRedact(o, before, censor, ${e}, ${t})
      }
    }
  `:""}function f1(r){return r===!1?"return o":`
    var s = this.serialize(o)
    this.restore(o)
    return s
  `}function h1(r,e){return r===!0?"throw Error('fast-redact: primitives cannot be redacted')":e===!1?"return o":"return this.serialize(o)"}});var eu=E((uH,bv)=>{"use strict";bv.exports={groupRedact:p1,groupRestore:d1,nestedRedact:v1,nestedRestore:m1};function d1({keys:r,values:e,target:t}){if(t==null)return;let n=r.length;for(var s=0;s<n;s++){let i=r[s];t[i]=e[s]}}function p1(r,e,t,n,s){let i=gv(r,e);if(i==null)return{keys:null,values:null,target:null,flat:!0};let a=Object.keys(i),o=a.length,c=e.length,d=s?[...e]:void 0,u=new Array(o);for(var h=0;h<o;h++){let f=a[h];u[h]=i[f],s?(d[c]=f,i[f]=t(i[f],d)):n?i[f]=t(i[f]):i[f]=t}return{keys:a,values:u,target:i,flat:!0}}function m1(r){let e=r.length;for(var t=0;t<e;t++){let{key:n,target:s,value:i}=r[t];s[n]=i}}function v1(r,e,t,n,s,i,a){let o=gv(e,t);if(o==null)return;let c=Object.keys(o),d=c.length;for(var u=0;u<d;u++){let h=c[u],{value:f,parent:l,exists:v}=g1(o,h,t,n,s,i,a);v===!0&&l!==null&&r.push({key:n[n.length-1],target:l,value:f})}return r}function y1(r,e){return Object.prototype.hasOwnProperty.call(r,e)}function g1(r,e,t,n,s,i,a){let o=n.length,c=o-1,d=e;var u=-1,h,f,l,v=null,m=!0;if(l=h=r[e],typeof h!="object")return{value:null,parent:null,exists:m};for(;h!=null&&++u<o;){if(e=n[u],v=l,!(e in h)){m=!1;break}if(l=h[e],f=u!==c?l:i?a?s(l,[...t,d,...n]):s(l):s,h[e]=y1(h,e)&&f===l||f===void 0&&s!==void 0?h[e]:f,h=h[e],typeof h!="object")break}return{value:l,parent:v,exists:m}}function gv(r,e){for(var t=-1,n=e.length,s=r;s!=null&&++t<n;)s=s[e[t]];return s}});var wv=E((cH,Ev)=>{"use strict";var{groupRestore:b1,nestedRestore:E1}=eu();Ev.exports=w1;function w1({secret:r,wcLen:e}){return function(){if(this.restore)return;let n=Object.keys(r),s=_1(r,n),i=e>0,a=i?{secret:r,groupRestore:b1,nestedRestore:E1}:{secret:r};this.restore=Function("o",S1(s,n,i)).bind(a)}}function _1(r,e){return e.map(t=>{let{circle:n,escPath:s,leadingBracket:i}=r[t],o=n?`o.${n} = secret[${s}].val`:`o${i?"":"."}${t} = secret[${s}].val`,c=`secret[${s}].val = undefined`;return`
      if (secret[${s}].val !== undefined) {
        try { ${o} } catch (e) {}
        ${c}
      }
    `}).join("")}function S1(r,e,t){return`
    const secret = this.secret
    ${t===!0?`
    const keys = Object.keys(secret)
    const len = keys.length
    for (var i = len - 1; i >= ${e.length}; i--) {
      const k = keys[i]
      const o = secret[k]
      if (o.flat === true) this.groupRestore(o)
      else this.nestedRestore(o)
      secret[k] = null
    }
  `:""}
    ${r}
    return o
  `}});var Sv=E((fH,_v)=>{"use strict";_v.exports=P1;function P1(r){let{secret:e,censor:t,compileRestore:n,serialize:s,groupRedact:i,nestedRedact:a,wildcards:o,wcLen:c}=r,d=[{secret:e,censor:t,compileRestore:n}];return s!==!1&&d.push({serialize:s}),c>0&&d.push({groupRedact:i,nestedRedact:a,wildcards:o,wcLen:c}),Object.assign(...d)}});var Rv=E((hH,$v)=>{"use strict";var Pv=hv(),$1=mv(),R1=yv(),O1=wv(),{groupRedact:T1,nestedRedact:I1}=eu(),C1=Sv(),A1=ca(),N1=Pv(),ru=r=>r;ru.restore=ru;var q1="[REDACTED]";tu.rx=A1;tu.validator=Pv;$v.exports=tu;function tu(r={}){let e=Array.from(new Set(r.paths||[])),t="serialize"in r&&(r.serialize===!1||typeof r.serialize=="function")?r.serialize:JSON.stringify,n=r.remove;if(n===!0&&t!==JSON.stringify)throw Error("fast-redact \u2013 remove option may only be set when serializer is JSON.stringify");let s=n===!0?void 0:"censor"in r?r.censor:q1,i=typeof s=="function",a=i&&s.length>1;if(e.length===0)return t||ru;N1({paths:e,serialize:t,censor:s});let{wildcards:o,wcLen:c,secret:d}=$1({paths:e,censor:s}),u=O1({secret:d,wcLen:c}),h="strict"in r?r.strict:!0;return R1({secret:d,wcLen:c,serialize:t,strict:h,isCensorFct:i,censorFctTakesPath:a},C1({secret:d,censor:s,compileRestore:u,serialize:t,groupRedact:T1,nestedRedact:I1,wildcards:o,wcLen:c}))}});var Cs=E((dH,Ov)=>{"use strict";var j1=Symbol("pino.setLevel"),x1=Symbol("pino.getLevel"),k1=Symbol("pino.levelVal"),D1=Symbol("pino.useLevelLabels"),L1=Symbol("pino.useOnlyCustomLevels"),F1=Symbol("pino.mixin"),M1=Symbol("pino.lsCache"),H1=Symbol("pino.chindings"),V1=Symbol("pino.parsedChindings"),z1=Symbol("pino.asJson"),U1=Symbol("pino.write"),B1=Symbol("pino.redactFmt"),G1=Symbol("pino.time"),K1=Symbol("pino.timeSliceIndex"),J1=Symbol("pino.stream"),Q1=Symbol("pino.stringify"),Y1=Symbol("pino.stringifiers"),W1=Symbol("pino.end"),X1=Symbol("pino.formatOpts"),Z1=Symbol("pino.messageKey"),eT=Symbol("pino.nestedKey"),rT=Symbol("pino.wildcardFirst"),tT=Symbol.for("pino.serializers"),sT=Symbol.for("pino.formatters"),nT=Symbol.for("pino.hooks"),iT=Symbol.for("pino.metadata");Ov.exports={setLevelSym:j1,getLevelSym:x1,levelValSym:k1,useLevelLabelsSym:D1,mixinSym:F1,lsCacheSym:M1,chindingsSym:H1,parsedChindingsSym:V1,asJsonSym:z1,writeSym:U1,serializersSym:tT,redactFmtSym:B1,timeSym:G1,timeSliceIndexSym:K1,streamSym:J1,stringifySym:Q1,stringifiersSym:Y1,endSym:W1,formatOptsSym:X1,messageKeySym:Z1,nestedKeySym:eT,wildcardFirstSym:rT,needsMetadataGsym:iT,useOnlyCustomLevelsSym:L1,formattersSym:sT,hooksSym:nT}});var iu=E((pH,Av)=>{"use strict";var su=Rv(),{redactFmtSym:aT,wildcardFirstSym:fa}=Cs(),{rx:nu,validator:oT}=su,Tv=oT({ERR_PATHS_MUST_BE_STRINGS:()=>"pino \u2013 redacted paths must be strings",ERR_INVALID_PATH:r=>`pino \u2013 redact paths array contains an invalid path (${r})`}),Iv="[Redacted]",Cv=!1;function lT(r,e){let{paths:t,censor:n}=uT(r),s=t.reduce((o,c)=>{nu.lastIndex=0;let d=nu.exec(c),u=nu.exec(c),h=d[1]!==void 0?d[1].replace(/^(?:"|'|`)(.*)(?:"|'|`)$/,"$1"):d[0];if(h==="*"&&(h=fa),u===null)return o[h]=null,o;if(o[h]===null)return o;let{index:f}=u,l=`${c.substr(f,c.length-1)}`;return o[h]=o[h]||[],h!==fa&&o[h].length===0&&o[h].push(...o[fa]||[]),h===fa&&Object.keys(o).forEach(function(v){o[v]&&o[v].push(l)}),o[h].push(l),o},{}),i={[aT]:su({paths:t,censor:n,serialize:e,strict:Cv})},a=(...o)=>e(typeof n=="function"?n(...o):n);return[...Object.keys(s),...Object.getOwnPropertySymbols(s)].reduce((o,c)=>{if(s[c]===null)o[c]=d=>a(d,[c]);else{let d=typeof n=="function"?(u,h)=>n(u,[c,...h]):n;o[c]=su({paths:s[c],censor:d,serialize:e,strict:Cv})}return o},i)}function uT(r){if(Array.isArray(r))return r={paths:r,censor:Iv},Tv(r),r;let{paths:e,censor:t=Iv,remove:n}=r;if(Array.isArray(e)===!1)throw Error("pino \u2013 redact must contain an array of strings");return n===!0&&(t=void 0),Tv({paths:e,censor:t}),{paths:e,censor:t}}Av.exports=lT});var qv=E((mH,Nv)=>{"use strict";var cT=()=>"",fT=()=>`,"time":${Date.now()}`,hT=()=>`,"time":${Math.round(Date.now()/1e3)}`,dT=()=>`,"time":"${new Date(Date.now()).toISOString()}"`;Nv.exports={nullTime:cT,epochTime:fT,unixTime:hT,isoTime:dT}});var jv=E((vH,au)=>{"use strict";if(typeof SharedArrayBuffer!="undefined"&&typeof Atomics!="undefined"){let e=function(t){if((t>0&&t<1/0)===!1)throw typeof t!="number"&&typeof t!="bigint"?TypeError("sleep: ms must be a number"):RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity");Atomics.wait(r,0,0,Number(t))},r=new Int32Array(new SharedArrayBuffer(4));au.exports=e}else{let r=function(e){if((e>0&&e<1/0)===!1)throw typeof e!="number"&&typeof e!="bigint"?TypeError("sleep: ms must be a number"):RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity");let n=Date.now()+Number(e);for(;n>Date.now(););};au.exports=r}});var uu=E((yH,Dv)=>{"use strict";var Kr=require("fs"),pT=require("events"),mT=pn(),vT=require("util").inherits,ou=100,xv=jv(),lu=16*1024*1024;function kv(r,e){e._opening=!0,e._writing=!0,e._asyncDrainScheduled=!1;function t(n,s){if(n){e._reopening=!1,e._writing=!1,e._opening=!1,e.sync?process.nextTick(()=>{e.listenerCount("error")>0&&e.emit("error",n)}):e.emit("error",n);return}if(e.fd=s,e.file=r,e._reopening=!1,e._opening=!1,e._writing=!1,e.sync?process.nextTick(()=>e.emit("ready")):e.emit("ready"),e._reopening)return;let i=e._buf.length;i>0&&i>e.minLength&&!e.destroyed&&As(e)}if(e.sync)try{let n=Kr.openSync(r,"a");t(null,n)}catch(n){throw t(n),n}else Kr.open(r,"a",t)}function Jr(r){if(!(this instanceof Jr))return new Jr(r);let{fd:e,dest:t,minLength:n,sync:s}=r||{};if(e=e||t,this._buf="",this.fd=-1,this._writing=!1,this._writingBuf="",this._ending=!1,this._reopening=!1,this._asyncDrainScheduled=!1,this.file=null,this.destroyed=!1,this.sync=s||!1,this.minLength=n||0,typeof e=="number")this.fd=e,process.nextTick(()=>this.emit("ready"));else if(typeof e=="string")kv(e,this);else throw new Error("SonicBoom supports only file descriptors and files");this.release=(i,a)=>{if(i){if(i.code==="EAGAIN")if(this.sync)try{xv(ou),this.release(void 0,0)}catch(c){this.release(c)}else setTimeout(()=>{Kr.write(this.fd,this._writingBuf,"utf8",this.release)},ou);else this._buf=this._writingBuf+this._buf,this._writingBuf="",this._writing=!1,this.emit("error",i);return}if(this._writingBuf.length!==a)if(this._writingBuf=this._writingBuf.slice(a),this.sync)try{do a=Kr.writeSync(this.fd,this._writingBuf,"utf8"),this._writingBuf=this._writingBuf.slice(a);while(this._writingBuf.length!==0)}catch(c){this.release(c);return}else{Kr.write(this.fd,this._writingBuf,"utf8",this.release);return}if(this._writingBuf="",this.destroyed)return;let o=this._buf.length;this._reopening?(this._writing=!1,this._reopening=!1,this.reopen()):o>0&&o>this.minLength?As(this):this._ending?o>0?As(this):(this._writing=!1,ha(this)):(this._writing=!1,this.sync?this._asyncDrainScheduled||(this._asyncDrainScheduled=!0,process.nextTick(yT,this)):this.emit("drain"))},this.on("newListener",function(i){i==="drain"&&(this._asyncDrainScheduled=!1)})}function yT(r){r.listenerCount("drain")>0&&(r._asyncDrainScheduled=!1,r.emit("drain"))}vT(Jr,pT);Jr.prototype.write=function(r){if(this.destroyed)throw new Error("SonicBoom destroyed");this._buf+=r;let e=this._buf.length;return!this._writing&&e>this.minLength&&As(this),e<16384};Jr.prototype.flush=function(){if(this.destroyed)throw new Error("SonicBoom destroyed");this._writing||this.minLength<=0||As(this)};Jr.prototype.reopen=function(r){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this._opening){this.once("ready",()=>{this.reopen(r)});return}if(this._ending)return;if(!this.file)throw new Error("Unable to reopen a file descriptor, you must pass a file to SonicBoom");if(this._reopening=!0,this._writing)return;let e=this.fd;this.once("ready",()=>{e!==this.fd&&Kr.close(e,t=>{if(t)return this.emit("error",t)})}),kv(r||this.file,this)};Jr.prototype.end=function(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this._opening){this.once("ready",()=>{this.end()});return}if(!this._ending){if(this._ending=!0,!this._writing&&this._buf.length>0&&this.fd>=0){As(this);return}this._writing||ha(this)}};Jr.prototype.flushSync=function(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this.fd<0)throw new Error("sonic boom is not ready yet");for(;this._buf.length>0;)try{Kr.writeSync(this.fd,this._buf,"utf8"),this._buf=""}catch(r){if(r.code!=="EAGAIN")throw r;xv(ou)}};Jr.prototype.destroy=function(){this.destroyed||ha(this)};function As(r){r._writing=!0;let e=r._buf,t=r.release;if(e.length>lu?(e=e.slice(0,lu),r._buf=r._buf.slice(lu)):r._buf="",mT(e),r._writingBuf=e,r.sync)try{let n=Kr.writeSync(r.fd,e,"utf8");t(null,n)}catch(n){t(n)}else Kr.write(r.fd,e,"utf8",t)}function ha(r){if(r.fd===-1){r.once("ready",ha.bind(null,r));return}Kr.close(r.fd,e=>{if(e){r.emit("error",e);return}r._ending&&!r._writing&&r.emit("finish"),r.emit("close")}),r.destroyed=!0,r._buf=""}Dv.exports=Jr});var da=E((gH,Lv)=>{"use strict";var{format:cu}=require("util");function gT(){let r={},e=new Map;function t(s,i,a){if(!s)throw new Error("Fastify warning name must not be empty");if(!i)throw new Error("Fastify warning code must not be empty");if(!a)throw new Error("Fastify warning message must not be empty");if(i=i.toUpperCase(),r[i]!==void 0)throw new Error(`The code '${i}' already exist`);function o(c,d,u){let h;return c&&d&&u?h=cu(a,c,d,u):c&&d?h=cu(a,c,d):c?h=cu(a,c):h=a,{code:i,name:s,message:h}}return e.set(i,!1),r[i]=o,r[i]}function n(s,i,a,o){if(r[s]===void 0)throw new Error(`The code '${s}' does not exist`);if(e.get(s)===!0)return;e.set(s,!0);let c=r[s](i,a,o);process.emitWarning(c.message,c.name,c.code)}return{create:t,emit:n,emitted:e}}Lv.exports=gT});var Mv=E((bH,Fv)=>{"use strict";var bn=da()();Fv.exports=bn;var pa="PinoWarning";bn.create(pa,"PINODEP004","bindings.serializers is deprecated, use options.serializers option instead");bn.create(pa,"PINODEP005","bindings.formatters is deprecated, use options.formatters option instead");bn.create(pa,"PINODEP006","bindings.customLevels is deprecated, use options.customLevels option instead");bn.create(pa,"PINODEP007","bindings.level is deprecated, use options.level option instead")});var Vv=E((EH,Hv)=>{"use strict";function bT(r){try{return JSON.stringify(r)}catch{return'"[Circular]"'}}Hv.exports=ET;function ET(r,e,t){var n=t&&t.stringify||bT,s=1;if(typeof r=="object"&&r!==null){var i=e.length+s;if(i===1)return r;var a=new Array(i);a[0]=n(r);for(var o=1;o<i;o++)a[o]=n(e[o]);return a.join(" ")}if(typeof r!="string")return r;var c=e.length;if(c===0)return r;for(var d="",u=1-s,h=-1,f=r&&r.length||0,l=0;l<f;){if(r.charCodeAt(l)===37&&l+1<f){switch(h=h>-1?h:0,r.charCodeAt(l+1)){case 100:case 102:if(u>=c||e[u]==null)break;h<l&&(d+=r.slice(h,l)),d+=Number(e[u]),h=l+2,l++;break;case 105:if(u>=c||e[u]==null)break;h<l&&(d+=r.slice(h,l)),d+=Math.floor(Number(e[u])),h=l+2,l++;break;case 79:case 111:case 106:if(u>=c||e[u]===void 0)break;h<l&&(d+=r.slice(h,l));var v=typeof e[u];if(v==="string"){d+="'"+e[u]+"'",h=l+2,l++;break}if(v==="function"){d+=e[u].name||"<anonymous>",h=l+2,l++;break}d+=n(e[u]),h=l+2,l++;break;case 115:if(u>=c)break;h<l&&(d+=r.slice(h,l)),d+=String(e[u]),h=l+2,l++;break;case 37:h<l&&(d+=r.slice(h,l)),d+="%",h=l+2,l++,u--;break}++u}++l}return h===-1?r:(h<f&&(d+=r.slice(h)),d)}});var Jv=E((wH,Kv)=>{Kv.exports=En;En.default=En;En.stable=Bv;En.stableStringify=Bv;var ma="[...]",zv="[Circular]",Kt=[],Jt=[];function Uv(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function En(r,e,t,n){typeof n=="undefined"&&(n=Uv()),fu(r,"",0,[],void 0,0,n);var s;try{Jt.length===0?s=JSON.stringify(r,e,t):s=JSON.stringify(r,Gv(e),t)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Kt.length!==0;){var i=Kt.pop();i.length===4?Object.defineProperty(i[0],i[1],i[3]):i[0][i[1]]=i[2]}}return s}function Ns(r,e,t,n){var s=Object.getOwnPropertyDescriptor(n,t);s.get!==void 0?s.configurable?(Object.defineProperty(n,t,{value:r}),Kt.push([n,t,e,s])):Jt.push([e,t,r]):(n[t]=r,Kt.push([n,t,e]))}function fu(r,e,t,n,s,i,a){i+=1;var o;if(typeof r=="object"&&r!==null){for(o=0;o<n.length;o++)if(n[o]===r){Ns(zv,r,e,s);return}if(typeof a.depthLimit!="undefined"&&i>a.depthLimit){Ns(ma,r,e,s);return}if(typeof a.edgesLimit!="undefined"&&t+1>a.edgesLimit){Ns(ma,r,e,s);return}if(n.push(r),Array.isArray(r))for(o=0;o<r.length;o++)fu(r[o],o,o,n,r,i,a);else{var c=Object.keys(r);for(o=0;o<c.length;o++){var d=c[o];fu(r[d],d,o,n,r,i,a)}}n.pop()}}function wT(r,e){return r<e?-1:r>e?1:0}function Bv(r,e,t,n){typeof n=="undefined"&&(n=Uv());var s=hu(r,"",0,[],void 0,0,n)||r,i;try{Jt.length===0?i=JSON.stringify(s,e,t):i=JSON.stringify(s,Gv(e),t)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Kt.length!==0;){var a=Kt.pop();a.length===4?Object.defineProperty(a[0],a[1],a[3]):a[0][a[1]]=a[2]}}return i}function hu(r,e,t,n,s,i,a){i+=1;var o;if(typeof r=="object"&&r!==null){for(o=0;o<n.length;o++)if(n[o]===r){Ns(zv,r,e,s);return}try{if(typeof r.toJSON=="function")return}catch{return}if(typeof a.depthLimit!="undefined"&&i>a.depthLimit){Ns(ma,r,e,s);return}if(typeof a.edgesLimit!="undefined"&&t+1>a.edgesLimit){Ns(ma,r,e,s);return}if(n.push(r),Array.isArray(r))for(o=0;o<r.length;o++)hu(r[o],o,o,n,r,i,a);else{var c={},d=Object.keys(r).sort(wT);for(o=0;o<d.length;o++){var u=d[o];hu(r[u],u,o,n,r,i,a),c[u]=r[u]}if(typeof s!="undefined")Kt.push([s,e,r]),s[e]=c;else return c}n.pop()}}function Gv(r){return r=typeof r!="undefined"?r:function(e,t){return t},function(e,t){if(Jt.length>0)for(var n=0;n<Jt.length;n++){var s=Jt[n];if(s[1]===e&&s[0]===t){t=s[2],Jt.splice(n,1);break}}return r.call(this,e,t)}}});var ya=E((_H,ay)=>{"use strict";var Qv=Vv(),{mapHttpRequest:_T,mapHttpResponse:ST}=Zl(),Yv=uu(),PT=Jv(),{lsCacheSym:$T,chindingsSym:du,parsedChindingsSym:pu,writeSym:Wv,serializersSym:mu,formatOptsSym:Xv,endSym:RT,stringifiersSym:vu,stringifySym:Zv,wildcardFirstSym:ey,needsMetadataGsym:ry,redactFmtSym:OT,streamSym:TT,nestedKeySym:ty,formattersSym:yu,messageKeySym:sy}=Cs();function wn(){}function IT(r,e){if(!e)return t;return function(...s){e.call(this,s,t,r)};function t(n,...s){if(typeof n=="object"){let i=n;n!==null&&(n.method&&n.headers&&n.socket?n=_T(n):typeof n.setHeader=="function"&&(n=ST(n))),this[ty]&&(n={[this[ty]]:n});let a;i===null&&s.length===0?a=[null]:(i=s.shift(),a=s),this[Wv](n,Qv(i,a,this[Xv]),r)}else this[Wv](null,Qv(n,s,this[Xv]),r)}}function CT(r){let e="",t=0,n=!1,s=255,i=r.length;if(i>100)return JSON.stringify(r);for(var a=0;a<i&&s>=32;a++)s=r.charCodeAt(a),(s===34||s===92)&&(e+=r.slice(t,a)+"\\",t=a,n=!0);return n?e+=r.slice(t):e=r,s<32?JSON.stringify(r):'"'+e+'"'}function AT(r,e,t,n){let s=this[Zv],i=this[vu],a=this[RT],o=this[du],c=this[mu],d=this[yu],u=this[sy],h=this[$T][t]+n;h=h+o;let f,l=r.hasOwnProperty===void 0;d.log&&(r=d.log(r)),e!==void 0&&(r[u]=e);let v=i[ey];for(let m in r)if(f=r[m],(l||r.hasOwnProperty(m))&&f!==void 0){f=c[m]?c[m](f):f;let p=i[m]||v;switch(typeof f){case"undefined":case"function":continue;case"number":Number.isFinite(f)===!1&&(f=null);case"boolean":p&&(f=p(f));break;case"string":f=(p||CT)(f);break;default:f=(p||s)(f)}if(f===void 0)continue;h+=',"'+m+'":'+f}return h+a}function NT(r,e){let t,n=r[du],s=r[Zv],i=r[vu],a=i[ey],o=r[mu];e=r[yu].bindings(e);for(let d in e)if(t=e[d],(d!=="level"&&d!=="serializers"&&d!=="formatters"&&d!=="customLevels"&&e.hasOwnProperty(d)&&t!==void 0)===!0){if(t=o[d]?o[d](t):t,t=(i[d]||a||s)(t),t===void 0)continue;n+=',"'+d+'":'+t}return n}function ny(r,e,t,n){if(e&&typeof e=="function")return e=e.bind(n),gu(e(r),t,r);try{let s=require("pino-pretty").prettyFactory||require("pino-pretty");return s.asMetaWrapper=gu,gu(s(r),t,r)}catch(s){throw s.message.startsWith("Cannot find module 'pino-pretty'")?Error("Missing `pino-pretty` module: `pino-pretty` must be installed separately"):s}}function gu(r,e,t){t=Object.assign({suppressFlushSyncWarning:!1},t);let n=!1;return{[ry]:!0,lastLevel:0,lastMsg:null,lastObj:null,lastLogger:null,flushSync(){t.suppressFlushSyncWarning||n||(n=!0,iy(e,this),e.write(r(Object.assign({level:40,msg:"pino.final with prettyPrint does not support flushing",time:Date.now()},this.chindings()))))},chindings(){let s=this.lastLogger,i=null;return s?(s.hasOwnProperty(pu)?i=s[pu]:(i=JSON.parse("{"+s[du].substr(1)+"}"),s[pu]=i),i):null},write(s){let i=this.lastLogger,a=this.chindings(),o=this.lastTime;o.match(/^\d+/)?o=parseInt(o):o=o.slice(1,-1);let c=this.lastObj,d=this.lastMsg,u=null,h=i[yu],f=h.log?h.log(c):c,l=i[sy];d&&f&&!f.hasOwnProperty(l)&&(f[l]=d);let v=Object.assign({level:this.lastLevel,time:o},f,u),m=i[mu],p=Object.keys(m);for(var y=0;y<p.length;y++){let g=p[y];v[g]!==void 0&&(v[g]=m[g](v[g]))}for(let g in a)v.hasOwnProperty(g)||(v[g]=a[g]);let $=i[vu][OT],w=r(typeof $=="function"?$(v):v);w!==void 0&&(iy(e,this),e.write(w))}}}function qT(r){return r.write!==r.constructor.prototype.write}function va(r){let e=new Yv(r);return e.on("error",t),e;function t(n){if(n.code==="EPIPE"){e.write=wn,e.end=wn,e.flushSync=wn,e.destroy=wn;return}e.removeListener("error",t),e.emit("error",n)}}function jT(r){return function(t,n={},s){if(typeof n=="string"?(s=va({dest:n,sync:!0}),n={}):typeof s=="string"?s=va({dest:s,sync:!0}):(n instanceof Yv||n.writable||n._writableState)&&(s=n,n=null),n=Object.assign({},r,n),"extreme"in n)throw Error("The extreme option has been removed, use pino.destination({ sync: false }) instead");if("onTerminated"in n)throw Error("The onTerminated option has been removed, use pino.final instead");"changeLevelName"in n&&(process.emitWarning("The changeLevelName option is deprecated and will be removed in v7. Use levelKey instead.",{code:"changeLevelName_deprecation"}),n.levelKey=n.changeLevelName,delete n.changeLevelName);let{enabled:i,prettyPrint:a,prettifier:o,messageKey:c}=n;if(i===!1&&(n.level="silent"),s=s||process.stdout,s===process.stdout&&s.fd>=0&&!qT(s)&&(s=va({fd:s.fd,sync:!0})),a){let d=Object.assign({messageKey:c},a);s=ny(d,o,s,t)}return{opts:n,stream:s}}}function xT(r,e){if(typeof r=="undefined"||typeof r.child!="function")throw Error("expected a pino logger instance");let t=typeof e!="undefined";if(t&&typeof e!="function")throw Error("if supplied, the handler parameter should be a function");let n=r[TT];if(typeof n.flushSync!="function")throw Error("final requires a stream that has a flushSync method, such as pino.destination");let s=new Proxy(r,{get:(i,a)=>a in i.levels.values?(...o)=>{i[a](...o),n.flushSync()}:i[a]});return t?(i=null,...a)=>{try{n.flushSync()}catch{}return e(i,s,...a)}:s}function kT(r){try{return JSON.stringify(r)}catch{return PT(r)}}function DT(r,e,t){return{level:r,bindings:e,log:t}}function iy(r,e){r[ry]===!0&&(r.lastLevel=e.lastLevel,r.lastMsg=e.lastMsg,r.lastObj=e.lastObj,r.lastTime=e.lastTime,r.lastLogger=e.lastLogger)}ay.exports={noop:wn,buildSafeSonicBoom:va,getPrettyStream:ny,asChindings:NT,asJson:AT,genLog:IT,createArgsNormalizer:jT,final:xT,stringify:kT,buildFormatters:DT}});var wu=E((SH,ly)=>{"use strict";var LT=pn(),{lsCacheSym:FT,levelValSym:bu,useOnlyCustomLevelsSym:MT,streamSym:HT,formattersSym:VT,hooksSym:zT}=Cs(),{noop:UT,genLog:Qt}=ya(),Qr={trace:10,debug:20,info:30,warn:40,error:50,fatal:60},oy={fatal:r=>{let e=Qt(Qr.fatal,r);return function(...t){let n=this[HT];if(e.call(this,...t),typeof n.flushSync=="function")try{n.flushSync()}catch{}}},error:r=>Qt(Qr.error,r),warn:r=>Qt(Qr.warn,r),info:r=>Qt(Qr.info,r),debug:r=>Qt(Qr.debug,r),trace:r=>Qt(Qr.trace,r)},Eu=Object.keys(Qr).reduce((r,e)=>(r[Qr[e]]=e,r),{}),BT=Object.keys(Eu).reduce((r,e)=>(r[e]=LT('{"level":'+Number(e)),r),{});function GT(r){let e=r[VT].level,{labels:t}=r.levels,n={};for(let s in t){let i=e(t[s],Number(s));n[s]=JSON.stringify(i).slice(0,-1)}return r[FT]=n,r}function KT(r,e){if(e)return!1;switch(r){case"fatal":case"error":case"warn":case"info":case"debug":case"trace":return!0;default:return!1}}function JT(r){let{labels:e,values:t}=this.levels;if(typeof r=="number"){if(e[r]===void 0)throw Error("unknown level value"+r);r=e[r]}if(t[r]===void 0)throw Error("unknown level "+r);let n=this[bu],s=this[bu]=t[r],i=this[MT],a=this[zT].logMethod;for(let o in t){if(s>t[o]){this[o]=UT;continue}this[o]=KT(o,i)?oy[o](a):Qt(t[o],a)}this.emit("level-change",r,s,e[n],n)}function QT(r){let{levels:e,levelVal:t}=this;return e&&e.labels?e.labels[t]:""}function YT(r){let{values:e}=this.levels,t=e[r];return t!==void 0&&t>=this[bu]}function WT(r=null,e=!1){let t=r?Object.keys(r).reduce((i,a)=>(i[r[a]]=a,i),{}):null,n=Object.assign(Object.create(Object.prototype,{Infinity:{value:"silent"}}),e?null:Eu,t),s=Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),e?null:Qr,r);return{labels:n,values:s}}function XT(r,e,t){if(typeof r=="number"){if(![].concat(Object.keys(e||{}).map(i=>e[i]),t?[]:Object.keys(Eu).map(i=>+i),1/0).includes(r))throw Error(`default level:${r} must be included in custom levels`);return}let n=Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),t?null:Qr,e);if(!(r in n))throw Error(`default level:${r} must be included in custom levels`)}function ZT(r,e){let{labels:t,values:n}=r;for(let s in e){if(s in n)throw Error("levels cannot be overridden");if(e[s]in t)throw Error("pre-existing level values cannot be used for new levels")}}ly.exports={initialLsCache:BT,genLsCache:GT,levelMethods:oy,getLevel:QT,setLevel:JT,isLevelEnabled:YT,mappings:WT,assertNoLevelCollisions:ZT,assertDefaultLevelFound:XT}});var uy=E((PH,eI)=>{eI.exports={name:"pino",version:"6.13.3",description:"super fast, all natural json logger",main:"pino.js",browser:"./browser.js",files:["pino.js","bin.js","browser.js","pretty.js","usage.txt","test","docs","example.js","lib"],scripts:{docs:"docsify serve","browser-test":"airtap --local 8080 test/browser*test.js",lint:"eslint .",test:"npm run lint && tap --100 test/*test.js test/*/*test.js","test-ci":"npm run lint && tap test/*test.js test/*/*test.js --coverage-report=lcovonly","cov-ui":"tap --coverage-report=html test/*test.js test/*/*test.js",bench:"node benchmarks/utils/runbench all","bench-basic":"node benchmarks/utils/runbench basic","bench-object":"node benchmarks/utils/runbench object","bench-deep-object":"node benchmarks/utils/runbench deep-object","bench-multi-arg":"node benchmarks/utils/runbench multi-arg","bench-longs-tring":"node benchmarks/utils/runbench long-string","bench-child":"node benchmarks/utils/runbench child","bench-child-child":"node benchmarks/utils/runbench child-child","bench-child-creation":"node benchmarks/utils/runbench child-creation","bench-formatters":"node benchmarks/utils/runbench formatters","update-bench-doc":"node benchmarks/utils/generate-benchmark-doc > docs/benchmarks.md"},bin:{pino:"./bin.js"},precommit:"test",repository:{type:"git",url:"git+https://github.com/pinojs/pino.git"},keywords:["fast","logger","stream","json"],author:"Matteo Collina <hello@matteocollina.com>",contributors:["David Mark Clements <huperekchuno@googlemail.com>","James Sumners <james.sumners@gmail.com>","Thomas Watson Steen <w@tson.dk> (https://twitter.com/wa7son)"],license:"MIT",bugs:{url:"https://github.com/pinojs/pino/issues"},homepage:"http://getpino.io",devDependencies:{airtap:"4.0.3",benchmark:"^2.1.4",bole:"^4.0.0",bunyan:"^1.8.14","docsify-cli":"^4.4.1",eslint:"^7.17.0","eslint-config-standard":"^16.0.2","eslint-plugin-import":"^2.22.1","eslint-plugin-node":"^11.1.0","eslint-plugin-promise":"^5.1.0",execa:"^5.0.0",fastbench:"^1.0.1","flush-write-stream":"^2.0.0","import-fresh":"^3.2.1",log:"^6.0.0",loglevel:"^1.6.7","pino-pretty":"^5.0.0","pre-commit":"^1.2.2",proxyquire:"^2.1.3",pump:"^3.0.0",semver:"^7.0.0",split2:"^3.1.1",steed:"^1.1.3","strip-ansi":"^6.0.0",tap:"^15.0.1",tape:"^5.0.0",through2:"^4.0.0",winston:"^3.3.3"},dependencies:{"fast-redact":"^3.0.0","fast-safe-stringify":"^2.0.8","fastify-warning":"^0.2.0",flatstr:"^1.0.12","pino-std-serializers":"^3.1.0","quick-format-unescaped":"^4.0.3","sonic-boom":"^1.0.2"}}});var _u=E(($H,cy)=>{"use strict";var{version:rI}=uy();cy.exports={version:rI}});var Ey=E((OH,by)=>{"use strict";var{EventEmitter:tI}=require("events"),sI=uu(),nI=pn(),ga=Mv(),{lsCacheSym:iI,levelValSym:aI,setLevelSym:Su,getLevelSym:fy,chindingsSym:Pu,parsedChindingsSym:oI,mixinSym:lI,asJsonSym:hy,writeSym:uI,timeSym:cI,timeSliceIndexSym:fI,streamSym:dy,serializersSym:Yt,formattersSym:$u,useOnlyCustomLevelsSym:hI,needsMetadataGsym:dI,redactFmtSym:pI,stringifySym:mI,formatOptsSym:vI,stringifiersSym:yI}=Cs(),{getLevel:gI,setLevel:bI,isLevelEnabled:EI,mappings:wI,initialLsCache:_I,genLsCache:SI,assertNoLevelCollisions:PI}=wu(),{asChindings:py,asJson:$I,buildFormatters:my,stringify:vy}=ya(),{version:RI}=_u(),OI=iu(),TI=class{},yy={constructor:TI,child:II,bindings:CI,setBindings:AI,flush:qI,isLevelEnabled:EI,version:RI,get level(){return this[fy]()},set level(r){this[Su](r)},get levelVal(){return this[aI]},set levelVal(r){throw Error("levelVal is read-only")},[iI]:_I,[uI]:NI,[hy]:$I,[fy]:gI,[Su]:bI};Object.setPrototypeOf(yy,tI.prototype);by.exports=function(){return Object.create(yy)};var gy=r=>r;function II(r,e){if(!r)throw Error("missing bindings for child Pino");e=e||{};let t=this[Yt],n=this[$u],s=Object.create(this);if(r.hasOwnProperty("serializers")===!0&&(ga.emit("PINODEP004"),e.serializers=r.serializers),r.hasOwnProperty("formatters")===!0&&(ga.emit("PINODEP005"),e.formatters=r.formatters),r.hasOwnProperty("customLevels")===!0&&(ga.emit("PINODEP006"),e.customLevels=r.customLevels),r.hasOwnProperty("level")===!0&&(ga.emit("PINODEP007"),e.level=r.level),e.hasOwnProperty("serializers")===!0){s[Yt]=Object.create(null);for(let u in t)s[Yt][u]=t[u];let c=Object.getOwnPropertySymbols(t);for(var i=0;i<c.length;i++){let u=c[i];s[Yt][u]=t[u]}for(let u in e.serializers)s[Yt][u]=e.serializers[u];let d=Object.getOwnPropertySymbols(e.serializers);for(var a=0;a<d.length;a++){let u=d[a];s[Yt][u]=e.serializers[u]}}else s[Yt]=t;if(e.hasOwnProperty("formatters")){let{level:c,bindings:d,log:u}=e.formatters;s[$u]=my(c||n.level,d||gy,u||n.log)}else s[$u]=my(n.level,gy,n.log);if(e.hasOwnProperty("customLevels")===!0&&(PI(this.levels,e.customLevels),s.levels=wI(e.customLevels,s[hI]),SI(s)),typeof e.redact=="object"&&e.redact!==null||Array.isArray(e.redact)){s.redact=e.redact;let c=OI(s.redact,vy),d={stringify:c[pI]};s[mI]=vy,s[yI]=c,s[vI]=d}s[Pu]=py(s,r);let o=e.level||this.level;return s[Su](o),s}function CI(){let e=`{${this[Pu].substr(1)}}`,t=JSON.parse(e);return delete t.pid,delete t.hostname,t}function AI(r){let e=py(this,r);this[Pu]=e,delete this[oI]}function NI(r,e,t){let n=this[cI](),s=this[lI],i=r instanceof Error,a;r==null?a=s?s({}):{}:(a=Object.assign(s?s(r):{},r),!e&&i&&(e=r.message),i&&(a.stack=r.stack,a.type||(a.type="Error")));let o=this[hy](a,e,t,n),c=this[dy];c[dI]===!0&&(c.lastLevel=t,c.lastObj=a,c.lastMsg=e,c.lastTime=n.slice(this[fI]),c.lastLogger=this),c instanceof sI?c.write(o):c.write(nI(o))}function qI(){let r=this[dy];"flush"in r&&r.flush()}});var Ay=E((TH,$r)=>{"use strict";var jI=require("os"),wy=Zl(),xI=iu(),_y=qv(),kI=Ey(),Sy=Cs(),{assertDefaultLevelFound:DI,mappings:Py,genLsCache:LI}=wu(),{createArgsNormalizer:FI,asChindings:MI,final:HI,stringify:ba,buildSafeSonicBoom:Ru,buildFormatters:VI,noop:zI}=ya(),{version:UI}=_u(),{chindingsSym:$y,redactFmtSym:BI,serializersSym:Ry,timeSym:GI,timeSliceIndexSym:KI,streamSym:JI,stringifySym:Oy,stringifiersSym:Ty,setLevelSym:QI,endSym:YI,formatOptsSym:WI,messageKeySym:XI,nestedKeySym:ZI,mixinSym:eC,useOnlyCustomLevelsSym:rC,formattersSym:Iy,hooksSym:tC}=Sy,{epochTime:Cy,nullTime:sC}=_y,{pid:nC}=process,iC=jI.hostname(),aC=wy.err,Ou={level:"info",messageKey:"msg",nestedKey:null,enabled:!0,prettyPrint:!1,base:{pid:nC,hostname:iC},serializers:Object.assign(Object.create(null),{err:aC}),formatters:Object.assign(Object.create(null),{bindings(r){return r},level(r,e){return{level:e}}}),hooks:{logMethod:void 0},timestamp:Cy,name:void 0,redact:null,customLevels:null,levelKey:void 0,useOnlyCustomLevels:!1},oC=FI(Ou),lC=Object.assign(Object.create(null),wy);function Tu(...r){let e={},{opts:t,stream:n}=oC(e,...r),{redact:s,crlf:i,serializers:a,timestamp:o,messageKey:c,nestedKey:d,base:u,name:h,level:f,customLevels:l,useLevelLabels:v,changeLevelName:m,levelKey:p,mixin:y,useOnlyCustomLevels:S,formatters:$,hooks:w}=t,g=VI($.level,$.bindings,$.log);v&&!(m||p)?(process.emitWarning("useLevelLabels is deprecated, use the formatters.level option instead","Warning","PINODEP001"),g.level=uC):(m||p)&&!v?(process.emitWarning("changeLevelName and levelKey are deprecated, use the formatters.level option instead","Warning","PINODEP002"),g.level=cC(m||p)):(m||p)&&v&&(process.emitWarning("useLevelLabels is deprecated, use the formatters.level option instead","Warning","PINODEP001"),process.emitWarning("changeLevelName and levelKey are deprecated, use the formatters.level option instead","Warning","PINODEP002"),g.level=fC(m||p)),a[Symbol.for("pino.*")]&&(process.emitWarning("The pino.* serializer is deprecated, use the formatters.log options instead","Warning","PINODEP003"),g.log=a[Symbol.for("pino.*")]),g.bindings||(g.bindings=Ou.formatters.bindings),g.level||(g.level=Ou.formatters.level);let O=s?xI(s,ba):{},R=s?{stringify:O[BI]}:{stringify:ba},D="}"+(i?`\r
`:`
`),A=MI.bind(null,{[$y]:"",[Ry]:a,[Ty]:O,[Oy]:ba,[Iy]:g}),j="";u!==null&&(h===void 0?j=A(u):j=A(Object.assign({},u,{name:h})));let x=o instanceof Function?o:o?Cy:sC,k=x().indexOf(":")+1;if(S&&!l)throw Error("customLevels is required if useOnlyCustomLevels is set true");if(y&&typeof y!="function")throw Error(`Unknown mixin type "${typeof y}" - expected "function"`);DI(f,l,S);let q=Py(l,S);return Object.assign(e,{levels:q,[rC]:S,[JI]:n,[GI]:x,[KI]:k,[Oy]:ba,[Ty]:O,[YI]:D,[WI]:R,[XI]:c,[ZI]:d,[Ry]:a,[eC]:y,[$y]:j,[Iy]:g,[tC]:w,silent:zI}),Object.setPrototypeOf(e,kI()),LI(e),e[QI](f),e}function uC(r,e){return{level:r}}function cC(r){return function(e,t){return{[r]:t}}}function fC(r){return function(e,t){return{[r]:e}}}$r.exports=Tu;$r.exports.extreme=(r=process.stdout.fd)=>(process.emitWarning("The pino.extreme() option is deprecated and will be removed in v7. Use pino.destination({ sync: false }) instead.",{code:"extreme_deprecation"}),Ru({dest:r,minLength:4096,sync:!1}));$r.exports.destination=(r=process.stdout.fd)=>typeof r=="object"?(r.dest=r.dest||process.stdout.fd,Ru(r)):Ru({dest:r,minLength:0,sync:!0});$r.exports.final=HI;$r.exports.levels=Py();$r.exports.stdSerializers=lC;$r.exports.stdTimeFunctions=Object.assign({},_y);$r.exports.symbols=Sy;$r.exports.version=UI;$r.exports.default=Tu;$r.exports.pino=Tu});var Cu=E((IH,jy)=>{"use strict";var hC=Wm(),Ea=Ay(),{serializersSym:Ny}=Ea.symbols,{FST_ERR_LOG_INVALID_DESTINATION:dC}=br();function qy(r,e){if(e=e||r.stream,delete r.stream,e&&r.file)throw new dC;r.file&&(e=Ea.destination(r.file),delete r.file);let t=r.logger,n=r.genReqId,s=null;return t?(r.logger=void 0,r.genReqId=void 0,t[Ny]&&(r.serializers=Object.assign({},r.serializers,t[Ny])),s=t.child({},r),r.logger=t,r.genReqId=n):s=Ea(r,e),s}var Iu={req:function(e){return{method:e.method,url:e.url,version:e.headers["accept-version"],hostname:e.hostname,remoteAddress:e.ip,remotePort:e.socket.remotePort}},err:Ea.stdSerializers.err,res:function(e){return{statusCode:e.statusCode}}};function pC(){let r=process.hrtime();return r[0]*1e3+r[1]/1e6}function mC(r){if(vC(r.logger))return{logger:qy({logger:r.logger,serializers:Object.assign({},Iu,r.logger.serializers)}),hasLogger:!0};if(r.logger){let e={};return Object.prototype.toString.call(r.logger)==="[object Object]"&&Reflect.ownKeys(r.logger).forEach(n=>{Object.defineProperty(e,n,{value:r.logger[n],writable:!0,enumerable:!0,configurable:!0})}),e.level=e.level||"info",e.serializers=Object.assign({},Iu,e.serializers),r.logger=e,{logger:qy(r.logger),hasLogger:!0}}else{let e=hC;return e.child=()=>e,{logger:e,hasLogger:!1}}}function vC(r){if(!r)return!1;let e=!0,t=["info","error","debug","fatal","warn","trace","child"];for(let n=0;n<t.length;n+=1)if(!r[t[n]]||typeof r[t[n]]!="function"){e=!1;break}return e}jy.exports={createLogger:mC,serializers:Iu,now:pC}});var Wt=E((CH,xy)=>{"use strict";var Yr=da()();Yr.create("FastifyDeprecation","FSTDEP001",'You are accessing the Node.js core request object via "request.req", Use "request.raw" instead.');Yr.create("FastifyDeprecation","FSTDEP002",'You are accessing the Node.js core response object via "reply.res", Use "reply.raw" instead.');Yr.create("FastifyDeprecation","FSTDEP003","You are using the legacy Content Type Parser function signature. Use the one suggested in the documentation instead.");Yr.create("FastifyDeprecation","FSTDEP004","You are using the legacy preParsing hook signature. Use the one suggested in the documentation instead.");Yr.create("FastifyDeprecation","FSTDEP005",'You are accessing the deprecated "request.connection" property. Use "request.socket" instead.');Yr.create("FastifyDeprecation","FSTDEP006","You are decorating Request/Reply with a reference type. This reference is shared amongst all requests. Use onRequest hook instead. Property: %s");Yr.create("FastifyDeprecation","FSTDEP007",'You are trying to set a HEAD route using "exposeHeadRoute" route flag when a sibling route is already set. See documentation for more info.');Yr.create("FastifyDeprecation","FSTDEP008",'You are using route constraints via the route { version: "..." } option, use { constraints: { version: "..." } } option instead.');Yr.create("FastifyDeprecation","FSTDEP009",'You are using a custom route versioning strategy via the server { versioning: "..." } option, use { constraints: { version: "..." } } option instead.');xy.exports=Yr});var $a=E((AH,Pa)=>{"use strict";var Au=require("stream").finished,Nu=require("http").STATUS_CODES,ky=pn(),yC=Dl(),{kSchemaResponse:gC,kFourOhFourContext:Dy,kReplyErrorHandlerCalled:_n,kReplySent:ar,kReplySentOverwritten:Ly,kReplyStartTime:Sn,kReplySerializer:ot,kReplySerializerDefault:wa,kReplyIsError:Pn,kReplyHeaders:pe,kReplyHasStatusCode:qu,kReplyIsRunningOnErrorHook:_a,kDisableRequestLogging:Fy}=er(),{hookRunner:My,hookIterator:bC,onSendHookRunner:ju}=Bt(),Hy=Kl()[Symbol.for("internals")],EC=Cu(),Vy=EC.now,wC=zl(),zy=yC({type:"object",properties:{statusCode:{type:"number"},code:{type:"string"},error:{type:"string"},message:{type:"string"}}}),qs={JSON:"application/json; charset=utf-8",PLAIN:"text/plain; charset=utf-8",OCTET:"application/octet-stream"},{FST_ERR_REP_INVALID_PAYLOAD_TYPE:Uy,FST_ERR_REP_ALREADY_SENT:By,FST_ERR_REP_SENT_VALUE:_C,FST_ERR_SEND_INSIDE_ONERR:SC,FST_ERR_BAD_STATUS_CODE:PC}=br(),$C=Wt();function je(r,e,t){this.raw=r,this[ar]=!1,this[ot]=null,this[_n]=!1,this[Pn]=!1,this[_a]=!1,this.request=e,this[pe]={},this[qu]=!1,this[Sn]=void 0,this.log=t}je.props=[];Object.defineProperties(je.prototype,{context:{get(){return this.request.context}},res:{get(){return $C.emit("FSTDEP002"),this.raw}},sent:{enumerable:!0,get(){return this[ar]},set(r){if(r!==!0)throw new _C;if(this[ar])throw new By;this[Ly]=!0,this[ar]=!0}},statusCode:{get(){return this.raw.statusCode},set(r){this.code(r)}},server:{value:null,writable:!0}});je.prototype.hijack=function(){return this[ar]=!0,this};je.prototype.send=function(r){if(this[_a]===!0)throw new SC;if(this[ar])return this.log.warn({err:new By},"Reply already sent"),this;if(r instanceof Error||this[Pn]===!0)return Sa(this,r,js),this;if(r===void 0)return js(this,r),this;let e=this.getHeader("content-type"),t=e!==void 0;if(r!==null){if(Buffer.isBuffer(r)||typeof r.pipe=="function")return t===!1&&(this[pe]["content-type"]=qs.OCTET),js(this,r),this;if(t===!1&&typeof r=="string")return this[pe]["content-type"]=qs.PLAIN,js(this,r),this}if(this[ot]!==null){if(typeof r!="string")return Gy(this,r),this;r=this[ot](r)}else if(t===!1||e.indexOf("json")>-1){if(t===!1)this[pe]["content-type"]=qs.JSON;else if(e.indexOf("charset")===-1)if(e.indexOf("/json")>-1)this[pe]["content-type"]=qs.JSON;else{let n=this[pe]["content-type"],s=n.substring(n.indexOf("/"),n.indexOf("json")+4);this[pe]["content-type"]=qs.JSON.replace("/json",s)}if(typeof r!="string")return Gy(this,r),this}return js(this,r),this};je.prototype.getHeader=function(r){r=r.toLowerCase();let e=this.raw,t=this[pe][r];return t===void 0&&e.hasHeader(r)&&(t=e.getHeader(r)),t};je.prototype.getHeaders=function(){return{...this.raw.getHeaders(),...this[pe]}};je.prototype.hasHeader=function(r){return r=r.toLowerCase(),this[pe][r]!==void 0?!0:this.raw.hasHeader(r)};je.prototype.removeHeader=function(r){return delete this[pe][r.toLowerCase()],this};je.prototype.header=function(r,e){let t=r.toLowerCase();return e=e===void 0?"":e,this[pe][t]&&t==="set-cookie"?(typeof this[pe][t]=="string"&&(this[pe][t]=[this[pe][t]]),Array.isArray(e)?Array.prototype.push.apply(this[pe][t],e):this[pe][t].push(e)):this[pe][t]=e,this};je.prototype.headers=function(r){let e=Object.keys(r);for(var t=0;t!==e.length;++t){let n=e[t];this.header(n,r[n])}return this};je.prototype.code=function(r){let e=parseInt(r);if(isNaN(e)||e<100||e>600)throw new PC(r||String(r));return this.raw.statusCode=e,this[qu]=!0,this};je.prototype.status=je.prototype.code;je.prototype.serialize=function(r){return this[ot]!==null?this[ot](r):this.context&&this.context[wa]?this.context[wa](r,this.raw.statusCode):Xy(this.context,r,this.raw.statusCode)};je.prototype.serializer=function(r){return this[ot]=r,this};je.prototype.type=function(r){return this[pe]["content-type"]=r,this};je.prototype.redirect=function(r,e){typeof r=="string"&&(e=r,r=this[qu]?this.raw.statusCode:302),this.header("location",e).code(r).send()};je.prototype.callNotFound=function(){AC(this)};je.prototype.getResponseTime=function(){let r=0;return this[Sn]!==void 0&&(r=Vy()-this[Sn]),r};je.prototype.then=function(r,e){if(this.sent){r();return}Au(this.raw,t=>{t&&t.code!=="ERR_STREAM_PREMATURE_CLOSE"?e?e(t):this.log&&this.log.warn("unhandled rejection on reply.then"):r()})};function Gy(r,e){r.context.preSerialization!==null?ju(r.context.preSerialization,r.request,r,e,Ky):Ky(null,r.request,r,e)}function Ky(r,e,t,n){if(r!=null){Sa(t,r);return}t[ot]!==null?n=t[ot](n):t.context&&t.context[wa]?n=t.context[wa](n,t.raw.statusCode):n=Xy(t.context,n,t.raw.statusCode),ky(n),js(t,n)}function js(r,e){r.context.onSend!==null?(r[ar]=!0,ju(r.context.onSend,r.request,r,e,RC)):Jy(r,e)}function RC(r,e,t,n){r!=null?Sa(t,r):Jy(t,n)}function Jy(r,e){let t=r.raw,n=r.request,s=t.statusCode;if(e==null){r[ar]=!0,s>=200&&s!==204&&s!==304&&n.method!=="HEAD"&&(r[pe]["content-length"]="0"),t.writeHead(s,r[pe]),t.end(null,null,null);return}if(typeof e.pipe=="function"){r[ar]=!0,OC(e,t,r);return}if(typeof e!="string"&&!Buffer.isBuffer(e))throw new Uy(typeof e);r[pe]["content-length"]?n.raw.method!=="HEAD"&&r[pe]["content-length"]!==Buffer.byteLength(e)&&(r[pe]["content-length"]=""+Buffer.byteLength(e)):r[pe]["content-length"]=""+Buffer.byteLength(e),r[ar]=!0,t.writeHead(s,r[pe]),t.end(e,null,null)}function Qy(r,e,t){e.code==="ERR_STREAM_PREMATURE_CLOSE"?r[Fy]||r.info({res:t},"stream closed prematurely"):r.warn({err:e},"response terminated with an error with headers already sent")}function OC(r,e,t){let n=!0,s=!1;if(Au(r,{readable:!0,writable:!1},function(i){n=!1,i!=null&&(e.headersSent?(s||(s=!0,Qy(t.log,i,e)),e.destroy()):Sa(t,i))}),Au(e,function(i){n&&(i!=null&&e.headersSent&&!s&&(s=!0,Qy(t.log,i,e)),typeof r.destroy=="function"?r.destroy():typeof r.close=="function"?r.close(NC):typeof r.abort=="function"?r.abort():t.log.warn("stream payload does not end properly"))}),e.headersSent)t.log.warn("response will send, but you shouldn't use res.writeHead in stream mode");else for(let i in t[pe])e.setHeader(i,t[pe][i]);r.pipe(e)}function Sa(r,e,t){r[ar]=!0,r.context.onError!==null&&r[_n]===!0?(r[_a]=!0,ju(r.context.onError,r.request,r,e,()=>Yy(r,e,t))):Yy(r,e,t)}function Yy(r,e,t){r[_a]=!1;let n=r.raw,s=n.statusCode;s=s>=400?s:500,e!=null&&(e.headers!==void 0&&r.headers(e.headers),e.status>=400?s=e.status:e.statusCode>=400&&(s=e.statusCode)),n.statusCode=s;let i=r.context.errorHandler;if(i&&r[_n]===!1){r[ar]=!1,r[Pn]=!1,r[_n]=!0,r.removeHeader("content-length");let o=i(e,r.request,r);o!==void 0&&(o!==null&&typeof o.then=="function"?wC(o,r):r.send(o));return}let a;try{let o=Zy(r.context,s);if(a=o===!1?zy({error:Nu[s+""],code:e.code,message:e.message||"",statusCode:s}):o(Object.create(e,{error:{value:Nu[s+""]},message:{value:e.message||""},statusCode:{value:s}})),o!==!1&&typeof a!="string")throw new Uy(typeof a)}catch(o){r.log.error({err:o,statusCode:n.statusCode},"The serializer for the given status code failed"),n.statusCode=500,a=zy({error:Nu["500"],code:o.code,message:o.message,statusCode:500})}if(ky(a),r[pe]["content-type"]=qs.JSON,r[pe]["content-length"]=""+Buffer.byteLength(a),t){t(r,a);return}r[ar]=!0,n.writeHead(n.statusCode,r[pe]),n.end(a)}function TC(r){r[Sn]=Vy();let e=t=>{r.raw.removeListener("finish",e),r.raw.removeListener("error",e);let n=r.context;n&&n.onResponse!==null?My(n.onResponse,IC,r.request,r,Wy):Wy(t,r.request,r)};r.raw.on("finish",e),r.raw.on("error",e)}function IC(r,e,t,n){return r(e,t,n)}function Wy(r,e,t){if(t.log[Fy])return;let n=t.getResponseTime();if(r!=null){t.log.error({res:t,err:r,responseTime:n},"request errored");return}t.log.info({res:t,responseTime:n},"request completed")}function CC(r){let e=[...r.props];function t(n,s,i){this.raw=n,this[Pn]=!1,this[_n]=!1,this[ar]=!1,this[Ly]=!1,this[ot]=null,this.request=s,this[pe]={},this[Sn]=void 0,this.log=i;for(var a,o=0;o<e.length;o++)a=e[o],this[a.key]=a.value}return t.prototype=new r,t.props=e,t}function AC(r){if(r[ar]=!1,r[Pn]=!1,r.context[Dy]===null){r.log.warn("Trying to send a NotFound error inside a 404 handler. Sending basic 404 response."),r.code(404).send("404 Not Found");return}r.request.context=r.context[Dy],r.context.preHandler!==null?My(r.context.preHandler,bC,r.request,r,Hy.preHandlerCallback):Hy.preHandlerCallback(null,r.request,r)}function Xy(r,e,t){let n=Zy(r,t);return n?n(e):JSON.stringify(e)}function Zy(r,e){let t=r[gC];if(!t)return!1;if(t[e])return t[e];let n=(e+"")[0]+"xx";return t[n]?t[n]:!1}function NC(){}Pa.exports=je;Pa.exports.buildReply=CC;Pa.exports.setupResponseListeners=TC});var rg=E((NH,eg)=>{"use strict";eg.exports=qC;function qC(r){if(!r)throw new TypeError("argument req is required");var e=xC(r.headers["x-forwarded-for"]||""),t=jC(r),n=[t].concat(e);return n}function jC(r){return r.socket?r.socket.remoteAddress:r.connection.remoteAddress}function xC(r){for(var e=r.length,t=[],n=r.length,s=r.length-1;s>=0;s--)switch(r.charCodeAt(s)){case 32:n===e&&(n=e=s);break;case 44:n!==e&&t.push(r.substring(n,e)),n=e=s;break;default:n=s;break}return n!==e&&t.push(r.substring(n,e)),t}});var sg=E((tg,$n)=>{(function(){var r,e,t,n,s,i,a,o,c;e={},o=this,typeof $n!="undefined"&&$n!==null&&$n.exports?$n.exports=e:o.ipaddr=e,a=function(d,u,h,f){var l,v;if(d.length!==u.length)throw new Error("ipaddr: cannot match CIDR for objects with different lengths");for(l=0;f>0;){if(v=h-f,v<0&&(v=0),d[l]>>v!=u[l]>>v)return!1;f-=h,l+=1}return!0},e.subnetMatch=function(d,u,h){var f,l,v,m,p;h==null&&(h="unicast");for(v in u)for(m=u[v],m[0]&&!(m[0]instanceof Array)&&(m=[m]),f=0,l=m.length;f<l;f++)if(p=m[f],d.kind()===p[0].kind()&&d.match.apply(d,p))return v;return h},e.IPv4=function(){function d(u){var h,f,l;if(u.length!==4)throw new Error("ipaddr: ipv4 octet count should be 4");for(h=0,f=u.length;h<f;h++)if(l=u[h],!(0<=l&&l<=255))throw new Error("ipaddr: ipv4 octet should fit in 8 bits");this.octets=u}return d.prototype.kind=function(){return"ipv4"},d.prototype.toString=function(){return this.octets.join(".")},d.prototype.toNormalizedString=function(){return this.toString()},d.prototype.toByteArray=function(){return this.octets.slice(0)},d.prototype.match=function(u,h){var f;if(h===void 0&&(f=u,u=f[0],h=f[1]),u.kind()!=="ipv4")throw new Error("ipaddr: cannot match ipv4 address with non-ipv4 one");return a(this.octets,u.octets,8,h)},d.prototype.SpecialRanges={unspecified:[[new d([0,0,0,0]),8]],broadcast:[[new d([255,255,255,255]),32]],multicast:[[new d([224,0,0,0]),4]],linkLocal:[[new d([169,254,0,0]),16]],loopback:[[new d([127,0,0,0]),8]],carrierGradeNat:[[new d([100,64,0,0]),10]],private:[[new d([10,0,0,0]),8],[new d([172,16,0,0]),12],[new d([192,168,0,0]),16]],reserved:[[new d([192,0,0,0]),24],[new d([192,0,2,0]),24],[new d([192,88,99,0]),24],[new d([198,51,100,0]),24],[new d([203,0,113,0]),24],[new d([240,0,0,0]),4]]},d.prototype.range=function(){return e.subnetMatch(this,this.SpecialRanges)},d.prototype.toIPv4MappedAddress=function(){return e.IPv6.parse("::ffff:"+this.toString())},d.prototype.prefixLengthFromSubnetMask=function(){var u,h,f,l,v,m,p;for(p={0:8,128:7,192:6,224:5,240:4,248:3,252:2,254:1,255:0},u=0,v=!1,h=f=3;f>=0;h=f+=-1)if(l=this.octets[h],l in p){if(m=p[l],v&&m!==0)return null;m!==8&&(v=!0),u+=m}else return null;return 32-u},d}(),t="(0?\\d+|0x[a-f0-9]+)",n={fourOctet:new RegExp("^"+t+"\\."+t+"\\."+t+"\\."+t+"$","i"),longValue:new RegExp("^"+t+"$","i")},e.IPv4.parser=function(d){var u,h,f,l,v;if(h=function(m){return m[0]==="0"&&m[1]!=="x"?parseInt(m,8):parseInt(m)},u=d.match(n.fourOctet))return function(){var m,p,y,S;for(y=u.slice(1,6),S=[],m=0,p=y.length;m<p;m++)f=y[m],S.push(h(f));return S}();if(u=d.match(n.longValue)){if(v=h(u[1]),v>4294967295||v<0)throw new Error("ipaddr: address outside defined range");return function(){var m,p;for(p=[],l=m=0;m<=24;l=m+=8)p.push(v>>l&255);return p}().reverse()}else return null},e.IPv6=function(){function d(u,h){var f,l,v,m,p,y;if(u.length===16)for(this.parts=[],f=l=0;l<=14;f=l+=2)this.parts.push(u[f]<<8|u[f+1]);else if(u.length===8)this.parts=u;else throw new Error("ipaddr: ipv6 part count should be 8 or 16");for(y=this.parts,v=0,m=y.length;v<m;v++)if(p=y[v],!(0<=p&&p<=65535))throw new Error("ipaddr: ipv6 part should fit in 16 bits");h&&(this.zoneId=h)}return d.prototype.kind=function(){return"ipv6"},d.prototype.toString=function(){return this.toNormalizedString().replace(/((^|:)(0(:|$))+)/,"::")},d.prototype.toRFC5952String=function(){var u,h,f,l,v;for(l=/((^|:)(0(:|$)){2,})/g,v=this.toNormalizedString(),u=0,h=-1;f=l.exec(v);)f[0].length>h&&(u=f.index,h=f[0].length);return h<0?v:v.substring(0,u)+"::"+v.substring(u+h)},d.prototype.toByteArray=function(){var u,h,f,l,v;for(u=[],v=this.parts,h=0,f=v.length;h<f;h++)l=v[h],u.push(l>>8),u.push(l&255);return u},d.prototype.toNormalizedString=function(){var u,h,f;return u=function(){var l,v,m,p;for(m=this.parts,p=[],l=0,v=m.length;l<v;l++)h=m[l],p.push(h.toString(16));return p}.call(this).join(":"),f="",this.zoneId&&(f="%"+this.zoneId),u+f},d.prototype.toFixedLengthString=function(){var u,h,f;return u=function(){var l,v,m,p;for(m=this.parts,p=[],l=0,v=m.length;l<v;l++)h=m[l],p.push(h.toString(16).padStart(4,"0"));return p}.call(this).join(":"),f="",this.zoneId&&(f="%"+this.zoneId),u+f},d.prototype.match=function(u,h){var f;if(h===void 0&&(f=u,u=f[0],h=f[1]),u.kind()!=="ipv6")throw new Error("ipaddr: cannot match ipv6 address with non-ipv6 one");return a(this.parts,u.parts,16,h)},d.prototype.SpecialRanges={unspecified:[new d([0,0,0,0,0,0,0,0]),128],linkLocal:[new d([65152,0,0,0,0,0,0,0]),10],multicast:[new d([65280,0,0,0,0,0,0,0]),8],loopback:[new d([0,0,0,0,0,0,0,1]),128],uniqueLocal:[new d([64512,0,0,0,0,0,0,0]),7],ipv4Mapped:[new d([0,0,0,0,0,65535,0,0]),96],rfc6145:[new d([0,0,0,0,65535,0,0,0]),96],rfc6052:[new d([100,65435,0,0,0,0,0,0]),96],"6to4":[new d([8194,0,0,0,0,0,0,0]),16],teredo:[new d([8193,0,0,0,0,0,0,0]),32],reserved:[[new d([8193,3512,0,0,0,0,0,0]),32]]},d.prototype.range=function(){return e.subnetMatch(this,this.SpecialRanges)},d.prototype.isIPv4MappedAddress=function(){return this.range()==="ipv4Mapped"},d.prototype.toIPv4Address=function(){var u,h,f;if(!this.isIPv4MappedAddress())throw new Error("ipaddr: trying to convert a generic ipv6 address to ipv4");return f=this.parts.slice(-2),u=f[0],h=f[1],new e.IPv4([u>>8,u&255,h>>8,h&255])},d.prototype.prefixLengthFromSubnetMask=function(){var u,h,f,l,v,m,p;for(p={0:16,32768:15,49152:14,57344:13,61440:12,63488:11,64512:10,65024:9,65280:8,65408:7,65472:6,65504:5,65520:4,65528:3,65532:2,65534:1,65535:0},u=0,v=!1,h=f=7;f>=0;h=f+=-1)if(l=this.parts[h],l in p){if(m=p[l],v&&m!==0)return null;m!==16&&(v=!0),u+=m}else return null;return 128-u},d}(),s="(?:[0-9a-f]+::?)+",c="%[0-9a-z]{1,}",i={zoneIndex:new RegExp(c,"i"),native:new RegExp("^(::)?("+s+")?([0-9a-f]+)?(::)?("+c+")?$","i"),transitional:new RegExp("^((?:"+s+")|(?:::)(?:"+s+")?)"+(t+"\\."+t+"\\."+t+"\\."+t)+("("+c+")?$"),"i")},r=function(d,u){var h,f,l,v,m,p;if(d.indexOf("::")!==d.lastIndexOf("::"))return null;for(p=(d.match(i.zoneIndex)||[])[0],p&&(p=p.substring(1),d=d.replace(/%.+$/,"")),h=0,f=-1;(f=d.indexOf(":",f+1))>=0;)h++;if(d.substr(0,2)==="::"&&h--,d.substr(-2,2)==="::"&&h--,h>u)return null;for(m=u-h,v=":";m--;)v+="0:";return d=d.replace("::",v),d[0]===":"&&(d=d.slice(1)),d[d.length-1]===":"&&(d=d.slice(0,-1)),u=function(){var y,S,$,w;for($=d.split(":"),w=[],y=0,S=$.length;y<S;y++)l=$[y],w.push(parseInt(l,16));return w}(),{parts:u,zoneId:p}},e.IPv6.parser=function(d){var u,h,f,l,v,m,p;if(i.native.test(d))return r(d,8);if((l=d.match(i.transitional))&&(p=l[6]||"",u=r(l[1].slice(0,-1)+p,6),u.parts)){for(m=[parseInt(l[2]),parseInt(l[3]),parseInt(l[4]),parseInt(l[5])],h=0,f=m.length;h<f;h++)if(v=m[h],!(0<=v&&v<=255))return null;return u.parts.push(m[0]<<8|m[1]),u.parts.push(m[2]<<8|m[3]),{parts:u.parts,zoneId:u.zoneId}}return null},e.IPv4.isIPv4=e.IPv6.isIPv6=function(d){return this.parser(d)!==null},e.IPv4.isValid=function(d){var u;try{return new this(this.parser(d)),!0}catch(h){return u=h,!1}},e.IPv4.isValidFourPartDecimal=function(d){return!!(e.IPv4.isValid(d)&&d.match(/^(0|[1-9]\d*)(\.(0|[1-9]\d*)){3}$/))},e.IPv6.isValid=function(d){var u,h;if(typeof d=="string"&&d.indexOf(":")===-1)return!1;try{return u=this.parser(d),new this(u.parts,u.zoneId),!0}catch(f){return h=f,!1}},e.IPv4.parse=function(d){var u;if(u=this.parser(d),u===null)throw new Error("ipaddr: string is not formatted like ip address");return new this(u)},e.IPv6.parse=function(d){var u;if(u=this.parser(d),u.parts===null)throw new Error("ipaddr: string is not formatted like ip address");return new this(u.parts,u.zoneId)},e.IPv4.parseCIDR=function(d){var u,h,f;if((h=d.match(/^(.+)\/(\d+)$/))&&(u=parseInt(h[2]),u>=0&&u<=32))return f=[this.parse(h[1]),u],Object.defineProperty(f,"toString",{value:function(){return this.join("/")}}),f;throw new Error("ipaddr: string is not formatted like an IPv4 CIDR range")},e.IPv4.subnetMaskFromPrefixLength=function(d){var u,h,f;if(d=parseInt(d),d<0||d>32)throw new Error("ipaddr: invalid IPv4 prefix length");for(f=[0,0,0,0],h=0,u=Math.floor(d/8);h<u;)f[h]=255,h++;return u<4&&(f[u]=Math.pow(2,d%8)-1<<8-d%8),new this(f)},e.IPv4.broadcastAddressFromCIDR=function(d){var u,h,f,l,v,m;try{for(u=this.parseCIDR(d),l=u[0].toByteArray(),m=this.subnetMaskFromPrefixLength(u[1]).toByteArray(),v=[],f=0;f<4;)v.push(parseInt(l[f],10)|parseInt(m[f],10)^255),f++;return new this(v)}catch(p){throw h=p,new Error("ipaddr: the address does not have IPv4 CIDR format")}},e.IPv4.networkAddressFromCIDR=function(d){var u,h,f,l,v,m;try{for(u=this.parseCIDR(d),l=u[0].toByteArray(),m=this.subnetMaskFromPrefixLength(u[1]).toByteArray(),v=[],f=0;f<4;)v.push(parseInt(l[f],10)&parseInt(m[f],10)),f++;return new this(v)}catch(p){throw h=p,new Error("ipaddr: the address does not have IPv4 CIDR format")}},e.IPv6.parseCIDR=function(d){var u,h,f;if((h=d.match(/^(.+)\/(\d+)$/))&&(u=parseInt(h[2]),u>=0&&u<=128))return f=[this.parse(h[1]),u],Object.defineProperty(f,"toString",{value:function(){return this.join("/")}}),f;throw new Error("ipaddr: string is not formatted like an IPv6 CIDR range")},e.isValid=function(d){return e.IPv6.isValid(d)||e.IPv4.isValid(d)},e.parse=function(d){if(e.IPv6.isValid(d))return e.IPv6.parse(d);if(e.IPv4.isValid(d))return e.IPv4.parse(d);throw new Error("ipaddr: the address has neither IPv6 nor IPv4 format")},e.parseCIDR=function(d){var u;try{return e.IPv6.parseCIDR(d)}catch(h){u=h;try{return e.IPv4.parseCIDR(d)}catch(f){throw u=f,new Error("ipaddr: the address has neither IPv6 nor IPv4 CIDR format")}}},e.fromByteArray=function(d){var u;if(u=d.length,u===4)return new e.IPv4(d);if(u===16)return new e.IPv6(d);throw new Error("ipaddr: the binary input is neither an IPv6 nor IPv4 address")},e.process=function(d){var u;return u=this.parse(d),u.kind()==="ipv6"&&u.isIPv4MappedAddress()?u.toIPv4Address():u}}).call(tg)});var lg=E((qH,Ta)=>{"use strict";Ta.exports=VC;Ta.exports.all=ag;Ta.exports.compile=og;var kC=rg(),ng=sg(),DC=/^[0-9]+$/,Ra=ng.isValid,Oa=ng.parse,ig={linklocal:["169.254.0.0/16","fe80::/10"],loopback:["127.0.0.1/8","::1/128"],uniquelocal:["10.0.0.0/8","172.16.0.0/12","192.168.0.0/16","fc00::/7"]};function ag(r,e){var t=kC(r);if(!e)return t;typeof e!="function"&&(e=og(e));for(var n=0;n<t.length-1;n++)e(t[n],n)||(t.length=n+1);return t}function og(r){if(!r)throw new TypeError("argument is required");var e;if(typeof r=="string")e=[r];else if(Array.isArray(r))e=r.slice();else throw new TypeError("unsupported trust argument");for(var t=0;t<e.length;t++)r=e[t],!!Object.prototype.hasOwnProperty.call(ig,r)&&(r=ig[r],e.splice.apply(e,[t,1].concat(r)),t+=r.length-1);return FC(LC(e))}function LC(r){for(var e=new Array(r.length),t=0;t<r.length;t++)e[t]=MC(r[t]);return e}function FC(r){var e=r.length;return e===0?zC:e===1?BC(r[0]):UC(r)}function MC(r){var e=r.lastIndexOf("/"),t=e!==-1?r.substring(0,e):r;if(!Ra(t))throw new TypeError("invalid IP address: "+t);var n=Oa(t);e===-1&&n.kind()==="ipv6"&&n.isIPv4MappedAddress()&&(n=n.toIPv4Address());var s=n.kind()==="ipv6"?128:32,i=e!==-1?r.substring(e+1,r.length):null;if(i===null?i=s:DC.test(i)?i=parseInt(i,10):n.kind()==="ipv4"&&Ra(i)?i=HC(i):i=null,i<=0||i>s)throw new TypeError("invalid range on address: "+r);return[n,i]}function HC(r){var e=Oa(r),t=e.kind();return t==="ipv4"?e.prefixLengthFromSubnetMask():null}function VC(r,e){if(!r)throw new TypeError("req argument is required");if(!e)throw new TypeError("trust argument is required");var t=ag(r,e),n=t[t.length-1];return n}function zC(){return!1}function UC(r){return function(t){if(!Ra(t))return!1;for(var n=Oa(t),s,i=n.kind(),a=0;a<r.length;a++){var o=r[a],c=o[0],d=c.kind(),u=o[1],h=n;if(i!==d){if(d==="ipv4"&&!n.isIPv4MappedAddress())continue;s||(s=d==="ipv4"?n.toIPv4Address():n.toIPv4MappedAddress()),h=s}if(h.match(c,u))return!0}return!1}}function BC(r){var e=r[0],t=e.kind(),n=t==="ipv4",s=r[1];return function(a){if(!Ra(a))return!1;var o=Oa(a),c=o.kind();if(c!==t){if(n&&!o.isIPv4MappedAddress())return!1;o=n?o.toIPv4Address():o.toIPv4MappedAddress()}return o.match(e,s)}}});var Rn=E((jH,ug)=>{var GC="2.0.0",KC=256,JC=Number.MAX_SAFE_INTEGER||9007199254740991,QC=16;ug.exports={SEMVER_SPEC_VERSION:GC,MAX_LENGTH:KC,MAX_SAFE_INTEGER:JC,MAX_SAFE_COMPONENT_LENGTH:QC}});var On=E((xH,cg)=>{var YC=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{};cg.exports=YC});var Xt=E((gt,fg)=>{var{MAX_SAFE_COMPONENT_LENGTH:xu}=Rn(),WC=On();gt=fg.exports={};var XC=gt.re=[],U=gt.src=[],B=gt.t={},ZC=0,te=(r,e,t)=>{let n=ZC++;WC(n,e),B[r]=n,U[n]=e,XC[n]=new RegExp(e,t?"g":void 0)};te("NUMERICIDENTIFIER","0|[1-9]\\d*");te("NUMERICIDENTIFIERLOOSE","[0-9]+");te("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");te("MAINVERSION",`(${U[B.NUMERICIDENTIFIER]})\\.(${U[B.NUMERICIDENTIFIER]})\\.(${U[B.NUMERICIDENTIFIER]})`);te("MAINVERSIONLOOSE",`(${U[B.NUMERICIDENTIFIERLOOSE]})\\.(${U[B.NUMERICIDENTIFIERLOOSE]})\\.(${U[B.NUMERICIDENTIFIERLOOSE]})`);te("PRERELEASEIDENTIFIER",`(?:${U[B.NUMERICIDENTIFIER]}|${U[B.NONNUMERICIDENTIFIER]})`);te("PRERELEASEIDENTIFIERLOOSE",`(?:${U[B.NUMERICIDENTIFIERLOOSE]}|${U[B.NONNUMERICIDENTIFIER]})`);te("PRERELEASE",`(?:-(${U[B.PRERELEASEIDENTIFIER]}(?:\\.${U[B.PRERELEASEIDENTIFIER]})*))`);te("PRERELEASELOOSE",`(?:-?(${U[B.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${U[B.PRERELEASEIDENTIFIERLOOSE]})*))`);te("BUILDIDENTIFIER","[0-9A-Za-z-]+");te("BUILD",`(?:\\+(${U[B.BUILDIDENTIFIER]}(?:\\.${U[B.BUILDIDENTIFIER]})*))`);te("FULLPLAIN",`v?${U[B.MAINVERSION]}${U[B.PRERELEASE]}?${U[B.BUILD]}?`);te("FULL",`^${U[B.FULLPLAIN]}$`);te("LOOSEPLAIN",`[v=\\s]*${U[B.MAINVERSIONLOOSE]}${U[B.PRERELEASELOOSE]}?${U[B.BUILD]}?`);te("LOOSE",`^${U[B.LOOSEPLAIN]}$`);te("GTLT","((?:<|>)?=?)");te("XRANGEIDENTIFIERLOOSE",`${U[B.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);te("XRANGEIDENTIFIER",`${U[B.NUMERICIDENTIFIER]}|x|X|\\*`);te("XRANGEPLAIN",`[v=\\s]*(${U[B.XRANGEIDENTIFIER]})(?:\\.(${U[B.XRANGEIDENTIFIER]})(?:\\.(${U[B.XRANGEIDENTIFIER]})(?:${U[B.PRERELEASE]})?${U[B.BUILD]}?)?)?`);te("XRANGEPLAINLOOSE",`[v=\\s]*(${U[B.XRANGEIDENTIFIERLOOSE]})(?:\\.(${U[B.XRANGEIDENTIFIERLOOSE]})(?:\\.(${U[B.XRANGEIDENTIFIERLOOSE]})(?:${U[B.PRERELEASELOOSE]})?${U[B.BUILD]}?)?)?`);te("XRANGE",`^${U[B.GTLT]}\\s*${U[B.XRANGEPLAIN]}$`);te("XRANGELOOSE",`^${U[B.GTLT]}\\s*${U[B.XRANGEPLAINLOOSE]}$`);te("COERCE",`(^|[^\\d])(\\d{1,${xu}})(?:\\.(\\d{1,${xu}}))?(?:\\.(\\d{1,${xu}}))?(?:$|[^\\d])`);te("COERCERTL",U[B.COERCE],!0);te("LONETILDE","(?:~>?)");te("TILDETRIM",`(\\s*)${U[B.LONETILDE]}\\s+`,!0);gt.tildeTrimReplace="$1~";te("TILDE",`^${U[B.LONETILDE]}${U[B.XRANGEPLAIN]}$`);te("TILDELOOSE",`^${U[B.LONETILDE]}${U[B.XRANGEPLAINLOOSE]}$`);te("LONECARET","(?:\\^)");te("CARETTRIM",`(\\s*)${U[B.LONECARET]}\\s+`,!0);gt.caretTrimReplace="$1^";te("CARET",`^${U[B.LONECARET]}${U[B.XRANGEPLAIN]}$`);te("CARETLOOSE",`^${U[B.LONECARET]}${U[B.XRANGEPLAINLOOSE]}$`);te("COMPARATORLOOSE",`^${U[B.GTLT]}\\s*(${U[B.LOOSEPLAIN]})$|^$`);te("COMPARATOR",`^${U[B.GTLT]}\\s*(${U[B.FULLPLAIN]})$|^$`);te("COMPARATORTRIM",`(\\s*)${U[B.GTLT]}\\s*(${U[B.LOOSEPLAIN]}|${U[B.XRANGEPLAIN]})`,!0);gt.comparatorTrimReplace="$1$2$3";te("HYPHENRANGE",`^\\s*(${U[B.XRANGEPLAIN]})\\s+-\\s+(${U[B.XRANGEPLAIN]})\\s*$`);te("HYPHENRANGELOOSE",`^\\s*(${U[B.XRANGEPLAINLOOSE]})\\s+-\\s+(${U[B.XRANGEPLAINLOOSE]})\\s*$`);te("STAR","(<|>)?=?\\s*\\*");te("GTE0","^\\s*>=\\s*0.0.0\\s*$");te("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")});var Tn=E((kH,hg)=>{var eA=["includePrerelease","loose","rtl"],rA=r=>r?typeof r!="object"?{loose:!0}:eA.filter(e=>r[e]).reduce((e,t)=>(e[t]=!0,e),{}):{};hg.exports=rA});var Ia=E((DH,mg)=>{var dg=/^[0-9]+$/,pg=(r,e)=>{let t=dg.test(r),n=dg.test(e);return t&&n&&(r=+r,e=+e),r===e?0:t&&!n?-1:n&&!t?1:r<e?-1:1},tA=(r,e)=>pg(e,r);mg.exports={compareIdentifiers:pg,rcompareIdentifiers:tA}});var rr=E((LH,bg)=>{var Ca=On(),{MAX_LENGTH:vg,MAX_SAFE_INTEGER:Aa}=Rn(),{re:yg,t:gg}=Xt(),sA=Tn(),{compareIdentifiers:In}=Ia(),Rr=class{constructor(e,t){if(t=sA(t),e instanceof Rr){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>vg)throw new TypeError(`version is longer than ${vg} characters`);Ca("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let n=e.trim().match(t.loose?yg[gg.LOOSE]:yg[gg.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Aa||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Aa||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Aa||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){let i=+s;if(i>=0&&i<Aa)return i}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Ca("SemVer.compare",this.version,this.options,e),!(e instanceof Rr)){if(typeof e=="string"&&e===this.version)return 0;e=new Rr(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof Rr||(e=new Rr(e,this.options)),In(this.major,e.major)||In(this.minor,e.minor)||In(this.patch,e.patch)}comparePre(e){if(e instanceof Rr||(e=new Rr(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let n=this.prerelease[t],s=e.prerelease[t];if(Ca("prerelease compare",t,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return In(n,s)}while(++t)}compareBuild(e){e instanceof Rr||(e=new Rr(e,this.options));let t=0;do{let n=this.build[t],s=e.build[t];if(Ca("prerelease compare",t,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return In(n,s)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t),this.inc("pre",t);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let n=this.prerelease.length;for(;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};bg.exports=Rr});var Zt=E((FH,Sg)=>{var{MAX_LENGTH:nA}=Rn(),{re:Eg,t:wg}=Xt(),_g=rr(),iA=Tn(),aA=(r,e)=>{if(e=iA(e),r instanceof _g)return r;if(typeof r!="string"||r.length>nA||!(e.loose?Eg[wg.LOOSE]:Eg[wg.FULL]).test(r))return null;try{return new _g(r,e)}catch{return null}};Sg.exports=aA});var $g=E((MH,Pg)=>{var oA=Zt(),lA=(r,e)=>{let t=oA(r,e);return t?t.version:null};Pg.exports=lA});var Og=E((HH,Rg)=>{var uA=Zt(),cA=(r,e)=>{let t=uA(r.trim().replace(/^[=v]+/,""),e);return t?t.version:null};Rg.exports=cA});var Ig=E((VH,Tg)=>{var fA=rr(),hA=(r,e,t,n)=>{typeof t=="string"&&(n=t,t=void 0);try{return new fA(r,t).inc(e,n).version}catch{return null}};Tg.exports=hA});var Or=E((zH,Ag)=>{var Cg=rr(),dA=(r,e,t)=>new Cg(r,t).compare(new Cg(e,t));Ag.exports=dA});var Na=E((UH,Ng)=>{var pA=Or(),mA=(r,e,t)=>pA(r,e,t)===0;Ng.exports=mA});var xg=E((BH,jg)=>{var qg=Zt(),vA=Na(),yA=(r,e)=>{if(vA(r,e))return null;{let t=qg(r),n=qg(e),s=t.prerelease.length||n.prerelease.length,i=s?"pre":"",a=s?"prerelease":"";for(let o in t)if((o==="major"||o==="minor"||o==="patch")&&t[o]!==n[o])return i+o;return a}};jg.exports=yA});var Dg=E((GH,kg)=>{var gA=rr(),bA=(r,e)=>new gA(r,e).major;kg.exports=bA});var Fg=E((KH,Lg)=>{var EA=rr(),wA=(r,e)=>new EA(r,e).minor;Lg.exports=wA});var Hg=E((JH,Mg)=>{var _A=rr(),SA=(r,e)=>new _A(r,e).patch;Mg.exports=SA});var zg=E((QH,Vg)=>{var PA=Zt(),$A=(r,e)=>{let t=PA(r,e);return t&&t.prerelease.length?t.prerelease:null};Vg.exports=$A});var Bg=E((YH,Ug)=>{var RA=Or(),OA=(r,e,t)=>RA(e,r,t);Ug.exports=OA});var Kg=E((WH,Gg)=>{var TA=Or(),IA=(r,e)=>TA(r,e,!0);Gg.exports=IA});var qa=E((XH,Qg)=>{var Jg=rr(),CA=(r,e,t)=>{let n=new Jg(r,t),s=new Jg(e,t);return n.compare(s)||n.compareBuild(s)};Qg.exports=CA});var Wg=E((ZH,Yg)=>{var AA=qa(),NA=(r,e)=>r.sort((t,n)=>AA(t,n,e));Yg.exports=NA});var Zg=E((eV,Xg)=>{var qA=qa(),jA=(r,e)=>r.sort((t,n)=>qA(n,t,e));Xg.exports=jA});var Cn=E((rV,e0)=>{var xA=Or(),kA=(r,e,t)=>xA(r,e,t)>0;e0.exports=kA});var ja=E((tV,r0)=>{var DA=Or(),LA=(r,e,t)=>DA(r,e,t)<0;r0.exports=LA});var ku=E((sV,t0)=>{var FA=Or(),MA=(r,e,t)=>FA(r,e,t)!==0;t0.exports=MA});var xa=E((nV,s0)=>{var HA=Or(),VA=(r,e,t)=>HA(r,e,t)>=0;s0.exports=VA});var ka=E((iV,n0)=>{var zA=Or(),UA=(r,e,t)=>zA(r,e,t)<=0;n0.exports=UA});var Du=E((aV,i0)=>{var BA=Na(),GA=ku(),KA=Cn(),JA=xa(),QA=ja(),YA=ka(),WA=(r,e,t,n)=>{switch(e){case"===":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r===t;case"!==":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r!==t;case"":case"=":case"==":return BA(r,t,n);case"!=":return GA(r,t,n);case">":return KA(r,t,n);case">=":return JA(r,t,n);case"<":return QA(r,t,n);case"<=":return YA(r,t,n);default:throw new TypeError(`Invalid operator: ${e}`)}};i0.exports=WA});var o0=E((oV,a0)=>{var XA=rr(),ZA=Zt(),{re:Da,t:La}=Xt(),eN=(r,e)=>{if(r instanceof XA)return r;if(typeof r=="number"&&(r=String(r)),typeof r!="string")return null;e=e||{};let t=null;if(!e.rtl)t=r.match(Da[La.COERCE]);else{let n;for(;(n=Da[La.COERCERTL].exec(r))&&(!t||t.index+t[0].length!==r.length);)(!t||n.index+n[0].length!==t.index+t[0].length)&&(t=n),Da[La.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;Da[La.COERCERTL].lastIndex=-1}return t===null?null:ZA(`${t[2]}.${t[3]||"0"}.${t[4]||"0"}`,e)};a0.exports=eN});var u0=E((lV,l0)=>{"use strict";l0.exports=function(r){r.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var f0=E((uV,c0)=>{"use strict";c0.exports=me;me.Node=es;me.create=me;function me(r){var e=this;if(e instanceof me||(e=new me),e.tail=null,e.head=null,e.length=0,r&&typeof r.forEach=="function")r.forEach(function(s){e.push(s)});else if(arguments.length>0)for(var t=0,n=arguments.length;t<n;t++)e.push(arguments[t]);return e}me.prototype.removeNode=function(r){if(r.list!==this)throw new Error("removing node which does not belong to this list");var e=r.next,t=r.prev;return e&&(e.prev=t),t&&(t.next=e),r===this.head&&(this.head=e),r===this.tail&&(this.tail=t),r.list.length--,r.next=null,r.prev=null,r.list=null,e};me.prototype.unshiftNode=function(r){if(r!==this.head){r.list&&r.list.removeNode(r);var e=this.head;r.list=this,r.next=e,e&&(e.prev=r),this.head=r,this.tail||(this.tail=r),this.length++}};me.prototype.pushNode=function(r){if(r!==this.tail){r.list&&r.list.removeNode(r);var e=this.tail;r.list=this,r.prev=e,e&&(e.next=r),this.tail=r,this.head||(this.head=r),this.length++}};me.prototype.push=function(){for(var r=0,e=arguments.length;r<e;r++)tN(this,arguments[r]);return this.length};me.prototype.unshift=function(){for(var r=0,e=arguments.length;r<e;r++)sN(this,arguments[r]);return this.length};me.prototype.pop=function(){if(!!this.tail){var r=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,r}};me.prototype.shift=function(){if(!!this.head){var r=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,r}};me.prototype.forEach=function(r,e){e=e||this;for(var t=this.head,n=0;t!==null;n++)r.call(e,t.value,n,this),t=t.next};me.prototype.forEachReverse=function(r,e){e=e||this;for(var t=this.tail,n=this.length-1;t!==null;n--)r.call(e,t.value,n,this),t=t.prev};me.prototype.get=function(r){for(var e=0,t=this.head;t!==null&&e<r;e++)t=t.next;if(e===r&&t!==null)return t.value};me.prototype.getReverse=function(r){for(var e=0,t=this.tail;t!==null&&e<r;e++)t=t.prev;if(e===r&&t!==null)return t.value};me.prototype.map=function(r,e){e=e||this;for(var t=new me,n=this.head;n!==null;)t.push(r.call(e,n.value,this)),n=n.next;return t};me.prototype.mapReverse=function(r,e){e=e||this;for(var t=new me,n=this.tail;n!==null;)t.push(r.call(e,n.value,this)),n=n.prev;return t};me.prototype.reduce=function(r,e){var t,n=this.head;if(arguments.length>1)t=e;else if(this.head)n=this.head.next,t=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=0;n!==null;s++)t=r(t,n.value,s),n=n.next;return t};me.prototype.reduceReverse=function(r,e){var t,n=this.tail;if(arguments.length>1)t=e;else if(this.tail)n=this.tail.prev,t=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=this.length-1;n!==null;s--)t=r(t,n.value,s),n=n.prev;return t};me.prototype.toArray=function(){for(var r=new Array(this.length),e=0,t=this.head;t!==null;e++)r[e]=t.value,t=t.next;return r};me.prototype.toArrayReverse=function(){for(var r=new Array(this.length),e=0,t=this.tail;t!==null;e++)r[e]=t.value,t=t.prev;return r};me.prototype.slice=function(r,e){e=e||this.length,e<0&&(e+=this.length),r=r||0,r<0&&(r+=this.length);var t=new me;if(e<r||e<0)return t;r<0&&(r=0),e>this.length&&(e=this.length);for(var n=0,s=this.head;s!==null&&n<r;n++)s=s.next;for(;s!==null&&n<e;n++,s=s.next)t.push(s.value);return t};me.prototype.sliceReverse=function(r,e){e=e||this.length,e<0&&(e+=this.length),r=r||0,r<0&&(r+=this.length);var t=new me;if(e<r||e<0)return t;r<0&&(r=0),e>this.length&&(e=this.length);for(var n=this.length,s=this.tail;s!==null&&n>e;n--)s=s.prev;for(;s!==null&&n>r;n--,s=s.prev)t.push(s.value);return t};me.prototype.splice=function(r,e,...t){r>this.length&&(r=this.length-1),r<0&&(r=this.length+r);for(var n=0,s=this.head;s!==null&&n<r;n++)s=s.next;for(var i=[],n=0;s&&n<e;n++)i.push(s.value),s=this.removeNode(s);s===null&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(var n=0;n<t.length;n++)s=rN(this,s,t[n]);return i};me.prototype.reverse=function(){for(var r=this.head,e=this.tail,t=r;t!==null;t=t.prev){var n=t.prev;t.prev=t.next,t.next=n}return this.head=e,this.tail=r,this};function rN(r,e,t){var n=e===r.head?new es(t,null,e,r):new es(t,e,e.next,r);return n.next===null&&(r.tail=n),n.prev===null&&(r.head=n),r.length++,n}function tN(r,e){r.tail=new es(e,r.tail,null,r),r.head||(r.head=r.tail),r.length++}function sN(r,e){r.head=new es(e,null,r.head,r),r.tail||(r.tail=r.head),r.length++}function es(r,e,t,n){if(!(this instanceof es))return new es(r,e,t,n);this.list=n,this.value=r,e?(e.next=this,this.prev=e):this.prev=null,t?(t.prev=this,this.next=t):this.next=null}try{u0()(me)}catch{}});var g0=E((cV,y0)=>{"use strict";var nN=f0(),rs=Symbol("max"),lt=Symbol("length"),xs=Symbol("lengthCalculator"),An=Symbol("allowStale"),ts=Symbol("maxAge"),ut=Symbol("dispose"),h0=Symbol("noDisposeOnSet"),Ve=Symbol("lruList"),xr=Symbol("cache"),d0=Symbol("updateAgeOnGet"),Lu=()=>1,p0=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let t=this[rs]=e.max||1/0,n=e.length||Lu;if(this[xs]=typeof n!="function"?Lu:n,this[An]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[ts]=e.maxAge||0,this[ut]=e.dispose,this[h0]=e.noDisposeOnSet||!1,this[d0]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[rs]=e||1/0,Nn(this)}get max(){return this[rs]}set allowStale(e){this[An]=!!e}get allowStale(){return this[An]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[ts]=e,Nn(this)}get maxAge(){return this[ts]}set lengthCalculator(e){typeof e!="function"&&(e=Lu),e!==this[xs]&&(this[xs]=e,this[lt]=0,this[Ve].forEach(t=>{t.length=this[xs](t.value,t.key),this[lt]+=t.length})),Nn(this)}get lengthCalculator(){return this[xs]}get length(){return this[lt]}get itemCount(){return this[Ve].length}rforEach(e,t){t=t||this;for(let n=this[Ve].tail;n!==null;){let s=n.prev;v0(this,e,n,t),n=s}}forEach(e,t){t=t||this;for(let n=this[Ve].head;n!==null;){let s=n.next;v0(this,e,n,t),n=s}}keys(){return this[Ve].toArray().map(e=>e.key)}values(){return this[Ve].toArray().map(e=>e.value)}reset(){this[ut]&&this[Ve]&&this[Ve].length&&this[Ve].forEach(e=>this[ut](e.key,e.value)),this[xr]=new Map,this[Ve]=new nN,this[lt]=0}dump(){return this[Ve].map(e=>Fa(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[Ve]}set(e,t,n){if(n=n||this[ts],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let s=n?Date.now():0,i=this[xs](t,e);if(this[xr].has(e)){if(i>this[rs])return ks(this,this[xr].get(e)),!1;let c=this[xr].get(e).value;return this[ut]&&(this[h0]||this[ut](e,c.value)),c.now=s,c.maxAge=n,c.value=t,this[lt]+=i-c.length,c.length=i,this.get(e),Nn(this),!0}let a=new m0(e,t,i,s,n);return a.length>this[rs]?(this[ut]&&this[ut](e,t),!1):(this[lt]+=a.length,this[Ve].unshift(a),this[xr].set(e,this[Ve].head),Nn(this),!0)}has(e){if(!this[xr].has(e))return!1;let t=this[xr].get(e).value;return!Fa(this,t)}get(e){return Fu(this,e,!0)}peek(e){return Fu(this,e,!1)}pop(){let e=this[Ve].tail;return e?(ks(this,e),e.value):null}del(e){ks(this,this[xr].get(e))}load(e){this.reset();let t=Date.now();for(let n=e.length-1;n>=0;n--){let s=e[n],i=s.e||0;if(i===0)this.set(s.k,s.v);else{let a=i-t;a>0&&this.set(s.k,s.v,a)}}}prune(){this[xr].forEach((e,t)=>Fu(this,t,!1))}},Fu=(r,e,t)=>{let n=r[xr].get(e);if(n){let s=n.value;if(Fa(r,s)){if(ks(r,n),!r[An])return}else t&&(r[d0]&&(n.value.now=Date.now()),r[Ve].unshiftNode(n));return s.value}},Fa=(r,e)=>{if(!e||!e.maxAge&&!r[ts])return!1;let t=Date.now()-e.now;return e.maxAge?t>e.maxAge:r[ts]&&t>r[ts]},Nn=r=>{if(r[lt]>r[rs])for(let e=r[Ve].tail;r[lt]>r[rs]&&e!==null;){let t=e.prev;ks(r,e),e=t}},ks=(r,e)=>{if(e){let t=e.value;r[ut]&&r[ut](t.key,t.value),r[lt]-=t.length,r[xr].delete(t.key),r[Ve].removeNode(e)}},m0=class{constructor(e,t,n,s,i){this.key=e,this.value=t,this.length=n,this.now=s,this.maxAge=i||0}},v0=(r,e,t,n)=>{let s=t.value;Fa(r,s)&&(ks(r,t),r[An]||(s=void 0)),s&&e.call(n,s.value,s.key,r)};y0.exports=p0});var Tr=E((fV,_0)=>{var Ds=class{constructor(e,t){if(t=aN(t),e instanceof Ds)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new Ds(e.raw,t);if(e instanceof Mu)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(s=>!E0(s[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let s of this.set)if(s.length===1&&fN(s[0])){this.set=[s];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();let n=`parseRange:${Object.keys(this.options).join(",")}:${e}`,s=b0.get(n);if(s)return s;let i=this.options.loose,a=i?tr[Ge.HYPHENRANGELOOSE]:tr[Ge.HYPHENRANGE];e=e.replace(a,wN(this.options.includePrerelease)),xe("hyphen replace",e),e=e.replace(tr[Ge.COMPARATORTRIM],lN),xe("comparator trim",e,tr[Ge.COMPARATORTRIM]),e=e.replace(tr[Ge.TILDETRIM],uN),e=e.replace(tr[Ge.CARETTRIM],cN),e=e.split(/\s+/).join(" ");let o=i?tr[Ge.COMPARATORLOOSE]:tr[Ge.COMPARATOR],c=e.split(" ").map(f=>hN(f,this.options)).join(" ").split(/\s+/).map(f=>EN(f,this.options)).filter(this.options.loose?f=>!!f.match(o):()=>!0).map(f=>new Mu(f,this.options)),d=c.length,u=new Map;for(let f of c){if(E0(f))return[f];u.set(f.value,f)}u.size>1&&u.has("")&&u.delete("");let h=[...u.values()];return b0.set(n,h),h}intersects(e,t){if(!(e instanceof Ds))throw new TypeError("a Range is required");return this.set.some(n=>w0(n,t)&&e.set.some(s=>w0(s,t)&&n.every(i=>s.every(a=>i.intersects(a,t)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new oN(e,this.options)}catch{return!1}for(let t=0;t<this.set.length;t++)if(_N(this.set[t],e,this.options))return!0;return!1}};_0.exports=Ds;var iN=g0(),b0=new iN({max:1e3}),aN=Tn(),Mu=qn(),xe=On(),oN=rr(),{re:tr,t:Ge,comparatorTrimReplace:lN,tildeTrimReplace:uN,caretTrimReplace:cN}=Xt(),E0=r=>r.value==="<0.0.0-0",fN=r=>r.value==="",w0=(r,e)=>{let t=!0,n=r.slice(),s=n.pop();for(;t&&n.length;)t=n.every(i=>s.intersects(i,e)),s=n.pop();return t},hN=(r,e)=>(xe("comp",r,e),r=mN(r,e),xe("caret",r),r=dN(r,e),xe("tildes",r),r=yN(r,e),xe("xrange",r),r=bN(r,e),xe("stars",r),r),or=r=>!r||r.toLowerCase()==="x"||r==="*",dN=(r,e)=>r.trim().split(/\s+/).map(t=>pN(t,e)).join(" "),pN=(r,e)=>{let t=e.loose?tr[Ge.TILDELOOSE]:tr[Ge.TILDE];return r.replace(t,(n,s,i,a,o)=>{xe("tilde",r,n,s,i,a,o);let c;return or(s)?c="":or(i)?c=`>=${s}.0.0 <${+s+1}.0.0-0`:or(a)?c=`>=${s}.${i}.0 <${s}.${+i+1}.0-0`:o?(xe("replaceTilde pr",o),c=`>=${s}.${i}.${a}-${o} <${s}.${+i+1}.0-0`):c=`>=${s}.${i}.${a} <${s}.${+i+1}.0-0`,xe("tilde return",c),c})},mN=(r,e)=>r.trim().split(/\s+/).map(t=>vN(t,e)).join(" "),vN=(r,e)=>{xe("caret",r,e);let t=e.loose?tr[Ge.CARETLOOSE]:tr[Ge.CARET],n=e.includePrerelease?"-0":"";return r.replace(t,(s,i,a,o,c)=>{xe("caret",r,s,i,a,o,c);let d;return or(i)?d="":or(a)?d=`>=${i}.0.0${n} <${+i+1}.0.0-0`:or(o)?i==="0"?d=`>=${i}.${a}.0${n} <${i}.${+a+1}.0-0`:d=`>=${i}.${a}.0${n} <${+i+1}.0.0-0`:c?(xe("replaceCaret pr",c),i==="0"?a==="0"?d=`>=${i}.${a}.${o}-${c} <${i}.${a}.${+o+1}-0`:d=`>=${i}.${a}.${o}-${c} <${i}.${+a+1}.0-0`:d=`>=${i}.${a}.${o}-${c} <${+i+1}.0.0-0`):(xe("no pr"),i==="0"?a==="0"?d=`>=${i}.${a}.${o}${n} <${i}.${a}.${+o+1}-0`:d=`>=${i}.${a}.${o}${n} <${i}.${+a+1}.0-0`:d=`>=${i}.${a}.${o} <${+i+1}.0.0-0`),xe("caret return",d),d})},yN=(r,e)=>(xe("replaceXRanges",r,e),r.split(/\s+/).map(t=>gN(t,e)).join(" ")),gN=(r,e)=>{r=r.trim();let t=e.loose?tr[Ge.XRANGELOOSE]:tr[Ge.XRANGE];return r.replace(t,(n,s,i,a,o,c)=>{xe("xRange",r,n,s,i,a,o,c);let d=or(i),u=d||or(a),h=u||or(o),f=h;return s==="="&&f&&(s=""),c=e.includePrerelease?"-0":"",d?s===">"||s==="<"?n="<0.0.0-0":n="*":s&&f?(u&&(a=0),o=0,s===">"?(s=">=",u?(i=+i+1,a=0,o=0):(a=+a+1,o=0)):s==="<="&&(s="<",u?i=+i+1:a=+a+1),s==="<"&&(c="-0"),n=`${s+i}.${a}.${o}${c}`):u?n=`>=${i}.0.0${c} <${+i+1}.0.0-0`:h&&(n=`>=${i}.${a}.0${c} <${i}.${+a+1}.0-0`),xe("xRange return",n),n})},bN=(r,e)=>(xe("replaceStars",r,e),r.trim().replace(tr[Ge.STAR],"")),EN=(r,e)=>(xe("replaceGTE0",r,e),r.trim().replace(tr[e.includePrerelease?Ge.GTE0PRE:Ge.GTE0],"")),wN=r=>(e,t,n,s,i,a,o,c,d,u,h,f,l)=>(or(n)?t="":or(s)?t=`>=${n}.0.0${r?"-0":""}`:or(i)?t=`>=${n}.${s}.0${r?"-0":""}`:a?t=`>=${t}`:t=`>=${t}${r?"-0":""}`,or(d)?c="":or(u)?c=`<${+d+1}.0.0-0`:or(h)?c=`<${d}.${+u+1}.0-0`:f?c=`<=${d}.${u}.${h}-${f}`:r?c=`<${d}.${u}.${+h+1}-0`:c=`<=${c}`,`${t} ${c}`.trim()),_N=(r,e,t)=>{for(let n=0;n<r.length;n++)if(!r[n].test(e))return!1;if(e.prerelease.length&&!t.includePrerelease){for(let n=0;n<r.length;n++)if(xe(r[n].semver),r[n].semver!==Mu.ANY&&r[n].semver.prerelease.length>0){let s=r[n].semver;if(s.major===e.major&&s.minor===e.minor&&s.patch===e.patch)return!0}return!1}return!0}});var qn=E((hV,O0)=>{var jn=Symbol("SemVer ANY"),xn=class{static get ANY(){return jn}constructor(e,t){if(t=SN(t),e instanceof xn){if(e.loose===!!t.loose)return e;e=e.value}Vu("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===jn?this.value="":this.value=this.operator+this.semver.version,Vu("comp",this)}parse(e){let t=this.options.loose?S0[P0.COMPARATORLOOSE]:S0[P0.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new $0(n[2],this.options.loose):this.semver=jn}toString(){return this.value}test(e){if(Vu("Comparator.test",e,this.options.loose),this.semver===jn||e===jn)return!0;if(typeof e=="string")try{e=new $0(e,this.options)}catch{return!1}return Hu(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof xn))throw new TypeError("a Comparator is required");if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new R0(e.value,t).test(this.value);if(e.operator==="")return e.value===""?!0:new R0(this.value,t).test(e.semver);let n=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),s=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),i=this.semver.version===e.semver.version,a=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),o=Hu(this.semver,"<",e.semver,t)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),c=Hu(this.semver,">",e.semver,t)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return n||s||i&&a||o||c}};O0.exports=xn;var SN=Tn(),{re:S0,t:P0}=Xt(),Hu=Du(),Vu=On(),$0=rr(),R0=Tr()});var kn=E((dV,T0)=>{var PN=Tr(),$N=(r,e,t)=>{try{e=new PN(e,t)}catch{return!1}return e.test(r)};T0.exports=$N});var C0=E((pV,I0)=>{var RN=Tr(),ON=(r,e)=>new RN(r,e).set.map(t=>t.map(n=>n.value).join(" ").trim().split(" "));I0.exports=ON});var N0=E((mV,A0)=>{var TN=rr(),IN=Tr(),CN=(r,e,t)=>{let n=null,s=null,i=null;try{i=new IN(e,t)}catch{return null}return r.forEach(a=>{i.test(a)&&(!n||s.compare(a)===-1)&&(n=a,s=new TN(n,t))}),n};A0.exports=CN});var j0=E((vV,q0)=>{var AN=rr(),NN=Tr(),qN=(r,e,t)=>{let n=null,s=null,i=null;try{i=new NN(e,t)}catch{return null}return r.forEach(a=>{i.test(a)&&(!n||s.compare(a)===1)&&(n=a,s=new AN(n,t))}),n};q0.exports=qN});var D0=E((yV,k0)=>{var zu=rr(),jN=Tr(),x0=Cn(),xN=(r,e)=>{r=new jN(r,e);let t=new zu("0.0.0");if(r.test(t)||(t=new zu("0.0.0-0"),r.test(t)))return t;t=null;for(let n=0;n<r.set.length;++n){let s=r.set[n],i=null;s.forEach(a=>{let o=new zu(a.semver.version);switch(a.operator){case">":o.prerelease.length===0?o.patch++:o.prerelease.push(0),o.raw=o.format();case"":case">=":(!i||x0(o,i))&&(i=o);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),i&&(!t||x0(t,i))&&(t=i)}return t&&r.test(t)?t:null};k0.exports=xN});var F0=E((gV,L0)=>{var kN=Tr(),DN=(r,e)=>{try{return new kN(r,e).range||"*"}catch{return null}};L0.exports=DN});var Ma=E((bV,z0)=>{var LN=rr(),M0=qn(),{ANY:FN}=M0,MN=Tr(),HN=kn(),H0=Cn(),V0=ja(),VN=ka(),zN=xa(),UN=(r,e,t,n)=>{r=new LN(r,n),e=new MN(e,n);let s,i,a,o,c;switch(t){case">":s=H0,i=VN,a=V0,o=">",c=">=";break;case"<":s=V0,i=zN,a=H0,o="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(HN(r,e,n))return!1;for(let d=0;d<e.set.length;++d){let u=e.set[d],h=null,f=null;if(u.forEach(l=>{l.semver===FN&&(l=new M0(">=0.0.0")),h=h||l,f=f||l,s(l.semver,h.semver,n)?h=l:a(l.semver,f.semver,n)&&(f=l)}),h.operator===o||h.operator===c||(!f.operator||f.operator===o)&&i(r,f.semver))return!1;if(f.operator===c&&a(r,f.semver))return!1}return!0};z0.exports=UN});var B0=E((EV,U0)=>{var BN=Ma(),GN=(r,e,t)=>BN(r,e,">",t);U0.exports=GN});var K0=E((wV,G0)=>{var KN=Ma(),JN=(r,e,t)=>KN(r,e,"<",t);G0.exports=JN});var Y0=E((_V,Q0)=>{var J0=Tr(),QN=(r,e,t)=>(r=new J0(r,t),e=new J0(e,t),r.intersects(e));Q0.exports=QN});var X0=E((SV,W0)=>{var YN=kn(),WN=Or();W0.exports=(r,e,t)=>{let n=[],s=null,i=null,a=r.sort((u,h)=>WN(u,h,t));for(let u of a)YN(u,e,t)?(i=u,s||(s=u)):(i&&n.push([s,i]),i=null,s=null);s&&n.push([s,null]);let o=[];for(let[u,h]of n)u===h?o.push(u):!h&&u===a[0]?o.push("*"):h?u===a[0]?o.push(`<=${h}`):o.push(`${u} - ${h}`):o.push(`>=${u}`);let c=o.join(" || "),d=typeof e.raw=="string"?e.raw:String(e);return c.length<d.length?c:e}});var sb=E((PV,tb)=>{var Z0=Tr(),Ha=qn(),{ANY:Uu}=Ha,Dn=kn(),Bu=Or(),XN=(r,e,t={})=>{if(r===e)return!0;r=new Z0(r,t),e=new Z0(e,t);let n=!1;e:for(let s of r.set){for(let i of e.set){let a=ZN(s,i,t);if(n=n||a!==null,a)continue e}if(n)return!1}return!0},ZN=(r,e,t)=>{if(r===e)return!0;if(r.length===1&&r[0].semver===Uu){if(e.length===1&&e[0].semver===Uu)return!0;t.includePrerelease?r=[new Ha(">=0.0.0-0")]:r=[new Ha(">=0.0.0")]}if(e.length===1&&e[0].semver===Uu){if(t.includePrerelease)return!0;e=[new Ha(">=0.0.0")]}let n=new Set,s,i;for(let l of r)l.operator===">"||l.operator===">="?s=eb(s,l,t):l.operator==="<"||l.operator==="<="?i=rb(i,l,t):n.add(l.semver);if(n.size>1)return null;let a;if(s&&i){if(a=Bu(s.semver,i.semver,t),a>0)return null;if(a===0&&(s.operator!==">="||i.operator!=="<="))return null}for(let l of n){if(s&&!Dn(l,String(s),t)||i&&!Dn(l,String(i),t))return null;for(let v of e)if(!Dn(l,String(v),t))return!1;return!0}let o,c,d,u,h=i&&!t.includePrerelease&&i.semver.prerelease.length?i.semver:!1,f=s&&!t.includePrerelease&&s.semver.prerelease.length?s.semver:!1;h&&h.prerelease.length===1&&i.operator==="<"&&h.prerelease[0]===0&&(h=!1);for(let l of e){if(u=u||l.operator===">"||l.operator===">=",d=d||l.operator==="<"||l.operator==="<=",s){if(f&&l.semver.prerelease&&l.semver.prerelease.length&&l.semver.major===f.major&&l.semver.minor===f.minor&&l.semver.patch===f.patch&&(f=!1),l.operator===">"||l.operator===">="){if(o=eb(s,l,t),o===l&&o!==s)return!1}else if(s.operator===">="&&!Dn(s.semver,String(l),t))return!1}if(i){if(h&&l.semver.prerelease&&l.semver.prerelease.length&&l.semver.major===h.major&&l.semver.minor===h.minor&&l.semver.patch===h.patch&&(h=!1),l.operator==="<"||l.operator==="<="){if(c=rb(i,l,t),c===l&&c!==i)return!1}else if(i.operator==="<="&&!Dn(i.semver,String(l),t))return!1}if(!l.operator&&(i||s)&&a!==0)return!1}return!(s&&d&&!i&&a!==0||i&&u&&!s&&a!==0||f||h)},eb=(r,e,t)=>{if(!r)return e;let n=Bu(r.semver,e.semver,t);return n>0?r:n<0||e.operator===">"&&r.operator===">="?e:r},rb=(r,e,t)=>{if(!r)return e;let n=Bu(r.semver,e.semver,t);return n<0?r:n>0||e.operator==="<"&&r.operator==="<="?e:r};tb.exports=XN});var Ku=E(($V,nb)=>{var Gu=Xt();nb.exports={re:Gu.re,src:Gu.src,tokens:Gu.t,SEMVER_SPEC_VERSION:Rn().SEMVER_SPEC_VERSION,SemVer:rr(),compareIdentifiers:Ia().compareIdentifiers,rcompareIdentifiers:Ia().rcompareIdentifiers,parse:Zt(),valid:$g(),clean:Og(),inc:Ig(),diff:xg(),major:Dg(),minor:Fg(),patch:Hg(),prerelease:zg(),compare:Or(),rcompare:Bg(),compareLoose:Kg(),compareBuild:qa(),sort:Wg(),rsort:Zg(),gt:Cn(),lt:ja(),eq:Na(),neq:ku(),gte:xa(),lte:ka(),cmp:Du(),coerce:o0(),Comparator:qn(),Range:Tr(),satisfies:kn(),toComparators:C0(),maxSatisfying:N0(),minSatisfying:j0(),minVersion:D0(),validRange:F0(),outside:Ma(),gtr:B0(),ltr:K0(),intersects:Y0(),simplifyRange:X0(),subset:sb()}});var za=E((RV,Qu)=>{"use strict";var Va=lg(),eq=Ku(),ib=Wt();function Ju(r,e,t,n,s,i){this.id=r,this.context=i,this.params=e,this.raw=t,this.query=n,this.log=s,this.body=null}Ju.props=[];function rq(r){if(typeof r=="function")return r;if(r===!0)return function(){return!0};if(typeof r=="number")return function(e,t){return t<r};if(typeof r=="string"){let e=r.split(",").map(t=>t.trim());return Va.compile(e)}return Va.compile(r)}function tq(r,e){return e?sq(r,e):ab(r)}function ab(r){let e=[...r.props];function t(n,s,i,a,o,c){this.id=n,this.context=c,this.params=s,this.raw=i,this.query=a,this.log=o,this.body=null;for(var d,u=0;u<e.length;u++)d=e[u],this[d.key]=d.value}return t.prototype=new r,t.props=e,t}function ob(r){let e=r.lastIndexOf(",");return e===-1?r.trim():r.slice(e+1).trim()}function sq(r,e){let t=ab(r),n=rq(e);return Object.defineProperties(t.prototype,{ip:{get(){return Va(this.raw,n)}},ips:{get(){return Va.all(this.raw,n)}},hostname:{get(){return this.ip!==void 0&&this.headers["x-forwarded-host"]?ob(this.headers["x-forwarded-host"]):this.headers.host||this.headers[":authority"]}},protocol:{get(){return this.headers["x-forwarded-proto"]?ob(this.headers["x-forwarded-proto"]):this.socket.encrypted?"https":"http"}}}),t}Object.defineProperties(Ju.prototype,{req:{get(){return ib.emit("FSTDEP001"),this.raw}},url:{get(){return this.raw.url}},method:{get(){return this.raw.method}},routerPath:{get(){return this.context.config.url}},routerMethod:{get(){return this.context.config.method}},is404:{get(){return this.context.config.url===void 0}},connection:{get(){return eq.gte(process.versions.node,"13.0.0")&&ib.emit("FSTDEP005"),this.raw.connection}},socket:{get(){return this.raw.socket}},ip:{get(){return this.socket.remoteAddress}},hostname:{get(){return this.raw.headers.host||this.raw.headers[":authority"]}},protocol:{get(){return this.socket.encrypted?"https":"http"}},headers:{get(){return this.additionalHeaders?Object.assign({},this.raw.headers,this.additionalHeaders):this.raw.headers},set(r){this.additionalHeaders=r}},server:{value:null,writable:!0}});Qu.exports=Ju;Qu.exports.buildRequest=tq});var rc=E((OV,fb)=>{"use strict";var{kReply:Yu,kRequest:Wu,kState:nq}=er(),{FST_ERR_DEC_ALREADY_PRESENT:lb,FST_ERR_DEC_MISSING_DEPENDENCY:iq,FST_ERR_DEC_AFTER_START:aq,FST_ERR_DEC_DEPENDENCY_INVALID_TYPE:oq}=br(),lq=Wt();function uq(r,e,t,n){if(r.hasOwnProperty(e))throw new lb(e);Zu(r,e,n),t&&(typeof t.getter=="function"||typeof t.setter=="function")?Object.defineProperty(r,e,{get:t.getter,set:t.setter}):r[e]=t}function ub(r,e,t,n){let s=r.prototype;if(s.hasOwnProperty(e)||Xu(r,e))throw new lb(e);Zu(s,e,n),t&&(typeof t.getter=="function"||typeof t.setter=="function")?Object.defineProperty(s,e,{get:t.getter,set:t.setter}):typeof t=="function"?s[e]=t:r.props.push({key:e,value:t})}function cb(r,e){typeof e=="object"&&e&&!(typeof e.getter=="function"||typeof e.setter=="function")&&lq.emit("FSTDEP006",r)}function cq(r,e,t){return ec(this,r),uq(this,r,e,t),this}function Ua(r,e){return e?e in r:r in this}function Xu(r,e){return r.props.find(({key:t})=>t===e)}function fq(r){return r&&Xu(this[Wu],r)?!0:Ua(this[Wu].prototype,r)}function hq(r){return r&&Xu(this[Yu],r)?!0:Ua(this[Yu].prototype,r)}function Zu(r,e,t){if(t!=null){if(!Array.isArray(t))throw new oq(e);for(var n=0;n!==t.length;++n)if(!Ua(r,t[n]))throw new iq(t[n])}}function dq(r,e,t){return ec(this,r),cb(r,e),ub(this[Yu],r,e,t),this}function pq(r,e,t){return ec(this,r),cb(r,e),ub(this[Wu],r,e,t),this}function ec(r,e){if(r[nq].started)throw new aq(e)}fb.exports={add:cq,exist:Ua,existRequest:fq,existReply:hq,dependencies:Zu,decorateReply:dq,decorateRequest:pq}});var pb=E((TV,db)=>{"use strict";var hb=class{constructor(e=0,t=0){this.first=null,this.items=Object.create(null),this.last=null,this.max=e,this.size=0,this.ttl=t}has(e){return e in this.items}clear(){return this.first=null,this.items=Object.create(null),this.last=null,this.size=0,this}delete(e){if(this.has(e)){let t=this.items[e];delete this.items[e],this.size--,t.prev!==null&&(t.prev.next=t.next),t.next!==null&&(t.next.prev=t.prev),this.first===t&&(this.first=t.next),this.last===t&&(this.last=t.prev)}return this}evict(){let e=this.first;return delete this.items[e.key],this.first=e.next,this.first.prev=null,this.size--,this}get(e){let t;if(this.has(e)){let n=this.items[e];this.ttl>0&&n.expiry<=new Date().getTime()?this.delete(e):(t=n.value,this.set(e,t,!0))}return t}keys(){return Object.keys(this.items)}set(e,t,n=!1){let s;if(n||this.has(e)){if(s=this.items[e],s.value=t,n===!1&&(s.expiry=this.ttl>0?new Date().getTime()+this.ttl:this.ttl),this.last!==s){let i=this.last,a=s.next,o=s.prev;this.first===s&&(this.first=s.next),s.next=null,s.prev=this.last,i.next=s,o!==null&&(o.next=a),a!==null&&(a.prev=o)}}else this.max>0&&this.size===this.max&&this.evict(),s=this.items[e]={expiry:this.ttl>0?new Date().getTime()+this.ttl:this.ttl,key:e,prev:this.last,next:null,value:t},++this.size==1?this.first=s:this.last.next=s;return this.last=s,this}};function mq(r=1e3,e=0){if(isNaN(r)||r<0)throw new TypeError("Invalid max value");if(isNaN(e)||e<0)throw new TypeError("Invalid ttl value");return new hb(r,e)}db.exports=mq});var Eb=E((IV,bb)=>{"use strict";var vq=typeof Buffer!="undefined",mb=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,vb=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function yb(r,e,t){t==null&&(e!==null&&typeof e=="object"?(t=e,e=void 0):t={});let n=t.protoAction||"error",s=t.constructorAction||"error";vq&&Buffer.isBuffer(r)&&(r=r.toString()),r&&r.charCodeAt(0)===65279&&(r=r.slice(1));let i=JSON.parse(r,e);if(n==="ignore"&&s==="ignore"||i===null||typeof i!="object")return i;if(n!=="ignore"&&s!=="ignore"){if(mb.test(r)===!1&&vb.test(r)===!1)return i}else if(n!=="ignore"&&s==="ignore"){if(mb.test(r)===!1)return i}else if(vb.test(r)===!1)return i;return gb(i,{protoAction:n,constructorAction:s}),i}function gb(r,{protoAction:e="error",constructorAction:t="error"}={}){let n=[r];for(;n.length;){let s=n;n=[];for(let i of s){if(e!=="ignore"&&Object.prototype.hasOwnProperty.call(i,"__proto__")){if(e==="error")throw new SyntaxError("Object contains forbidden prototype property");delete i.__proto__}if(t!=="ignore"&&Object.prototype.hasOwnProperty.call(i,"constructor")&&Object.prototype.hasOwnProperty.call(i.constructor,"prototype")){if(t==="error")throw new SyntaxError("Object contains forbidden prototype property");delete i.constructor}for(let a in i){let o=i[a];o&&typeof o=="object"&&n.push(i[a])}}}}function yq(r,e){try{return yb(r,e)}catch{return null}}bb.exports={parse:yb,scan:gb,safeParse:yq}});var ac=E((CV,Fn)=>{"use strict";var Ls=pb();Ls=typeof Ls=="function"?Ls:Ls.default;var gq=Eb(),{kDefaultJsonParse:Ln,kContentTypeParser:Fs,kBodyLimit:bq,kRequestPayloadStream:tc,kState:sc,kTestInternals:Eq}=er(),{FST_ERR_CTP_INVALID_TYPE:wb,FST_ERR_CTP_EMPTY_TYPE:wq,FST_ERR_CTP_ALREADY_PRESENT:_q,FST_ERR_CTP_INVALID_HANDLER:Sq,FST_ERR_CTP_INVALID_PARSE_TYPE:Pq,FST_ERR_CTP_BODY_TOO_LARGE:_b,FST_ERR_CTP_INVALID_MEDIA_TYPE:$q,FST_ERR_CTP_INVALID_CONTENT_LENGTH:Rq,FST_ERR_CTP_EMPTY_JSON_BODY:Oq}=br(),Tq=Wt();function ct(r,e,t){this[Ln]=Pb(e,t),this.customParsers={},this.customParsers["application/json"]=new ic(!0,!1,r,this[Ln]),this.customParsers["text/plain"]=new ic(!0,!1,r,nc),this.parserList=["application/json","text/plain"],this.parserRegExpList=[],this.cache=Ls(100)}ct.prototype.add=function(r,e,t){let n=typeof r=="string";if(!n&&!(r instanceof RegExp))throw new wb;if(n&&r.length===0)throw new wq;if(typeof t!="function")throw new Sq;if(this.existingParser(r))throw new _q(r);if(e.parseAs!==void 0&&e.parseAs!=="string"&&e.parseAs!=="buffer")throw new Pq(e.parseAs);let s=new ic(e.parseAs==="string",e.parseAs==="buffer",e.bodyLimit,t);n&&r==="*"?this.customParsers[""]=s:(n?this.parserList.unshift(r):this.parserRegExpList.unshift(r),this.customParsers[r]=s)};ct.prototype.hasParser=function(r){return r in this.customParsers};ct.prototype.existingParser=function(r){return r==="application/json"?this.customParsers["application/json"]&&this.customParsers["application/json"].fn!==this[Ln]:r==="text/plain"?this.customParsers["text/plain"]&&this.customParsers["text/plain"].fn!==nc:r in this.customParsers};ct.prototype.getParser=function(r){for(var e=0;e!==this.parserList.length;++e){let n=this.parserList[e];if(r.indexOf(n)>-1){let s=this.customParsers[n];return this.cache.set(r,s),s}}for(var t=0;t!==this.parserRegExpList.length;++t){let n=this.parserRegExpList[t];if(n.test(r)){let s=this.customParsers[n];return this.cache.set(r,s),s}}return this.customParsers[""]};ct.prototype.removeAll=function(){this.customParsers={},this.parserRegExpList=[],this.parserList=[],this.cache=Ls(100)};ct.prototype.remove=function(r){if(!(typeof r=="string"||r instanceof RegExp))throw new wb;delete this.customParsers[r];let e=typeof r=="string"?this.parserList:this.parserRegExpList,t=e.findIndex(n=>n.toString()===r.toString());t>-1&&e.splice(t,1)};ct.prototype.run=function(r,e,t,n){let s=this.cache.get(r)||this.getParser(r);if(s===void 0)n.send(new $q(r));else if(s.asString===!0||s.asBuffer===!0)Sb(t,n,n.context._parserOptions,s,i);else{let a;s.isDeprecatedSignature?a=s.fn(t[tc],i):a=s.fn(t,t[tc],i),a&&typeof a.then=="function"&&a.then(o=>i(null,o),i)}function i(a,o){a?n.send(a):(t.body=o,e(t,n))}};function Sb(r,e,t,n,s){let i=n.asString,a=t.limit===null?n.bodyLimit:t.limit,o=r.headers["content-length"]===void 0?NaN:Number.parseInt(r.headers["content-length"],10);if(o>a){e.send(new _b);return}let c=0,d=i===!0?"":[],u=r[tc]||r.raw;i===!0&&u.setEncoding("utf8"),u.on("data",h),u.on("end",f),u.on("error",f),u.resume();function h(l){if(c+=l.length,(u.receivedEncodedLength||c)>a){u.removeListener("data",h),u.removeListener("end",f),u.removeListener("error",f),e.send(new _b);return}i===!0?d+=l:d.push(l)}function f(l){if(u.removeListener("data",h),u.removeListener("end",f),u.removeListener("error",f),l!==void 0){l.statusCode=400,e.code(l.statusCode).send(l);return}if(i===!0&&(c=Buffer.byteLength(d)),!Number.isNaN(o)&&(u.receivedEncodedLength||c)!==o){e.send(new Rq);return}i===!1&&(d=Buffer.concat(d));let v=n.fn(r,d,s);v&&typeof v.then=="function"&&v.then(m=>s(null,m),s)}}function Pb(r,e){return t;function t(n,s,i){if(s===""||s==null)return i(new Oq,void 0);let a;try{a=gq.parse(s,{protoAction:r,constructorAction:e})}catch(o){return o.statusCode=400,i(o,void 0)}i(null,a)}}function nc(r,e,t){t(null,e)}function ic(r,e,t,n){this.asString=r,this.asBuffer=e,this.bodyLimit=t,this.fn=n,n.length===(n.constructor.name==="AsyncFunction"?1:2)&&(Tq.emit("FSTDEP003"),this.isDeprecatedSignature=!0)}function Iq(r){let e=new ct;return e[Ln]=r[Ln],Object.assign(e.customParsers,r.customParsers),e.parserList=r.parserList.slice(),e}function Cq(r,e,t){if(this[sc].started)throw new Error('Cannot call "addContentTypeParser" when fastify instance is already started!');return typeof e=="function"&&(t=e,e={}),e||(e={}),e.bodyLimit||(e.bodyLimit=this[bq]),Array.isArray(r)?r.forEach(n=>this[Fs].add(n,e,t)):this[Fs].add(r,e,t),this}function Aq(r){return this[Fs].hasParser(r)}function Nq(r){if(this[sc].started)throw new Error('Cannot call "removeContentTypeParser" when fastify instance is already started!');if(Array.isArray(r))for(let e of r)this[Fs].remove(e);else this[Fs].remove(r)}function qq(){if(this[sc].started)throw new Error('Cannot call "removeAllContentTypeParsers" when fastify instance is already started!');this[Fs].removeAll()}Fn.exports=ct;Fn.exports.helpers={buildContentTypeParser:Iq,addContentTypeParser:Cq,hasContentTypeParser:Aq,removeContentTypeParser:Nq,removeAllContentTypeParsers:qq};Fn.exports.defaultParsers={getDefaultJsonParser:Pb,defaultTextParser:nc};Fn.exports[Eq]={rawBody:Sb}});var lc=E((AV,Rb)=>{"use strict";var jq=Wi()({circles:!1,proto:!0}),{kSchemaVisited:$b}=er(),oc=Symbol.for("fluent-schema-object"),{FST_ERR_SCH_MISSING_ID:xq,FST_ERR_SCH_ALREADY_PRESENT:kq,FST_ERR_SCH_DUPLICATE:Dq}=br(),Lq=["params","body","querystring","query","headers"];function Ba(r){this.store=r||{}}Ba.prototype.add=function(r){let e=jq(r.isFluentSchema||r.isFluentJSONSchema||r[oc]?r.valueOf():r),t=e.$id;if(!t)throw new xq;if(this.store[t])throw new kq(t);this.store[t]=e};Ba.prototype.getSchemas=function(){return Object.assign({},this.store)};Ba.prototype.getSchema=function(r){return this.store[r]};function Fq(r,e){if(r[$b])return r;if(r.query){if(r.querystring)throw new Dq("querystring");r.querystring=r.query}Mq(r);for(let t of["headers","querystring","params","body"])if(typeof r[t]=="object"&&Object.getPrototypeOf(r[t])!==Object.prototype)return r;if(r.body&&(r.body=Mn(r.body,e.jsonShorthand)),r.headers&&(r.headers=Mn(r.headers,e.jsonShorthand)),r.querystring&&(r.querystring=Mn(r.querystring,e.jsonShorthand)),r.params&&(r.params=Mn(r.params,e.jsonShorthand)),r.response){let t=Object.keys(r.response);for(let n of t)r.response[n]=Mn(r.response[n],e.jsonShorthand)}return r[$b]=!0,r}function Mq(r){for(let e of Lq)r[e]&&(r[e].isFluentSchema||r[e][oc])&&(r[e]=r[e].valueOf());if(r.response){let e=Object.keys(r.response);for(let t of e)(r.response[t].isFluentSchema||r.response[t][oc])&&(r.response[t]=r.response[t].valueOf())}}function Mn(r,e){return!e||r.$ref||r.oneOf||r.allOf||r.anyOf||r.$merge||r.$patch?r:!r.type&&!r.properties?{type:"object",properties:r}:r}Rb.exports={buildSchemas(r){return new Ba(r)},normalizeSchema:Fq}});var Tb=E((NV,Ob)=>{"use strict";var Hq=Dl();function Vq(r,e){let t=Object.assign({},e,{schema:r});return function({schema:s}){return Hq(s,t)}}Ob.exports.serializerCompiler=Vq});var Cb=E((qV,Ib)=>{"use strict";var zq=Tl();function Uq(){let r=new Map,e=new Map;return e.put=e.set,function(n,s){let i=JSON.stringify(n),a=JSON.stringify(s.customOptions),o=`${i}${a}`;if(r.has(o))return r.get(o);let c=Bq(n,s,e);return r.set(o,c),c}}function Bq(r,e,t){let n=new zq(Object.assign({coerceTypes:!0,useDefaults:!0,removeAdditional:!0,allErrors:!1,nullable:!0},e.customOptions,{cache:t}));if(e.plugins&&e.plugins.length>0)for(let i of e.plugins)Array.isArray(i)?i[0](n,i[1]):i(n);let s=Object.values(r);for(let i of s)n.addSchema(i);return function({schema:i}){if(i.$id){let a=n.getSchema(i.$id);if(a)return a}return n.compile(i)}}Ib.exports=Uq});var uc=E((jV,Ab)=>{"use strict";var{buildSchemas:Gq}=lc(),{serializerCompiler:Kq}=Tb(),Jq=Cb();function Qq(r,e){if(r)return new Hn(r,e);let t={buildValidator:Jq(),buildSerializer:Kq};e&&e.compilersFactory&&(t=Object.assign(t,e.compilersFactory));let n={bucket:e&&e.bucket||Gq,compilersFactory:t};return new Hn(void 0,n)}var Hn=class{constructor(e,t){this.opts=t||e&&e.opts,this.addedSchemas=!1,this.compilersFactory=this.opts.compilersFactory,e?(this.schemaBucket=this.opts.bucket(e.getSchemas()),this.validatorCompiler=e.getValidatorCompiler(),this.serializerCompiler=e.getSerializerCompiler(),this.parent=e):this.schemaBucket=this.opts.bucket()}add(e){return this.addedSchemas=!0,this.schemaBucket.add(e)}getSchema(e){return this.schemaBucket.getSchema(e)}getSchemas(){return this.schemaBucket.getSchemas()}setValidatorCompiler(e){this.validatorCompiler=e}setSerializerCompiler(e){this.serializerCompiler=e}getValidatorCompiler(){return this.validatorCompiler||this.parent&&this.parent.getValidatorCompiler()}getSerializerCompiler(){return this.serializerCompiler||this.parent&&this.parent.getSerializerCompiler()}setupValidator(e){this.validatorCompiler!==void 0&&!this.addedSchemas||(this.validatorCompiler=this.compilersFactory.buildValidator(this.schemaBucket.getSchemas(),e.ajv))}setupSerializer(e){this.serializerCompiler!==void 0&&!this.addedSchemas||(this.serializerCompiler=this.compilersFactory.buildSerializer(this.schemaBucket.getSchemas(),e.serializerOpts))}};Hn.buildSchemaController=Qq;Ab.exports=Hn});var pc=E((xV,dc)=>{"use strict";var Yq=Ku(),cc=require("assert"),fc=Symbol.for("registered-plugin"),{kTestInternals:Wq}=er(),{exist:Xq,existReply:Zq,existRequest:ej}=rc(),{FST_ERR_PLUGIN_VERSION_MISMATCH:rj}=br();function Vn(r){return r[Symbol.for("plugin-meta")]}function tj(r){let e=require.cache,t=Object.keys(e);for(let n=0;n<t.length;n++){let s=t[n];if(e[s].exports===r)return s}return r.name?r.name:null}function sj(r){return r.toString().split(`
`).slice(0,2).map(e=>e.trim()).join(" -- ")}function nj(r){return r[Symbol.for("fastify.display-name")]}function Nb(r){return!!r[Symbol.for("skip-override")]}function qb(r){let e=Vn(r);if(!e)return;let t=e.dependencies;!t||(cc(Array.isArray(t),"The dependencies should be an array of strings"),t.forEach(n=>{cc(this[fc].indexOf(n)>-1,`The dependency '${n}' of plugin '${e.name}' is not registered`)}))}function jb(r){let e=Vn(r);if(!e)return;let{decorators:t,name:n}=e;!t||(t.fastify&&hc(this,"Fastify",t.fastify,n),t.reply&&hc(this,"Reply",t.reply,n),t.request&&hc(this,"Request",t.request,n))}var ij={Fastify:Xq,Request:ej,Reply:Zq};function hc(r,e,t,n){cc(Array.isArray(t),"The decorators should be an array of strings"),t.forEach(s=>{let i=typeof n=="string"?` required by '${n}'`:"";if(!ij[e].call(r,s))throw new Error(`The decorator '${s}'${i} is not present in ${e}`)})}function aj(r){let e=Vn(r);if(!e)return;let t=e.fastify;if(!!t&&!Yq.satisfies(this.version,t))throw new rj(e.name,t,this.version)}function oj(r){let e=Vn(r);if(!e)return;let t=e.name;!t||this[fc].push(t)}function lj(r){return oj.call(this,r),this.version!==void 0&&aj.call(this,r),jb.call(this,r),qb.call(this,r),Nb(r)}dc.exports={getPluginName:tj,getFuncPreview:sj,registeredPlugins:fc,getDisplayName:nj,registerPlugin:lj};dc.exports[Wq]={shouldSkipOverride:Nb,getMeta:Vn,checkDecorators:jb,checkDependencies:qb}});var kb=E((kV,xb)=>{"use strict";xb.exports=function(){let r=2147483647,e=0;return function(n){return e=e+1&r,`req-${e.toString(36)}`}}});var Mb=E((DV,Fb)=>{"use strict";var Db=12,uj=0,mc=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,7,7,7,7,7,7,7,7,7,7,7,7,8,7,7,10,9,9,9,11,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,24,36,48,60,72,84,96,0,12,12,12,0,0,0,0,0,0,0,0,0,0,0,24,0,0,0,0,0,0,0,0,0,24,24,24,0,0,0,0,0,0,0,0,0,24,24,0,0,0,0,0,0,0,0,0,0,48,48,48,0,0,0,0,0,0,0,0,0,0,48,48,0,0,0,0,0,0,0,0,0,48,0,0,0,0,0,0,0,0,0,0,127,63,63,63,0,31,15,15,15,7,7,7];function cj(r){var e=r.indexOf("%");if(e===-1)return r;for(var t=r.length,n="",s=0,i=0,a=e,o=Db;e>-1&&e<t;){var c=Lb(r[e+1],4),d=Lb(r[e+2],0),u=c|d,h=mc[u];if(o=mc[256+o+h],i=i<<6|u&mc[364+h],o===Db)n+=r.slice(s,a),n+=i<=65535?String.fromCharCode(i):String.fromCharCode(55232+(i>>10),56320+(i&1023)),i=0,s=e+3,e=a=r.indexOf("%",s);else{if(o===uj)return null;if(e+=3,e<t&&r.charCodeAt(e)===37)continue;return null}}return n+r.slice(s)}var fj={"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};function Lb(r,e){var t=fj[r];return t===void 0?255:t<<e}Fb.exports=cj});var zn=E((LV,Hb)=>{Hb.exports={ROOT:0,GROUP:1,POSITION:2,SET:3,RANGE:4,REPETITION:5,REFERENCE:6,CHAR:7}});var yc=E(bt=>{var we=zn(),vc=()=>[{type:we.RANGE,from:48,to:57}],Vb=()=>[{type:we.CHAR,value:95},{type:we.RANGE,from:97,to:122},{type:we.RANGE,from:65,to:90}].concat(vc()),zb=()=>[{type:we.CHAR,value:9},{type:we.CHAR,value:10},{type:we.CHAR,value:11},{type:we.CHAR,value:12},{type:we.CHAR,value:13},{type:we.CHAR,value:32},{type:we.CHAR,value:160},{type:we.CHAR,value:5760},{type:we.RANGE,from:8192,to:8202},{type:we.CHAR,value:8232},{type:we.CHAR,value:8233},{type:we.CHAR,value:8239},{type:we.CHAR,value:8287},{type:we.CHAR,value:12288},{type:we.CHAR,value:65279}],hj=()=>[{type:we.CHAR,value:10},{type:we.CHAR,value:13},{type:we.CHAR,value:8232},{type:we.CHAR,value:8233}];bt.words=()=>({type:we.SET,set:Vb(),not:!1});bt.notWords=()=>({type:we.SET,set:Vb(),not:!0});bt.ints=()=>({type:we.SET,set:vc(),not:!1});bt.notInts=()=>({type:we.SET,set:vc(),not:!0});bt.whitespace=()=>({type:we.SET,set:zb(),not:!1});bt.notWhitespace=()=>({type:we.SET,set:zb(),not:!0});bt.anyChar=()=>({type:we.SET,set:hj(),not:!0})});var Bb=E(Un=>{var Ub=zn(),Ms=yc(),dj="@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^ ?",pj={"0":0,t:9,n:10,v:11,f:12,r:13};Un.strToChars=function(r){var e=/(\[\\b\])|(\\)?\\(?:u([A-F0-9]{4})|x([A-F0-9]{2})|(0?[0-7]{2})|c([@A-Z[\\\]^?])|([0tnvfr]))/g;return r=r.replace(e,function(t,n,s,i,a,o,c,d){if(s)return t;var u=n?8:i?parseInt(i,16):a?parseInt(a,16):o?parseInt(o,8):c?dj.indexOf(c):pj[d],h=String.fromCharCode(u);return/[[\]{}^$.|?*+()]/.test(h)&&(h="\\"+h),h}),r};Un.tokenizeClass=(r,e)=>{for(var t=[],n=/\\(?:(w)|(d)|(s)|(W)|(D)|(S))|((?:(?:\\)(.)|([^\]\\]))-(?:\\)?([^\]]))|(\])|(?:\\)?([^])/g,s,i;(s=n.exec(r))!=null;)if(s[1])t.push(Ms.words());else if(s[2])t.push(Ms.ints());else if(s[3])t.push(Ms.whitespace());else if(s[4])t.push(Ms.notWords());else if(s[5])t.push(Ms.notInts());else if(s[6])t.push(Ms.notWhitespace());else if(s[7])t.push({type:Ub.RANGE,from:(s[8]||s[9]).charCodeAt(0),to:s[10].charCodeAt(0)});else if(i=s[12])t.push({type:Ub.CHAR,value:i.charCodeAt(0)});else return[t,n.lastIndex];Un.error(e,"Unterminated character class")};Un.error=(r,e)=>{throw new SyntaxError("Invalid regular expression: /"+r+"/: "+e)}});var Gb=E(Bn=>{var Ga=zn();Bn.wordBoundary=()=>({type:Ga.POSITION,value:"b"});Bn.nonWordBoundary=()=>({type:Ga.POSITION,value:"B"});Bn.begin=()=>({type:Ga.POSITION,value:"^"});Bn.end=()=>({type:Ga.POSITION,value:"$"})});var Kb=E((VV,gc)=>{var Hs=Bb(),Ir=zn(),ss=yc(),Ka=Gb();gc.exports=r=>{var e=0,t,n,s={type:Ir.ROOT,stack:[]},i=s,a=s.stack,o=[],c=y=>{Hs.error(r,`Nothing to repeat at column ${y-1}`)},d=Hs.strToChars(r);for(t=d.length;e<t;)switch(n=d[e++],n){case"\\":switch(n=d[e++],n){case"b":a.push(Ka.wordBoundary());break;case"B":a.push(Ka.nonWordBoundary());break;case"w":a.push(ss.words());break;case"W":a.push(ss.notWords());break;case"d":a.push(ss.ints());break;case"D":a.push(ss.notInts());break;case"s":a.push(ss.whitespace());break;case"S":a.push(ss.notWhitespace());break;default:/\d/.test(n)?a.push({type:Ir.REFERENCE,value:parseInt(n,10)}):a.push({type:Ir.CHAR,value:n.charCodeAt(0)})}break;case"^":a.push(Ka.begin());break;case"$":a.push(Ka.end());break;case"[":var u;d[e]==="^"?(u=!0,e++):u=!1;var h=Hs.tokenizeClass(d.slice(e),r);e+=h[1],a.push({type:Ir.SET,set:h[0],not:u});break;case".":a.push(ss.anyChar());break;case"(":var f={type:Ir.GROUP,stack:[],remember:!0};n=d[e],n==="?"&&(n=d[e+1],e+=2,n==="="?f.followedBy=!0:n==="!"?f.notFollowedBy=!0:n!==":"&&Hs.error(r,`Invalid group, character '${n}' after '?' at column ${e-1}`),f.remember=!1),a.push(f),o.push(i),i=f,a=f.stack;break;case")":o.length===0&&Hs.error(r,`Unmatched ) at column ${e-1}`),i=o.pop(),a=i.options?i.options[i.options.length-1]:i.stack;break;case"|":i.options||(i.options=[i.stack],delete i.stack);var l=[];i.options.push(l),a=l;break;case"{":var v=/^(\d+)(,(\d+)?)?\}/.exec(d.slice(e)),m,p;v!==null?(a.length===0&&c(e),m=parseInt(v[1],10),p=v[2]?v[3]?parseInt(v[3],10):1/0:m,e+=v[0].length,a.push({type:Ir.REPETITION,min:m,max:p,value:a.pop()})):a.push({type:Ir.CHAR,value:123});break;case"?":a.length===0&&c(e),a.push({type:Ir.REPETITION,min:0,max:1,value:a.pop()});break;case"+":a.length===0&&c(e),a.push({type:Ir.REPETITION,min:1,max:1/0,value:a.pop()});break;case"*":a.length===0&&c(e),a.push({type:Ir.REPETITION,min:0,max:1/0,value:a.pop()});break;default:a.push({type:Ir.CHAR,value:n.charCodeAt(0)})}return o.length!==0&&Hs.error(r,"Unterminated group"),s};gc.exports.types=Ir});var Yb=E((zV,Qb)=>{"use strict";var Jb=Kb(),mj=Jb.types;Qb.exports=function(r,e){e||(e={});var t=e.limit===void 0?25:e.limit;vj(r)?r=r.source:typeof r!="string"&&(r=String(r));try{r=Jb(r)}catch{return!1}var n=0;return function s(i,a){var o,c,d;if(i.type===mj.REPETITION&&(a++,n++,a>1||n>t))return!1;if(i.options){for(o=0,d=i.options.length;o<d;o++)if(c=s({stack:i.options[o]},a),!c)return!1}var u=i.stack||i.value&&i.value.stack;if(!u)return!0;for(o=0;o<u.length;o++)if(c=s(u[o],a),!c)return!1;return!0}(r,0)};function vj(r){return{}.toString.call(r)==="[object RegExp]"}});var aE=E((UV,iE)=>{"use strict";var Vs="    ",zs="\u2502   ",Wb="\u251C\u2500\u2500 ",Xb="\u2514\u2500\u2500 ",Zb="*",Gn="/",eE=/(?=\/)/;function yj(r){let e=r.name||"";return e=e.replace("bound","").trim(),e=(e||"anonymous")+"()",e}function rE(r){return Array.isArray(r)?r.map(e=>rE(e)):typeof r=="symbol"?r.toString():typeof r=="function"?yj(r):r}function bc(r,e){let t={},n=this.buildPrettyMeta(r);return Array.isArray(e)||(e=n?Reflect.ownKeys(n):[]),e.forEach(s=>{let i=typeof s=="symbol"?s.toString():s;n&&n[s]&&(t[i]=rE(n[s]))}),t}function gj(r,e={}){if(!this.buildPrettyMeta)throw new Error("buildPrettyMeta not defined");e.includeMeta=e.includeMeta||null;let t=[],n="";r.sort((i,a)=>!i.path||!a.path?0:i.path.localeCompare(a.path));for(let i=0;i<r.length;i++){let a=r[i],o=t.find(d=>a.path===d.path);if(o){o.handlers.push({method:a.method,opts:a.opts.constraints||void 0,meta:e.includeMeta?bc.call(this,a,e.includeMeta):null});continue}let c={method:a.method,opts:a.opts.constraints||void 0,meta:e.includeMeta?bc.call(this,a,e.includeMeta):null};t.push({path:a.path,methods:[a.method],opts:[a.opts],handlers:[c]})}if(!t.filter(i=>i.path===Gn).length){let i={path:Gn,truncatedPath:"",methods:[],opts:[],handlers:[{}]};t.filter(a=>a.path===Zb).length?t.splice(1,0,i):t.unshift(i)}let s=bj(t);return s.forEach((i,a)=>{n+=tE(i,null,a===s.length-1,!1,!0),n+=`
`}),n}function bj(r,e){e=e||Gn;let t=[],n={result:t};return r.forEach((s,i)=>{let a=s.path.split(eE);a[0]!==Gn&&a[0]!==Zb&&(a=[Gn,a[0].slice(1),...a.slice(1)]),a.reduce((o,c,d)=>{if(!o[c]){o[c]={result:[]};let u={path:c,children:o[c].result};d===a.length-1&&(u.handlers=s.handlers),o.result.push(u)}return o[c]},n)}),t}function tE(r,e,t,n,s){let i="";if(!n&&!s&&(i+=`
`),n||(i+=`${e||""}${t?Xb:Wb}`),i+=`${r.path}`,r.handlers){let a=r.handlers.reduce((o,c)=>{let d=o.findIndex(u=>JSON.stringify(u.opts)===JSON.stringify(c.opts));return d!==-1?o[d].method=[o[d].method,c.method].join(", "):o.push(c),o},[]);a.forEach((o,c)=>{c>0&&(i+=`${n?"":e||""}${t?Vs:zs}${r.path}`),i+=` (${o.method||"-"})`,o.opts&&JSON.stringify(o.opts)!=="{}"&&(i+=` ${JSON.stringify(o.opts)}`),o.meta&&Reflect.ownKeys(o.meta).forEach((d,u)=>{i+=`
${n?"":e||""}${t?Vs:zs}`,i+=`\u2022 (${d}) ${JSON.stringify(o.meta[d])}`}),a.length>1&&c!==a.length-1&&(i+=`
`)})}else r.children.length>1&&(i+=" (-)");return n||(e=`${e||""}${t?Vs:zs}`),r.children.forEach((a,o)=>{let c=o===r.children.length-1,d=!r.handlers&&r.children.length===1;i+=tE(a,e,c,d)}),i}function sE(r,e,t,n){if(!this.buildPrettyMeta)throw new Error("buildPrettyMeta not defined");n.includeMeta=n.includeMeta||null;let s="",i=[];for(let c of r.nodes)for(let d of c.handlers)i.push({method:c.method,...d});i.length?i.forEach((c,d)=>{let u=`(${c.method||"-"})`;Object.keys(c.constraints).length>0&&(u+=" "+JSON.stringify(c.constraints));let h="",f=r.prefix.split("").map((l,v)=>l===":"?v:null).filter(l=>l!==null);if(f.length){let l=0;f.forEach((v,m)=>{h+=r.prefix.slice(l,v+1),h+=c.params[c.params.length-f.length+m],m===f.length-1&&(h+=r.prefix.slice(v+1)),l=v+1})}else h=r.prefix;if(d===0?s+=`${h} ${u}`:s+=`
${e}${t?Vs:zs}${h} ${u}`,n.includeMeta){let l=bc.call(this,c,n.includeMeta);Object.keys(l).forEach((v,m)=>{s+=`
${e||""}${t?Vs:zs}`,s+=`\u2022 (${v}) ${JSON.stringify(l[v])}`})}}):s=r.prefix;let a=`${e}${t?Xb:Wb}${s}
`;e=`${e}${t?Vs:zs}`;let o=Object.keys(r.children);for(let c=0;c<o.length;c++){let d=r.children[o[c]];a+=sE.call(this,d,e,c===o.length-1,n)}return a}function nE(r,e){if(e.handlers.length>0&&r.nodes.push(e),e.children)for(let t of Object.values(e.children)){let n=t.prefix.split(eE),s=r,i;for(let a of n)i=s,s=s.children[a],s||(s={prefix:a,nodes:[],children:{}},i.children[a]=s);nE(s,t)}}function Ec(r){let e=Object.keys(r.children);if(r.nodes.length===0&&e.length===1){let t=r.children[e[0]];if(t.nodes.length<=1)return Ec(t),r.nodes=t.nodes,r.prefix+=t.prefix,r.children=t.children,r}for(let t of Object.keys(r.children))Ec(r.children[t]);return r}iE.exports={flattenNode:nE,compressFlattenedNode:Ec,prettyPrintFlattenedNode:sE,prettyPrintRoutesArray:gj}});var cE=E((BV,uE)=>{"use strict";var oE=require("assert"),Ej=pt(),wj={STATIC:0,PARAM:1,MATCH_ALL:2,REGEX:3,MULTI_PARAM:4};function Ke(r){r=r||{},this.prefix=r.prefix||"/",this.label=this.prefix[0],this.method=r.method,this.handlers=r.handlers||[],this.unconstrainedHandler=r.unconstrainedHandler||null,this.children=r.children||{},this.numberOfChildren=Object.keys(this.children).length,this.kind=r.kind||this.types.STATIC,this.regex=r.regex||null,this.wildcardChild=null,this.parametricBrother=null,this.constrainer=r.constrainer,this.hasConstraints=r.hasConstraints||!1,this.constrainedHandlerStores=null}Object.defineProperty(Ke.prototype,"types",{value:wj});Ke.prototype.getLabel=function(){return this.prefix[0]};Ke.prototype.addChild=function(r){var e="";switch(r.kind){case this.types.STATIC:e=r.getLabel();break;case this.types.PARAM:case this.types.REGEX:case this.types.MULTI_PARAM:e=":";break;case this.types.MATCH_ALL:this.wildcardChild=r,e="*";break;default:throw new Error(`Unknown node kind: ${r.kind}`)}oE(this.children[e]===void 0,`There is already a child with label '${e}'`),this.children[e]=r,this.numberOfChildren=Object.keys(this.children).length;let t=Object.keys(this.children);for(var n=this.parametricBrother,s=0;s<t.length;s++){let a=this.children[t[s]];if(a.label===":"){n=a;break}}let i=a=>{if(!a||a.kind!==this.types.STATIC)return;a!==this&&(a.parametricBrother=n||a.parametricBrother);let o=Object.keys(a.children);for(var c=0;c<o.length;c++)i(a.children[o[c]])};return i(this),this};Ke.prototype.reset=function(r){return this.prefix=r,this.children={},this.handlers=[],this.unconstrainedHandler=null,this.kind=this.types.STATIC,this.numberOfChildren=0,this.regex=null,this.wildcardChild=null,this.hasConstraints=!1,this._decompileGetHandlerMatchingConstraints(),this};Ke.prototype.split=function(r){let e=new Ke({prefix:this.prefix.slice(r),children:this.children,kind:this.kind,method:this.method,handlers:this.handlers.slice(0),regex:this.regex,constrainer:this.constrainer,hasConstraints:this.hasConstraints,unconstrainedHandler:this.unconstrainedHandler});return this.wildcardChild!==null&&(e.wildcardChild=this.wildcardChild),this.reset(this.prefix.slice(0,r)),this.addChild(e),e};Ke.prototype.findByLabel=function(r){return this.children[r[0]]};Ke.prototype.findMatchingChild=function(r,e){var t=this.children[e[0]];return t!==void 0&&(t.numberOfChildren>0||t.getMatchingHandler(r)!==null)&&e.slice(0,t.prefix.length)===t.prefix||(t=this.children[":"],t!==void 0&&(t.numberOfChildren>0||t.getMatchingHandler(r)!==null))||(t=this.children["*"],t!==void 0&&(t.numberOfChildren>0||t.getMatchingHandler(r)!==null))?t:null};Ke.prototype.addHandler=function(r,e,t,n){if(!r)return;oE(!this.getHandler(n),`There is already a handler with constraints '${JSON.stringify(n)}' and method '${this.method}'`);let s={handler:r,params:e,constraints:n,store:t||null,paramsLength:e.length};if(this.handlers.push(s),this.handlers.sort((i,a)=>Object.keys(i.constraints).length-Object.keys(a.constraints).length),Object.keys(n).length>0?this.hasConstraints=!0:this.unconstrainedHandler=s,this.hasConstraints&&this.handlers.length>32)throw new Error("find-my-way supports a maximum of 32 route handlers per node when there are constraints, limit reached");this._decompileGetHandlerMatchingConstraints()};Ke.prototype.getHandler=function(r){return this.handlers.filter(e=>Ej(r,e.constraints))[0]};function lE(r){return this._compileGetHandlerMatchingConstraints(),this._getHandlerMatchingConstraints(r)}Ke.prototype.getMatchingHandler=function(r){return this.hasConstraints?this._getHandlerMatchingConstraints(r):r&&r.__hasMustMatchValues?null:this.unconstrainedHandler};Ke.prototype._getHandlerMatchingConstraints=lE;Ke.prototype._decompileGetHandlerMatchingConstraints=function(){return this._getHandlerMatchingConstraints=lE,null};Ke.prototype._buildConstraintStore=function(r){let e=this.constrainer.newStoreForConstraint(r);for(let t=0;t<this.handlers.length;t++){let s=this.handlers[t].constraints[r];if(typeof s!="undefined"){let i=e.get(s);i||(i=0),i|=1<<t,e.set(s,i)}}return e};Ke.prototype._constrainedIndexBitmask=function(r){let e=0;for(let t=0;t<this.handlers.length;t++){let n=this.handlers[t];n.constraints&&r in n.constraints&&(e|=1<<t)}return~e};Ke.prototype._compileGetHandlerMatchingConstraints=function(){this.constrainedHandlerStores={};let r=new Set;for(let t of this.handlers)for(let n of Object.keys(t.constraints))r.add(n);r=Array.from(r);let e=[];r.sort((t,n)=>t==="version"?1:0);for(let t of r)this.constrainedHandlerStores[t]=this._buildConstraintStore(t);e.push(`
  let candidates = 0b${"1".repeat(this.handlers.length)}
  let mask, matches
  `);for(let t of r)e.push(`
    mask = ${this._constrainedIndexBitmask(t)}
    value = derivedConstraints.${t}
    `),e.push(`
    if (typeof value === "undefined") {
      candidates &= mask
    } else {
      matches = this.constrainedHandlerStores.${t}.get(value) || 0
      candidates &= (matches | mask)
    }
    if (candidates === 0) return null;
    `);e.push(`
  const handler = this.handlers[Math.floor(Math.log2(candidates))]
  if (handler && derivedConstraints.__hasMustMatchValues && handler === this.unconstrainedHandler) {
    return null;
  }
  return handler;
  `),this._getHandlerMatchingConstraints=new Function("derivedConstraints",e.join(`
`))};uE.exports=Ke});var hE=E((GV,fE)=>{"use strict";function ns(){if(!(this instanceof ns))return new ns;this.tree=new Et}ns.prototype.set=function(r,e){if(typeof r!="string")throw new TypeError("Version should be a string");var t=this.tree;for(r=r.split(".");r.length;)t=t.addChild(new Et(r.shift()));return t.setStore(e),this};ns.prototype.get=function(r){if(typeof r!="string")return null;r==="*"&&(r="x.x.x");var e=this.tree,t=r.indexOf("."),n=r.indexOf(".",t+1),s=r.slice(0,t),i=n===-1?r.slice(t+1):r.slice(t+1,n),a=n===-1?"x":r.slice(n+1);return e=e.getChild(s),e===null||(e=e.getChild(i),e===null)||(e=e.getChild(a),e===null)?null:e.store};ns.prototype.del=function(r){if(typeof r!="string")throw new TypeError("Version should be a string");var e=r.indexOf("."),t=r.indexOf(".",e+1),n=r.slice(0,e),s=t===-1?r.slice(e+1):r.slice(e+1,t),i=t===-1?"x":r.slice(t+1),a=this.tree.children[n];if(a==null)return this;if(s==="x")return this.tree.removeChild(n),this;var o=a.children[s];if(o==null)return this;if(i==="x")return this.tree.children[n].removeChild(s),this.tree.children[n].length===0&&this.tree.removeChild(n),this;var c=o.children[i];return c==null?this:(this.tree.children[n].children[s].removeChild(i),this.tree.children[n].children[s].length===0&&(this.tree.children[n].removeChild(s),this.tree.children[n].length===0&&this.tree.removeChild(n)),this)};ns.prototype.empty=function(){return this.tree=new Et,this};function _j(r){for(var e=r.length,t=r[0],n=1;n<e;n++)r[n]>t&&(t=r[n]);return t}function Et(r,e,t){this.prefix=Number(r)||0,this.children=e||null,this.childrenPrefixes=e?Object.keys(e):[],this.store=t||null}Et.prototype.getChild=function(r){if(this.children===null)return null;if(r==="x"){var e=_j(this.childrenPrefixes);return this.children[e]}return this.children[r]||null};Et.prototype.addChild=function(r){this.children=this.children||{};var e=this.getChild(r.prefix);return e===null&&(this.children[r.prefix]=r,this.childrenPrefixes.push(r.prefix)),e||r};Et.prototype.removeChild=function(r){return r==="x"?(this.children=null,this.childrenPrefixes=[],this):(this.children[r]!==void 0&&(r=Number(r),delete this.children[r],this.childrenPrefixes.splice(this.childrenPrefixes.indexOf(r),1)),this)};Et.prototype.setStore=function(r){return this.store=r,this};Object.defineProperty(Et.prototype,"length",{get:function(){return this.childrenPrefixes.length}});fE.exports=ns});var pE=E((KV,dE)=>{"use strict";var Sj=hE(),Pj=require("assert");dE.exports={name:"version",mustMatchWhenDerived:!0,storage:Sj,validate(r){Pj(typeof r=="string","Version should be a string")}}});var vE=E((JV,mE)=>{"use strict";var $j=require("assert");function Rj(){var r={},e=[];return{get:t=>{var n=r[t];if(n)return n;for(var s,i=0;i<e.length;i++)if(s=e[i],s.host.test(t))return s.value},set:(t,n)=>{t instanceof RegExp?e.push({host:t,value:n}):r[t]=n},del:t=>{delete r[t],e=e.filter(n=>String(n.host)!==String(t))},empty:()=>{r={},e=[]}}}mE.exports={name:"host",mustMatchWhenDerived:!1,storage:Rj,validate(r){$j(typeof r=="string"||Object.prototype.toString.call(r)==="[object RegExp]","Host should be a string or a RegExp")}}});var bE=E((QV,gE)=>{"use strict";var Oj=pE(),Tj=vE(),wc=require("assert"),yE=class{constructor(e){if(this.strategies={version:Oj,host:Tj},this.strategiesInUse=new Set,e)for(var t=Object.keys(e),n,s=0;s<t.length;s++)n=e[t[s]],wc(typeof n.name=="string"&&n.name!=="","strategy.name is required."),wc(n.storage&&typeof n.storage=="function","strategy.storage function is required."),wc(n.deriveConstraint&&typeof n.deriveConstraint=="function","strategy.deriveConstraint function is required."),n.isCustom=!0,this.strategies[n.name]=n,n.mustMatchWhenDerived&&this.noteUsage({[t[s]]:n})}deriveConstraints(e,t){}noteUsage(e){if(e){let t=this.strategiesInUse.size;for(let n in e)this.strategiesInUse.add(n);t!==this.strategiesInUse.size&&this._buildDeriveConstraints()}}newStoreForConstraint(e){if(!this.strategies[e])throw new Error(`No strategy registered for constraint key ${e}`);return this.strategies[e].storage()}validateConstraints(e){for(let t in e){let n=e[t];if(typeof n=="undefined")throw new Error("Can't pass an undefined constraint value, must pass null or no key at all");let s=this.strategies[t];if(!s)throw new Error(`No strategy registered for constraint key ${t}`);s.validate&&s.validate(n)}}_buildDeriveConstraints(){if(this.strategiesInUse.size===0)return;let e=[`
      const derivedConstraints = {
        __hasMustMatchValues: false,
    `],t=[];for(let n of this.strategiesInUse){let s=this.strategies[n];if(s.isCustom)e.push(`  ${s.name}: this.strategies.${n}.deriveConstraint(req, ctx),`);else if(n==="version")e.push("   version: req.headers['accept-version'],");else if(n==="host")e.push("   host: req.headers.host,");else throw new Error("unknown non-custom strategy for compiling constraint derivation function");s.mustMatchWhenDerived&&t.push(n)}e.push("}"),t.length>0&&e.push(`derivedConstraints.__hasMustMatchValues = !!(${t.map(n=>`derivedConstraints.${n}`).join(" || ")})`),e.push("return derivedConstraints"),this.deriveConstraints=new Function("req","ctx",e.join(`
`)).bind(this)}};gE.exports=yE});var Sc=E((YV,_E)=>{"use strict";var ze=require("assert"),Ja=require("http"),Kn=Mb(),EE=Yb(),{flattenNode:Ij,compressFlattenedNode:Cj,prettyPrintFlattenedNode:Aj,prettyPrintRoutesArray:Nj}=aE(),Qa=cE(),qj=bE(),Cr=Qa.prototype.types,_c=Ja.METHODS,wE=/^https?:\/\/.*?\//;if(!EE(wE))throw new Error("the FULL_PATH_REGEXP is not safe, update this module");function Je(r){if(!(this instanceof Je))return new Je(r);r=r||{},r.defaultRoute?(ze(typeof r.defaultRoute=="function","The default route must be a function"),this.defaultRoute=r.defaultRoute):this.defaultRoute=null,r.onBadUrl?(ze(typeof r.onBadUrl=="function","The bad url handler must be a function"),this.onBadUrl=r.onBadUrl):this.onBadUrl=null,r.buildPrettyMeta?(ze(typeof r.buildPrettyMeta=="function","buildPrettyMeta must be a function"),this.buildPrettyMeta=r.buildPrettyMeta):this.buildPrettyMeta=kj,this.caseSensitive=r.caseSensitive===void 0?!0:r.caseSensitive,this.ignoreTrailingSlash=r.ignoreTrailingSlash||!1,this.maxParamLength=r.maxParamLength||100,this.allowUnsafeRegex=r.allowUnsafeRegex||!1,this.constrainer=new qj(r.constraints),this.trees={},this.routes=[]}Je.prototype.on=function(e,t,n,s,i){typeof n=="function"&&(s!==void 0&&(i=s),s=n,n={}),ze(typeof t=="string","Path should be a string"),ze(t.length>0,"The path could not be empty"),ze(t[0]==="/"||t[0]==="*","The first character of a path should be `/` or `*`"),ze(typeof s=="function","Handler should be a function"),this._on(e,t,n,s,i),this.ignoreTrailingSlash&&t!=="/"&&!t.endsWith("*")&&(t.endsWith("/")?this._on(e,t.slice(0,-1),n,s,i):this._on(e,t+"/",n,s,i))};Je.prototype._on=function(e,t,n,s,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)this._on(e[a],t,n,s,i);return}ze(typeof e=="string","Method should be a string"),ze(_c.indexOf(e)!==-1,`Method '${e}' is not an http method.`);let o={};n.constraints!==void 0&&(ze(typeof n.constraints=="object"&&n.constraints!==null,"Constraints should be an object"),Object.keys(n.constraints).length!==0&&(o=n.constraints)),this.constrainer.validateConstraints(o),this.constrainer.noteUsage(o);let c=[];var d=0;this.routes.push({method:e,path:t,opts:n,handler:s,store:i});for(var u=0,h=t.length;u<h;u++)if(t.charCodeAt(u)===58){if(u!==h-1&&t.charCodeAt(u+1)===58){t=t.slice(0,u)+t.slice(u+1),h=t.length;continue}var f=Cr.PARAM;d=u+1;var l=t.slice(0,u);this.caseSensitive===!1&&(l=l.toLowerCase()),this._insert(e,l,Cr.STATIC,null,null,null,null,o);for(var v=!1;u<h&&t.charCodeAt(u)!==47;)if(v=v||t[u]==="(",v){u=xj(t,u)+1;break}else if(t.charCodeAt(u)!==45&&t.charCodeAt(u)!==46)u++;else break;v&&(u===h||t.charCodeAt(u)===47)?f=Cr.REGEX:u<h&&t.charCodeAt(u)!==47&&(f=Cr.MULTI_PARAM);var m=t.slice(d,u),p=v?m.slice(m.indexOf("("),u):null;if(v&&(p=new RegExp(p),this.allowUnsafeRegex||ze(EE(p),`The regex '${p.toString()}' is not safe!`)),c.push(m.slice(0,v?m.indexOf("("):u)),t=t.slice(0,d)+t.slice(u),u=d,h=t.length,u===h){var y=t.slice(0,u);return this.caseSensitive===!1&&(y=y.toLowerCase()),this._insert(e,y,f,c,s,i,p,o)}l=t.slice(0,u),this.caseSensitive===!1&&(l=l.toLowerCase()),this._insert(e,l,f,c,null,null,p,o),u--}else if(t.charCodeAt(u)===42)return this._insert(e,t.slice(0,u),Cr.STATIC,null,null,null,null,o),c.push("*"),this._insert(e,t.slice(0,h),Cr.MATCH_ALL,c,s,i,null,o);this.caseSensitive===!1&&(t=t.toLowerCase()),this._insert(e,t,Cr.STATIC,c,s,i,null,o)};Je.prototype._insert=function(e,t,n,s,i,a,o,c){let d=t;var u="",h=0,f=0,l=0,v=0,m=null,p=this.trees[e];for(typeof p=="undefined"&&(p=new Qa({method:e,constrainer:this.constrainer}),this.trees[e]=p);;){for(u=p.prefix,f=u.length,h=t.length,l=0,v=h<f?h:f;l<v&&t[l]===u[l];)l++;if(l<f)m=p.split(l),l===h?(ze(!p.getHandler(c),`Method '${e}' already declared for route '${d}' with constraints '${JSON.stringify(c)}'`),p.addHandler(i,s,a,c),p.kind=n):(m=new Qa({method:e,prefix:t.slice(l),kind:n,handlers:null,regex:o,constrainer:this.constrainer}),m.addHandler(i,s,a,c),p.addChild(m));else if(l<h){if(t=t.slice(l),m=p.findByLabel(t),m){p=m;continue}m=new Qa({method:e,prefix:t,kind:n,handlers:null,regex:o,constrainer:this.constrainer}),m.addHandler(i,s,a,c),p.addChild(m)}else i&&(ze(!p.getHandler(c),`Method '${e}' already declared for route '${d}' with constraints '${JSON.stringify(c)}'`),p.addHandler(i,s,a,c));return}};Je.prototype.reset=function(){this.trees={},this.routes=[]};Je.prototype.off=function(e,t){var n=this;if(Array.isArray(e))return e.map(function(a){return n.off(a,t)});ze(typeof e=="string","Method should be a string"),ze(_c.indexOf(e)!==-1,`Method '${e}' is not an http method.`),ze(typeof t=="string","Path should be a string"),ze(t.length>0,"The path could not be empty"),ze(t[0]==="/"||t[0]==="*","The first character of a path should be `/` or `*`");let s=this.ignoreTrailingSlash;var i=n.routes.filter(function(a){if(!s)return!(e===a.method&&t===a.path);if(t.endsWith("/")){let c=t===a.path||t.slice(0,-1)===a.path;return!(e===a.method&&c)}let o=t===a.path||t+"/"===a.path;return!(e===a.method&&o)});s&&(i=i.filter(function(a,o,c){return a.path.endsWith("/")&&o<c.length-1?a.path.slice(0,-1)!==c[o+1].path:a.path.endsWith("/")===!1&&o<c.length-1?a.path+"/"!==c[o+1].path:!0})),n.reset(),i.forEach(function(a){n.on(a.method,a.path,a.opts,a.handler,a.store)})};Je.prototype.lookup=function(e,t,n){var s=this.find(e.method,jj(e.url),this.constrainer.deriveConstraints(e,n));return s===null?this._defaultRoute(e,t,n):n===void 0?s.handler(e,t,s.params,s.store):s.handler.call(n,e,t,s.params,s.store)};Je.prototype.find=function(e,t,n){var s=this.trees[e];if(s===void 0)return null;t.charCodeAt(0)!==47&&(t=t.replace(wE,"/"));var i=t,a=t.length;this.caseSensitive===!1&&(t=t.toLowerCase());for(var o=this.maxParamLength,c=null,d=0,u=null,h=0,f=null,l=0,v=0;;){var m=t.length,p=s.prefix;if(m===0||t===p){var y=n!==void 0?s.getMatchingHandler(n):s.unconstrainedHandler;if(y!=null){var S={};if(y.paramsLength>0){var $=y.params;for(l=0;l<y.paramsLength;l++)S[$[l]]=f[l]}return{handler:y.handler,params:S,store:y.store}}}var w=p.length,g=0,O=t;for(l=m<w?m:w;g<l&&t.charCodeAt(g)===p.charCodeAt(g);)g++;g===w&&(t=t.slice(g),m=t.length,v+=g);var R=s.findMatchingChild(n,t);if(R===null){if(R=s.parametricBrother,R===null)return this._getWildcardNode(c,i,d,n,f);var D=O.charCodeAt(0)===47?O:"/"+O;if(i.indexOf(D)===-1){var A=i.slice(0,a-m);O=A.slice(A.lastIndexOf("/")+1,A.length)+t}v=v-(O.length-t.length),t=O,m=O.length,g=w}var j=R.kind;if(j===Cr.STATIC){s.wildcardChild!==null&&(c=s.wildcardChild,d=m),s=R;continue}if(g!==w)return this._getWildcardNode(c,i,d,n,f);if(s.wildcardChild!==null&&(c=s.wildcardChild,d=m),j===Cr.PARAM){if(s=R,l=t.indexOf("/"),l===-1&&(l=m),l>o)return null;if(u=Kn(i.slice(v,v+l)),u===null)return this.onBadUrl!==null?this._onBadUrl(i.slice(v,v+l)):null;f||(f=[]),f[h++]=u,t=t.slice(l),v+=l;continue}if(j===Cr.MATCH_ALL){if(u=Kn(i.slice(v)),u===null)return this.onBadUrl!==null?this._onBadUrl(i.slice(v)):null;f||(f=[]),f[h]=u,s=R,t="";continue}if(j===Cr.REGEX){if(s=R,l=t.indexOf("/"),l===-1&&(l=m),l>o)return null;if(u=Kn(i.slice(v,v+l)),u===null)return this.onBadUrl!==null?this._onBadUrl(i.slice(v,v+l)):null;if(!R.regex.test(u))return null;f||(f=[]),f[h++]=u,t=t.slice(l),v+=l;continue}if(j===Cr.MULTI_PARAM){if(s=R,l=0,R.regex!==null){var x=t.match(R.regex);if(x===null)return null;l=x[1].length}else{for(;l<m&&t.charCodeAt(l)!==47&&t.charCodeAt(l)!==45&&t.charCodeAt(l)!==46;)l++;if(l>o)return null}if(u=Kn(i.slice(v,v+l)),u===null)return this.onBadUrl!==null?this._onBadUrl(i.slice(v,v+l)):null;f||(f=[]),f[h++]=u,t=t.slice(l),v+=l;continue}c=null}};Je.prototype._getWildcardNode=function(r,e,t,n,s){if(r===null)return null;var i=Kn(e.slice(-t));if(i===null)return this.onBadUrl!==null?this._onBadUrl(e.slice(-t)):null;var a=n!==void 0?r.getMatchingHandler(n):r.unconstrainedHandler;if(a!=null){var o={};if(a.paramsLength>0&&s!==null){var c=a.params;for(wt=0;wt<a.paramsLength;wt++)o[c[wt]]=s[wt]}return o["*"]=i,{handler:a.handler,params:o,store:a.store}}return null};Je.prototype._defaultRoute=function(r,e,t){if(this.defaultRoute!==null)return t===void 0?this.defaultRoute(r,e):this.defaultRoute.call(t,r,e);e.statusCode=404,e.end()};Je.prototype._onBadUrl=function(r){let e=this.onBadUrl;return{handler:(t,n,s)=>e(r,t,n),params:{},store:null}};Je.prototype.prettyPrint=function(r={}){if(r.commonPrefix=r.commonPrefix===void 0?!0:r.commonPrefix,!r.commonPrefix)return Nj.call(this,this.routes,r);let e={prefix:"/",nodes:[],children:{}};for(let t of Object.values(this.trees))t&&Ij(e,t);return Cj(e),Aj.call(this,e,"",!0,r)};for(wt in Ja.METHODS){if(!Ja.METHODS.hasOwnProperty(wt))continue;let r=Ja.METHODS[wt],e=r.toLowerCase();if(Je.prototype[e])throw new Error("Method already exists: "+e);Je.prototype[e]=function(t,n,s){return this.on(r,t,n,s)}}var wt;Je.prototype.all=function(r,e,t){this.on(_c,r,e,t)};_E.exports=Je;function jj(r){for(var e=0,t=r.length;e<t;e++){var n=r.charCodeAt(e);if(n===63||n===59||n===35)return r.slice(0,e)}return r}function xj(r,e){for(var t=1;e<r.length;){if(e++,r[e]==="\\"){e++;continue}if(r[e]===")"?t--:r[e]==="("&&t++,!t)return e}throw new TypeError('Invalid regexp expression in "'+r+'"')}function kj(r){return r?r.store?Object.assign({},r.store):{}:{}}});var Pc=E((WV,SE)=>{"use strict";var{kFourOhFourContext:Dj,kReplySerializerDefault:Lj}=er();function Fj(r,e,t,n,s,i,a,o,c,d,u,h,f){this.schema=r,this.handler=e,this.Reply=t,this.Request=n,this.contentTypeParser=s,this.onRequest=null,this.onSend=null,this.onError=null,this.onTimeout=null,this.preHandler=null,this.onResponse=null,this.config=i,this.errorHandler=a,this._middie=null,this._parserOptions={limit:o||null},this.logLevel=c,this.logSerializers=d,this[Dj]=null,this.attachValidation=u,this[Lj]=h,this.schemaErrorFormatter=f||Mj}function Mj(r,e){let t="",n=", ";for(var s=0;s!==r.length;++s){let i=r[s];t+=e+(i.dataPath||"")+" "+i.message+n}return new Error(t.slice(0,-n.length))}SE.exports=Fj});var $E=E((XV,PE)=>{"use strict";function $c(r,e,t,n){if(t===void 0)return e.header("content-length","0"),n(null,null);if(typeof t.resume=="function")return t.on("error",i=>{e.log.error({err:i},"Error on Stream found for HEAD route")}),t.resume(),n(null,null);let s=""+Buffer.byteLength(t);e.header("content-length",s),n(null,null)}function Hj(r){return r==null?$c:Array.isArray(r)?[...r,$c]:[r,$c]}PE.exports={parseHeadOnSendHandlers:Hj}});var DE=E((ZV,kE)=>{"use strict";var Vj=Sc(),zj=Pc(),RE=Kl(),{hookRunner:OE,hookIterator:TE,lifecycleHooks:Uj}=Bt(),IE=["DELETE","GET","HEAD","PATCH","POST","PUT","OPTIONS"],{normalizeSchema:Bj}=lc(),{parseHeadOnSendHandlers:Gj}=$E(),Rc=Wt(),{compileSchemasForValidation:Kj,compileSchemasForSerialization:Jj}=Vl(),{FST_ERR_SCH_VALIDATION_BUILD:Qj,FST_ERR_SCH_SERIALIZATION_BUILD:Yj,FST_ERR_DEFAULT_ROUTE_INVALID_TYPE:Wj}=br(),{kRoutePrefix:Xj,kLogLevel:Zj,kLogSerializers:CE,kHooks:AE,kHooksDeprecatedPreParsing:NE,kSchemaController:ex,kOptions:qE,kContentTypeParser:rx,kReply:tx,kReplySerializerDefault:sx,kReplyIsError:nx,kRequest:ix,kRequestPayloadStream:Ya,kDisableRequestLogging:ax,kSchemaErrorFormatter:ox,kErrorHandler:lx}=er();function ux(r){let e=Vj(r.config),t,n,s,i,a,o,c,d,u,h,f,l,v,m,p=!1;return{setup(w,g){t=g.avvio,n=g.fourOhFour,o=g.logger,c=g.hasLogger,d=g.setupResponseListeners,u=g.throwIfAlreadyStarted,m=w.exposeHeadRoutes,s=w.requestIdHeader,i=w.querystringParser,a=w.requestIdLogLabel,h=w.genReqId,f=w.disableRequestLogging,l=w.ignoreTrailingSlash,v=Object.prototype.hasOwnProperty.call(w,"return503OnClosing")?w.return503OnClosing:!0},routing:e.lookup.bind(e),route:S,prepareRoute:y,getDefaultRoute:function(){return e.defaultRoute},setDefaultRoute:function(w){if(typeof w!="function")throw new Wj;e.defaultRoute=w},routeHandler:$,closeRoutes:()=>{p=!0},printRoutes:e.prettyPrint.bind(e)};function y(w,g,O,R){if(!R&&typeof O=="function")R=O,O={};else if(R&&typeof R=="function"){if(Object.prototype.toString.call(O)!=="[object Object]")throw new Error(`Options for ${w}:${g} route must be an object`);if(O.handler)throw typeof O.handler=="function"?new Error(`Duplicate handler for ${w}:${g} route is not allowed!`):new Error(`Handler for ${w}:${g} route must be a function`)}return O=Object.assign({},O,{method:w,url:g,path:g,handler:R||O&&O.handler}),S.call(this,O)}function S(w){let g={...w};if(u("Cannot add route when fastify instance is already started!"),Array.isArray(g.method))for(var O=0;O<g.method.length;++O){let j=g.method[O];if(IE.indexOf(j)===-1)throw new Error(`${j} method is not supported!`)}else if(IE.indexOf(g.method)===-1)throw new Error(`${g.method} method is not supported!`);let R=g.url||g.path;if(!g.handler)throw new Error(`Missing handler function for ${g.method}:${R} route.`);if(g.errorHandler!==void 0&&typeof g.errorHandler!="function")throw new Error(`Error Handler for ${g.method}:${R} route, if defined, must be a function`);jE(g.bodyLimit);let D=this[Xj];return this.after((j,x)=>{if(R==="/"&&D.length&&g.method!=="HEAD")switch(g.prefixTrailingSlash){case"slash":A.call(this,{path:R},j,x);break;case"no-slash":A.call(this,{path:""},j,x);break;case"both":default:A.call(this,{path:""},j,x),l!==!0&&A.call(this,{path:R,prefixing:!0},j,x)}else R&&R[0]==="/"&&D.endsWith("/")?A.call(this,{path:R.slice(1)},j,x):A.call(this,{path:R},j,x)}),this;function A({path:j,prefixing:x=!1},k,q){let C=D+j;if(g.url=C,g.path=C,g.routePath=j,g.prefix=D,g.logLevel=g.logLevel||this[Zj],(this[CE]||g.logSerializers)&&(g.logSerializers=Object.assign(Object.create(this[CE]),g.logSerializers)),g.attachValidation==null&&(g.attachValidation=!1),x===!1)for(let J of this[AE].onRoute)try{J.call(this,g)}catch(Z){q(Z);return}let F={...g.config,url:C,method:g.method},Q=g.constraints||{};g.version&&(Rc.emit("FSTDEP008"),Q.version=g.version);let K=new zj(g.schema,g.handler.bind(this),this[tx],this[ix],this[rx],F,g.errorHandler||this[lx],g.bodyLimit,g.logLevel,g.logSerializers,g.attachValidation,this[sx],g.schemaErrorFormatter||this[ox]),z=e.find("HEAD",C)!=null;try{e.on(g.method,g.url,{constraints:Q},$,K)}catch(J){q(J);return}let{exposeHeadRoute:Y}=g;if((Y!=null?Y:m)&&w.method==="GET"&&!z){let J=Gj(g.onSend);y.call(this,"HEAD",j,{...g,onSend:J})}else z&&Y&&Rc.emit("FSTDEP007");t.once("preReady",()=>{for(let J of Uj){let Z=this[AE][J].concat(g[J]||[]).map(N=>{let L=N.bind(this);return J==="preParsing"&&N.length===(N.constructor.name==="AsyncFunction"?2:3)&&(Rc.emit("FSTDEP004"),L[NE]=!0),L});K[J]=Z.length?Z:null}if(n.setContext(this,K),g.schema){K.schema=Bj(K.schema,this.initialConfig);let J=this[ex];!g.validatorCompiler&&(g.schema.body||g.schema.headers||g.schema.querystring||g.schema.params)&&J.setupValidator(this[qE]);try{Kj(K,g.validatorCompiler||J.validatorCompiler)}catch(Z){throw new Qj(g.method,C,Z.message)}g.schema.response&&!g.serializerCompiler&&J.setupSerializer(this[qE]);try{Jj(K,g.serializerCompiler||J.serializerCompiler)}catch(Z){throw new Yj(g.method,C,Z.message)}}}),q(k)}}function $(w,g,O,R){if(p===!0&&(w.httpVersionMajor!==2&&(g.once("finish",()=>w.destroy()),g.setHeader("Connection","close")),v)){let Q={"Content-Type":"application/json","Content-Length":"80"};g.writeHead(503,Q),g.end('{"error":"Service Unavailable","message":"Service Unavailable","statusCode":503}');return}let D=w.headers[s]||h(w),A={[a]:D},j={level:R.logLevel};R.logSerializers&&(j.serializers=R.logSerializers);let x=o.child(A,j);x[ax]=f;let k=w.url.indexOf("?"),q=i(k>-1?w.url.slice(k+1):""),C=new R.Request(D,O,w,q,x,R),F=new R.Reply(g,C,x);f===!1&&x.info({req:C},"incoming request"),(c===!0||R.onResponse!==null)&&d(F),R.onRequest!==null?OE(R.onRequest,TE,C,F,xE):xE(null,C,F),R.onTimeout!==null&&(C.raw.socket._meta||C.raw.socket.on("timeout",cx),C.raw.socket._meta={context:R,request:C,reply:F})}}function cx(){let{context:r,request:e,reply:t}=this._meta;OE(r.onTimeout,TE,e,t,hx)}function jE(r){if(r!==void 0&&(!Number.isInteger(r)||r<=0))throw new TypeError(`'bodyLimit' option must be an integer > 0. Got '${r}'`)}function xE(r,e,t){if(t.sent!==!0){if(r!=null){t.send(r);return}e[Ya]=e.raw,t.context.preParsing!==null?fx(t.context.preParsing,e,t,RE):RE(null,e,t)}}function fx(r,e,t,n){let s=0;function i(c,d){if(t.sent)return;if(typeof d!="undefined"&&(e[Ya]=d),c||s===r.length){c&&!(c instanceof Error)&&(t[nx]=!0),n(c,e,t);return}let u=r[s++],h;try{u[NE]?h=u(e,t,i):h=u(e,t,e[Ya],i)}catch(f){i(f);return}h&&typeof h.then=="function"&&h.then(a,o)}function a(c){i(null,c)}function o(c){i(c)}i(null,e[Ya])}function hx(){}kE.exports={buildRouting:ux,validateBodyLimitOption:jE}});var FE=E((e9,LE)=>{"use strict";var dx=Sc(),px=$a(),mx=za(),vx=Pc(),{kRoutePrefix:yx,kCanSetNotFoundHandler:Jn,kFourOhFourLevelInstance:Oc,kReply:gx,kRequest:bx,kContentTypeParser:Ex,kBodyLimit:wx,kLogLevel:_x,kFourOhFourContext:_t,kHooks:Sx,kErrorHandler:Px}=er(),{lifecycleHooks:$x}=Bt(),Rx={config:{},onSend:[],onError:[]};function Ox(r){let{logger:e,genReqId:t}=r,n=dx({defaultRoute:d});return{router:n,setNotFoundHandler:o,setContext:a,arrange404:s};function s(u){u[Oc]=u,u[Jn]=!0}function i(u,h){let{url:f,method:l}=u.raw,v=`Route ${l}:${f} not found`;u.log.info(v),h.code(404).send({message:v,error:"Not Found",statusCode:404})}function a(u,h){let f=Object.assign({},u[_t]);f.onSend=h.onSend,h[_t]=f}function o(u,h,f,l){this[Jn]===void 0&&(this[Jn]=!0),this[_t]===void 0&&(this[_t]=null);let v=this,m=this[yx]||"/";if(this[Jn]===!1)throw new Error(`Not found handler already set for Fastify instance with prefix: '${m}'`);typeof u=="object"&&(u.preHandler&&(Array.isArray(u.preHandler)?u.preHandler=u.preHandler.map(p=>p.bind(v)):u.preHandler=u.preHandler.bind(v)),u.preValidation&&(Array.isArray(u.preValidation)?u.preValidation=u.preValidation.map(p=>p.bind(v)):u.preValidation=u.preValidation.bind(v))),typeof u=="function"&&(h=u,u=void 0),u=u||{},h?(this[Oc][Jn]=!1,h=h.bind(this)):h=i,this.after((p,y)=>{c.call(this,m,u,h,f,l),y(p)})}function c(u,h,f,l,v){let m=new vx(h.schema,f,this[gx],this[bx],this[Ex],h.config||{},this[Px],this[wx],this[_x]);if(l.once("preReady",()=>{let p=this[_t];for(let y of $x){let S=this[Sx][y].concat(h[y]||[]).map($=>$.bind(this));p[y]=S.length?S:null}}),this[_t]!==null&&u==="/"){Object.assign(this[_t],m);return}this[Oc][_t]=m,n.all(u+(u.endsWith("/")?"*":"/*"),v,m),n.all(u,v,m)}function d(u,h){let f=t(u),l=e.child({reqId:f});l.info({req:u},"incoming request");let v=new mx(f,null,u,null,l,Rx),m=new px(h,v,l);v.log.warn("the default handler for 404 did not catch this, this is likely a fastify bug, please report it"),v.log.warn(n.prettyPrint()),m.code(404).send(new Error("Not Found"))}}LE.exports=Ox});var HE=E((r9,Ic)=>{var Tx={},Tc=function(){var r=[];return function e(t,n,s,i,a){"use strict";var o=null,c=0;if(a===void 0&&(a=t),t&&typeof t=="object"&&!Array.isArray(t)){t.connectionTimeout===void 0&&(t.connectionTimeout=0),t.keepAliveTimeout===void 0&&(t.keepAliveTimeout=5e3),t.maxRequestsPerSocket===void 0&&(t.maxRequestsPerSocket=0),t.bodyLimit===void 0&&(t.bodyLimit=1048576),t.caseSensitive===void 0&&(t.caseSensitive=!0),t.ignoreTrailingSlash===void 0&&(t.ignoreTrailingSlash=!1),t.disableRequestLogging===void 0&&(t.disableRequestLogging=!1),t.jsonShorthand===void 0&&(t.jsonShorthand=!0),t.maxParamLength===void 0&&(t.maxParamLength=100),t.onProtoPoisoning===void 0&&(t.onProtoPoisoning="error"),t.onConstructorPoisoning===void 0&&(t.onConstructorPoisoning="error"),t.pluginTimeout===void 0&&(t.pluginTimeout=1e4),t.requestIdHeader===void 0&&(t.requestIdHeader="request-id"),t.requestIdLogLabel===void 0&&(t.requestIdLogLabel="reqId"),t.http2SessionTimeout===void 0&&(t.http2SessionTimeout=5e3);var d=c,u=!0;for(var h in t){var f=!e.schema.properties.hasOwnProperty(h);f&&delete t[h]}if(u){var l=t.connectionTimeout,v=c;if(typeof l!="number"||l%1||l!==l){var m=typeof l,p=void 0;if(p===void 0)if(m=="boolean"||l===null||m=="string"&&l&&l==+l&&!(l%1))p=+l;else return e.errors=[{keyword:"type",dataPath:(n||"")+".connectionTimeout",schemaPath:"#/properties/connectionTimeout/type",params:{type:"integer"},message:"should be integer"}],!1;p!==void 0&&(l=p,t.connectionTimeout=p)}var u=c===v;if(u){var l=t.keepAliveTimeout,v=c;if(typeof l!="number"||l%1||l!==l){var m=typeof l,p=void 0;if(p===void 0)if(m=="boolean"||l===null||m=="string"&&l&&l==+l&&!(l%1))p=+l;else return e.errors=[{keyword:"type",dataPath:(n||"")+".keepAliveTimeout",schemaPath:"#/properties/keepAliveTimeout/type",params:{type:"integer"},message:"should be integer"}],!1;p!==void 0&&(l=p,t.keepAliveTimeout=p)}var u=c===v;if(u){var l=t.maxRequestsPerSocket,v=c;if(typeof l!="number"||l%1||l!==l){var m=typeof l,p=void 0;if(p===void 0)if(m=="boolean"||l===null||m=="string"&&l&&l==+l&&!(l%1))p=+l;else return e.errors=[{keyword:"type",dataPath:(n||"")+".maxRequestsPerSocket",schemaPath:"#/properties/maxRequestsPerSocket/type",params:{type:"integer"},message:"should be integer"}],!1;p!==void 0&&(l=p,t.maxRequestsPerSocket=p)}var u=c===v;if(u){var l=t.bodyLimit,v=c;if(typeof l!="number"||l%1||l!==l){var m=typeof l,p=void 0;if(p===void 0)if(m=="boolean"||l===null||m=="string"&&l&&l==+l&&!(l%1))p=+l;else return e.errors=[{keyword:"type",dataPath:(n||"")+".bodyLimit",schemaPath:"#/properties/bodyLimit/type",params:{type:"integer"},message:"should be integer"}],!1;p!==void 0&&(l=p,t.bodyLimit=p)}var u=c===v;if(u){var l=t.caseSensitive,v=c;if(typeof l!="boolean"){var m=typeof l,p=void 0;if(p===void 0)if(l==="false"||l===0||l===null)p=!1;else if(l==="true"||l===1)p=!0;else return e.errors=[{keyword:"type",dataPath:(n||"")+".caseSensitive",schemaPath:"#/properties/caseSensitive/type",params:{type:"boolean"},message:"should be boolean"}],!1;p!==void 0&&(l=p,t.caseSensitive=p)}var u=c===v;if(u){var l=t.http2;if(l===void 0)u=!0;else{var v=c;if(typeof l!="boolean"){var m=typeof l,p=void 0;if(p===void 0)if(l==="false"||l===0||l===null)p=!1;else if(l==="true"||l===1)p=!0;else return e.errors=[{keyword:"type",dataPath:(n||"")+".http2",schemaPath:"#/properties/http2/type",params:{type:"boolean"},message:"should be boolean"}],!1;p!==void 0&&(l=p,t.http2=p)}var u=c===v}if(u){var l=t.https;if(l===void 0)u=!0;else{var v=c,y=c,u=!0,S=c,$=c,w=c,g=c,O=!1,R=!1,D=null,A=c;if(typeof l!="boolean"){var j=typeof l,x=void 0;if(x===void 0)if(l==="false"||l===0||l===null)x=!1;else if(l==="true"||l===1)x=!0;else{var k={};o===null?o=[k]:o.push(k),c++}x!==void 0&&(l=x,t.https=x)}var q=c===A;q&&(R=O=!0,D=0);var A=c;if(l!==null){var j=typeof l,x=void 0;if(x===void 0)if(l===""||l===0||l===!1)x=null;else{var k={};o===null?o=[k]:o.push(k),c++}x!==void 0&&(l=x,t.https=x)}var q=c===A;if(q&&O)R=!1,D=[D,1];else{q&&(R=O=!0,D=1);var A=c;if(l&&typeof l=="object"&&!Array.isArray(l)){var C=c,F=!0;for(var Q in l){var K=Q!="allowHTTP1";K&&delete l[Q]}if(F){var z=l.allowHTTP1;if(z===void 0){F=!1;var k={};o===null?o=[k]:o.push(k),c++}else{var Y=c;if(typeof z!="boolean"){var V=typeof z,le=void 0;if(le===void 0)if(z==="false"||z===0||z===null)le=!1;else if(z==="true"||z===1)le=!0;else{var k={};o===null?o=[k]:o.push(k),c++}le!==void 0&&(z=le,l.allowHTTP1=le)}var F=c===Y}}C==c}else{var k={};o===null?o=[k]:o.push(k),c++}var q=c===A;q&&O?(R=!1,D=[D,2]):q&&(R=O=!0,D=2)}if(R)c=g,o!==null&&(g?o.length=g:o=null);else{var k={};o===null?o=[k]:o.push(k),c++}var R=c===w;if(R){var k={};o===null?o=[k]:o.push(k),c++}else c=$,o!==null&&($?o.length=$:o=null);var J=c===S;if(c=y,o!==null&&(y?o.length=y:o=null),J){var S=c;ME.errors=null;var $=c,J;if(J=ME.call(Tx,e.schema.properties.https.then.setDefaultValue,l,e.schema.properties.https.then,(n||"")+".https",t,"https",a),t&&(l=t.https),!J)return e.errors=[{keyword:"setDefaultValue",dataPath:(n||"")+".https",schemaPath:"#/properties/https/then/setDefaultValue",params:{keyword:"setDefaultValue"},message:'should pass "setDefaultValue" keyword validation'}],!1;var J=c===S;u=J}if(!u){var k={keyword:"if",dataPath:(n||"")+".https",schemaPath:"#/properties/https/if",params:{failingKeyword:"then"},message:'should match "then" schema'};return o===null?o=[k]:o.push(k),c++,e.errors=o,!1}var u=c===v}if(u){var l=t.ignoreTrailingSlash,v=c;if(typeof l!="boolean"){var m=typeof l,p=void 0;if(p===void 0)if(l==="false"||l===0||l===null)p=!1;else if(l==="true"||l===1)p=!0;else return e.errors=[{keyword:"type",dataPath:(n||"")+".ignoreTrailingSlash",schemaPath:"#/properties/ignoreTrailingSlash/type",params:{type:"boolean"},message:"should be boolean"}],!1;p!==void 0&&(l=p,t.ignoreTrailingSlash=p)}var u=c===v;if(u){var l=t.disableRequestLogging,v=c;if(typeof l!="boolean"){var m=typeof l,p=void 0;if(p===void 0)if(l==="false"||l===0||l===null)p=!1;else if(l==="true"||l===1)p=!0;else return e.errors=[{keyword:"type",dataPath:(n||"")+".disableRequestLogging",schemaPath:"#/properties/disableRequestLogging/type",params:{type:"boolean"},message:"should be boolean"}],!1;p!==void 0&&(l=p,t.disableRequestLogging=p)}var u=c===v;if(u){var l=t.jsonShorthand,v=c;if(typeof l!="boolean"){var m=typeof l,p=void 0;if(p===void 0)if(l==="false"||l===0||l===null)p=!1;else if(l==="true"||l===1)p=!0;else return e.errors=[{keyword:"type",dataPath:(n||"")+".jsonShorthand",schemaPath:"#/properties/jsonShorthand/type",params:{type:"boolean"},message:"should be boolean"}],!1;p!==void 0&&(l=p,t.jsonShorthand=p)}var u=c===v;if(u){var l=t.maxParamLength,v=c;if(typeof l!="number"||l%1||l!==l){var m=typeof l,p=void 0;if(p===void 0)if(m=="boolean"||l===null||m=="string"&&l&&l==+l&&!(l%1))p=+l;else return e.errors=[{keyword:"type",dataPath:(n||"")+".maxParamLength",schemaPath:"#/properties/maxParamLength/type",params:{type:"integer"},message:"should be integer"}],!1;p!==void 0&&(l=p,t.maxParamLength=p)}var u=c===v;if(u){var l=t.onProtoPoisoning,v=c;if(typeof l!="string"){var m=typeof l,p=void 0;if(p===void 0)if(m=="number"||m=="boolean")p=""+l;else if(l===null)p="";else return e.errors=[{keyword:"type",dataPath:(n||"")+".onProtoPoisoning",schemaPath:"#/properties/onProtoPoisoning/type",params:{type:"string"},message:"should be string"}],!1;p!==void 0&&(l=p,t.onProtoPoisoning=p)}var u=c===v;if(u){var l=t.onConstructorPoisoning,v=c;if(typeof l!="string"){var m=typeof l,p=void 0;if(p===void 0)if(m=="number"||m=="boolean")p=""+l;else if(l===null)p="";else return e.errors=[{keyword:"type",dataPath:(n||"")+".onConstructorPoisoning",schemaPath:"#/properties/onConstructorPoisoning/type",params:{type:"string"},message:"should be string"}],!1;p!==void 0&&(l=p,t.onConstructorPoisoning=p)}var u=c===v;if(u){var l=t.pluginTimeout,v=c;if(typeof l!="number"||l%1||l!==l){var m=typeof l,p=void 0;if(p===void 0)if(m=="boolean"||l===null||m=="string"&&l&&l==+l&&!(l%1))p=+l;else return e.errors=[{keyword:"type",dataPath:(n||"")+".pluginTimeout",schemaPath:"#/properties/pluginTimeout/type",params:{type:"integer"},message:"should be integer"}],!1;p!==void 0&&(l=p,t.pluginTimeout=p)}var u=c===v;if(u){var l=t.requestIdHeader,v=c;if(typeof l!="string"){var m=typeof l,p=void 0;if(p===void 0)if(m=="number"||m=="boolean")p=""+l;else if(l===null)p="";else return e.errors=[{keyword:"type",dataPath:(n||"")+".requestIdHeader",schemaPath:"#/properties/requestIdHeader/type",params:{type:"string"},message:"should be string"}],!1;p!==void 0&&(l=p,t.requestIdHeader=p)}var u=c===v;if(u){var l=t.requestIdLogLabel,v=c;if(typeof l!="string"){var m=typeof l,p=void 0;if(p===void 0)if(m=="number"||m=="boolean")p=""+l;else if(l===null)p="";else return e.errors=[{keyword:"type",dataPath:(n||"")+".requestIdLogLabel",schemaPath:"#/properties/requestIdLogLabel/type",params:{type:"string"},message:"should be string"}],!1;p!==void 0&&(l=p,t.requestIdLogLabel=p)}var u=c===v;if(u){var l=t.http2SessionTimeout,v=c;if(typeof l!="number"||l%1||l!==l){var m=typeof l,p=void 0;if(p===void 0)if(m=="boolean"||l===null||m=="string"&&l&&l==+l&&!(l%1))p=+l;else return e.errors=[{keyword:"type",dataPath:(n||"")+".http2SessionTimeout",schemaPath:"#/properties/http2SessionTimeout/type",params:{type:"integer"},message:"should be integer"}],!1;p!==void 0&&(l=p,t.http2SessionTimeout=p)}var u=c===v;if(u){var l=t.versioning;if(l===void 0)u=!0;else{var v=c;if(l&&typeof l=="object"&&!Array.isArray(l)){var Z;if(l.storage===void 0&&(Z=".storage")||l.deriveVersion===void 0&&(Z=".deriveVersion"))return e.errors=[{keyword:"required",dataPath:(n||"")+".versioning",schemaPath:"#/properties/versioning/required",params:{missingProperty:""+Z+""},message:"should have required property '"+Z+"'"}],!1;var y=c,J=!0;for(var N in l)var L=!(N=="storage"||N=="deriveVersion");y==c}else return e.errors=[{keyword:"type",dataPath:(n||"")+".versioning",schemaPath:"#/properties/versioning/type",params:{type:"object"},message:"should be object"}],!1;var u=c===v}if(u){var l=t.constraints;if(l===void 0)u=!0;else{var v=c;if(l&&typeof l=="object"&&!Array.isArray(l)){var y=c,J=!0;for(var N in l){var z=l[N],S=c;if(z&&typeof z=="object"&&!Array.isArray(z)){var M;if(z.storage===void 0&&(M=".storage")||z.validate===void 0&&(M=".validate")||z.deriveConstraint===void 0&&(M=".deriveConstraint"))return e.errors=[{keyword:"required",dataPath:(n||"")+".constraints['"+N+"']",schemaPath:"#/properties/constraints/additionalProperties/required",params:{missingProperty:""+M+""},message:"should have required property '"+M+"'"}],!1;var $=c,R=!0;for(var W in z)var Te=!(W=="name"||W=="storage"||W=="validate"||W=="deriveConstraint");if(R){var he=z.name;if(he===void 0)return R=!1,e.errors=[{keyword:"required",dataPath:(n||"")+".constraints['"+N+"']",schemaPath:"#/properties/constraints/additionalProperties/required",params:{missingProperty:"name"},message:"should have required property 'name'"}],!1;var w=c;if(typeof he!="string"){var be=typeof he,ve=void 0;if(ve===void 0)if(be=="number"||be=="boolean")ve=""+he;else if(he===null)ve="";else return e.errors=[{keyword:"type",dataPath:(n||"")+".constraints['"+N+"'].name",schemaPath:"#/properties/constraints/additionalProperties/properties/name/type",params:{type:"string"},message:"should be string"}],!1;ve!==void 0&&(he=ve,z.name=ve)}var R=c===w}$==c}else return e.errors=[{keyword:"type",dataPath:(n||"")+".constraints['"+N+"']",schemaPath:"#/properties/constraints/additionalProperties/type",params:{type:"object"},message:"should be object"}],!1;var J=c===S;if(!J)break}y==c}else return e.errors=[{keyword:"type",dataPath:(n||"")+".constraints",schemaPath:"#/properties/constraints/type",params:{type:"object"},message:"should be object"}],!1;var u=c===v}}}}}}}}}}}}}}}}}}}}d==c}else return e.errors=[{keyword:"type",dataPath:(n||"")+"",schemaPath:"#/type",params:{type:"object"},message:"should be object"}],!1;return e.errors=o,c===0}}();Tc.schema={type:"object",additionalProperties:!1,properties:{connectionTimeout:{type:"integer",default:0},keepAliveTimeout:{type:"integer",default:5e3},maxRequestsPerSocket:{type:"integer",default:0,nullable:!0},bodyLimit:{type:"integer",default:1048576},caseSensitive:{type:"boolean",default:!0},http2:{type:"boolean"},https:{if:{not:{oneOf:[{type:"boolean"},{type:"null"},{type:"object",additionalProperties:!1,required:["allowHTTP1"],properties:{allowHTTP1:{type:"boolean"}}}]}},then:{setDefaultValue:!0}},ignoreTrailingSlash:{type:"boolean",default:!1},disableRequestLogging:{type:"boolean",default:!1},jsonShorthand:{type:"boolean",default:!0},maxParamLength:{type:"integer",default:100},onProtoPoisoning:{type:"string",default:"error"},onConstructorPoisoning:{type:"string",default:"error"},pluginTimeout:{type:"integer",default:1e4},requestIdHeader:{type:"string",default:"request-id"},requestIdLogLabel:{type:"string",default:"reqId"},http2SessionTimeout:{type:"integer",default:5e3},versioning:{type:"object",additionalProperties:!0,required:["storage","deriveVersion"],properties:{storage:{},deriveVersion:{}}},constraints:{type:"object",additionalProperties:{type:"object",required:["name","storage","validate","deriveConstraint"],additionalProperties:!0,properties:{name:{type:"string"},storage:{},validate:{},deriveConstraint:{}}}}}};Tc.errors=null;Ic.exports=Tc;function ME(r,e,t,n,s,i){return s[i]=r,!0}Ic.exports.defaultInitOptions={connectionTimeout:0,keepAliveTimeout:5e3,maxRequestsPerSocket:0,bodyLimit:1048576,caseSensitive:!0,disableRequestLogging:!1,jsonShorthand:!0,ignoreTrailingSlash:!1,maxParamLength:100,onProtoPoisoning:"error",onConstructorPoisoning:"error",pluginTimeout:1e4,requestIdHeader:"request-id",requestIdLogLabel:"reqId",http2SessionTimeout:5e3}});var VE=E((t9,Xa)=>{"use strict";var Wa=HE(),Ix=Wi()({circles:!0,proto:!1}),{FST_ERR_INIT_OPTS_INVALID:Cx}=br();function Ax(r){let e=Ix(r);if(!Wa(e)){let t=new Cx(JSON.stringify(Wa.errors.map(n=>n.message)));throw t.errors=Wa.errors,t}return Cc(e)}function Cc(r){let e=Object.getOwnPropertyNames(r);for(let t of e){let n=r[t];ArrayBuffer.isView(n)&&!(n instanceof DataView)||(r[t]=n&&typeof n=="object"?Cc(n):n)}return Object.freeze(r)}Xa.exports=Ax;Xa.exports.defaultInitOptions=Wa.defaultInitOptions;Xa.exports.utils={deepFreezeObject:Cc}});var QE=E((s9,JE)=>{"use strict";var{kAvvioBoot:Nx,kChildren:zE,kRoutePrefix:UE,kLogLevel:BE,kLogSerializers:Ac,kHooks:Nc,kSchemaController:Us,kContentTypeParser:GE,kReply:qc,kRequest:jc,kFourOhFour:qx,kPluginNameChain:KE}=er(),jx=$a(),xx=za(),kx=uc(),Dx=ac(),{buildHooks:Lx}=Bt(),Bs=pc();JE.exports=function(e,t,n){if(Bs.registerPlugin.call(e,t))return e[KE].push(Bs.getDisplayName(t)),e;let i=Object.create(e);e[zE].push(i),i.ready=e[Nx].bind(i),i[zE]=[],i[qc]=jx.buildReply(i[qc]),i[qc].prototype.server=i,i[jc]=xx.buildRequest(i[jc]),i[jc].prototype.server=i,i[GE]=Dx.helpers.buildContentTypeParser(i[GE]),i[Nc]=Lx(i[Nc]),i[UE]=Fx(i[UE],n.prefix),i[BE]=n.logLevel||i[BE],i[Us]=kx.buildSchemaController(e[Us]),i.getSchema=i[Us].getSchema.bind(i[Us]),i.getSchemas=i[Us].getSchemas.bind(i[Us]),i[Bs.registeredPlugins]=Object.create(i[Bs.registeredPlugins]),i[KE]=[Bs.getPluginName(t)||Bs.getFuncPreview(t)],(i[Ac]||n.logSerializers)&&(i[Ac]=Object.assign(Object.create(i[Ac]),n.logSerializers)),n.prefix&&i[qx].arrange404(i);for(let a of i[Nc].onRegister)a.call(this,i,n);return i};function Fx(r,e){return e?(r.endsWith("/")&&e[0]==="/"?e=e.slice(1):e[0]!=="/"&&(e="/"+e),r+e):r}});var Yn=E(_e=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0});_e.regexpCode=_e.getProperty=_e.safeStringify=_e.stringify=_e.strConcat=_e.addCodeArg=_e.str=_e._=_e.nil=_e._Code=_e.Name=_e.IDENTIFIER=_e._CodeOrName=void 0;var Za=class{};_e._CodeOrName=Za;_e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var Gs=class extends Za{constructor(e){super();if(!_e.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};_e.Name=Gs;var Wr=class extends Za{constructor(e){super();this._items=typeof e=="string"?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let e=this._items[0];return e===""||e==='""'}get str(){var e;return(e=this._str)!==null&&e!==void 0?e:this._str=this._items.reduce((t,n)=>`${t}${n}`,"")}get names(){var e;return(e=this._names)!==null&&e!==void 0?e:this._names=this._items.reduce((t,n)=>(n instanceof Gs&&(t[n.str]=(t[n.str]||0)+1),t),{})}};_e._Code=Wr;_e.nil=new Wr("");function YE(r,...e){let t=[r[0]],n=0;for(;n<e.length;)kc(t,e[n]),t.push(r[++n]);return new Wr(t)}_e._=YE;var xc=new Wr("+");function WE(r,...e){let t=[Qn(r[0])],n=0;for(;n<e.length;)t.push(xc),kc(t,e[n]),t.push(xc,Qn(r[++n]));return Mx(t),new Wr(t)}_e.str=WE;function kc(r,e){e instanceof Wr?r.push(...e._items):e instanceof Gs?r.push(e):r.push(zx(e))}_e.addCodeArg=kc;function Mx(r){let e=1;for(;e<r.length-1;){if(r[e]===xc){let t=Hx(r[e-1],r[e+1]);if(t!==void 0){r.splice(e-1,3,t);continue}r[e++]="+"}e++}}function Hx(r,e){if(e==='""')return r;if(r==='""')return e;if(typeof r=="string")return e instanceof Gs||r[r.length-1]!=='"'?void 0:typeof e!="string"?`${r.slice(0,-1)}${e}"`:e[0]==='"'?r.slice(0,-1)+e.slice(1):void 0;if(typeof e=="string"&&e[0]==='"'&&!(r instanceof Gs))return`"${r}${e.slice(1)}`}function Vx(r,e){return e.emptyStr()?r:r.emptyStr()?e:WE`${r}${e}`}_e.strConcat=Vx;function zx(r){return typeof r=="number"||typeof r=="boolean"||r===null?r:Qn(Array.isArray(r)?r.join(","):r)}function Ux(r){return new Wr(Qn(r))}_e.stringify=Ux;function Qn(r){return JSON.stringify(r).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}_e.safeStringify=Qn;function Bx(r){return typeof r=="string"&&_e.IDENTIFIER.test(r)?new Wr(`.${r}`):YE`[${r}]`}_e.getProperty=Bx;function Gx(r){return new Wr(r.toString())}_e.regexpCode=Gx});var Mc=E(lr=>{"use strict";Object.defineProperty(lr,"__esModule",{value:!0});lr.ValueScope=lr.ValueScopeName=lr.Scope=lr.varKinds=lr.UsedValueState=void 0;var hr=Yn(),XE=class extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`);this.value=e.value}},Dc;(function(r){r[r.Started=0]="Started",r[r.Completed=1]="Completed"})(Dc=lr.UsedValueState||(lr.UsedValueState={}));lr.varKinds={const:new hr.Name("const"),let:new hr.Name("let"),var:new hr.Name("var")};var Lc=class{constructor({prefixes:e,parent:t}={}){this._names={},this._prefixes=e,this._parent=t}toName(e){return e instanceof hr.Name?e:this.name(e)}name(e){return new hr.Name(this._newName(e))}_newName(e){let t=this._names[e]||this._nameGroup(e);return`${e}${t.index++}`}_nameGroup(e){var t,n;if(((n=(t=this._parent)===null||t===void 0?void 0:t._prefixes)===null||n===void 0?void 0:n.has(e))||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}};lr.Scope=Lc;var Fc=class extends hr.Name{constructor(e,t){super(t);this.prefix=e}setValue(e,{property:t,itemIndex:n}){this.value=e,this.scopePath=(0,hr._)`.${new hr.Name(t)}[${n}]`}};lr.ValueScopeName=Fc;var Kx=(0,hr._)`\n`,ZE=class extends Lc{constructor(e){super(e);this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?Kx:hr.nil}}get(){return this._scope}name(e){return new Fc(e,this._newName(e))}value(e,t){var n;if(t.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let s=this.toName(e),{prefix:i}=s,a=(n=t.key)!==null&&n!==void 0?n:t.ref,o=this._values[i];if(o){let u=o.get(a);if(u)return u}else o=this._values[i]=new Map;o.set(a,s);let c=this._scope[i]||(this._scope[i]=[]),d=c.length;return c[d]=t.ref,s.setValue(t,{property:i,itemIndex:d}),s}getValue(e,t){let n=this._values[e];if(!!n)return n.get(t)}scopeRefs(e,t=this._values){return this._reduceValues(t,n=>{if(n.scopePath===void 0)throw new Error(`CodeGen: name "${n}" has no value`);return(0,hr._)`${e}${n.scopePath}`})}scopeCode(e=this._values,t,n){return this._reduceValues(e,s=>{if(s.value===void 0)throw new Error(`CodeGen: name "${s}" has no value`);return s.value.code},t,n)}_reduceValues(e,t,n={},s){let i=hr.nil;for(let a in e){let o=e[a];if(!o)continue;let c=n[a]=n[a]||new Map;o.forEach(d=>{if(c.has(d))return;c.set(d,Dc.Started);let u=t(d);if(u){let h=this.opts.es5?lr.varKinds.var:lr.varKinds.const;i=(0,hr._)`${i}${h} ${d} = ${u};${this.opts._n}`}else if(u=s==null?void 0:s(d))i=(0,hr._)`${i}${u}${this.opts._n}`;else throw new XE(d);c.set(d,Dc.Completed)})}return i}};lr.ValueScope=ZE});var ie=E(se=>{"use strict";Object.defineProperty(se,"__esModule",{value:!0});se.or=se.and=se.not=se.CodeGen=se.operators=se.varKinds=se.ValueScopeName=se.ValueScope=se.Scope=se.Name=se.regexpCode=se.stringify=se.getProperty=se.nil=se.strConcat=se.str=se._=void 0;var oe=Yn(),kr=Mc(),St=Yn();Object.defineProperty(se,"_",{enumerable:!0,get:function(){return St._}});Object.defineProperty(se,"str",{enumerable:!0,get:function(){return St.str}});Object.defineProperty(se,"strConcat",{enumerable:!0,get:function(){return St.strConcat}});Object.defineProperty(se,"nil",{enumerable:!0,get:function(){return St.nil}});Object.defineProperty(se,"getProperty",{enumerable:!0,get:function(){return St.getProperty}});Object.defineProperty(se,"stringify",{enumerable:!0,get:function(){return St.stringify}});Object.defineProperty(se,"regexpCode",{enumerable:!0,get:function(){return St.regexpCode}});Object.defineProperty(se,"Name",{enumerable:!0,get:function(){return St.Name}});var eo=Mc();Object.defineProperty(se,"Scope",{enumerable:!0,get:function(){return eo.Scope}});Object.defineProperty(se,"ValueScope",{enumerable:!0,get:function(){return eo.ValueScope}});Object.defineProperty(se,"ValueScopeName",{enumerable:!0,get:function(){return eo.ValueScopeName}});Object.defineProperty(se,"varKinds",{enumerable:!0,get:function(){return eo.varKinds}});se.operators={GT:new oe._Code(">"),GTE:new oe._Code(">="),LT:new oe._Code("<"),LTE:new oe._Code("<="),EQ:new oe._Code("==="),NEQ:new oe._Code("!=="),NOT:new oe._Code("!"),OR:new oe._Code("||"),AND:new oe._Code("&&"),ADD:new oe._Code("+")};var Pt=class{optimizeNodes(){return this}optimizeNames(e,t){return this}},ew=class extends Pt{constructor(e,t,n){super();this.varKind=e,this.name=t,this.rhs=n}render({es5:e,_n:t}){let n=e?kr.varKinds.var:this.varKind,s=this.rhs===void 0?"":` = ${this.rhs}`;return`${n} ${this.name}${s};`+t}optimizeNames(e,t){if(!!e[this.name.str])return this.rhs&&(this.rhs=Js(this.rhs,e,t)),this}get names(){return this.rhs instanceof oe._CodeOrName?this.rhs.names:{}}},Hc=class extends Pt{constructor(e,t,n){super();this.lhs=e,this.rhs=t,this.sideEffects=n}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,t){if(!(this.lhs instanceof oe.Name&&!e[this.lhs.str]&&!this.sideEffects))return this.rhs=Js(this.rhs,e,t),this}get names(){let e=this.lhs instanceof oe.Name?{}:{...this.lhs.names};return ao(e,this.rhs)}},rw=class extends Hc{constructor(e,t,n,s){super(e,n,s);this.op=t}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}},tw=class extends Pt{constructor(e){super();this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}},sw=class extends Pt{constructor(e){super();this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}},nw=class extends Pt{constructor(e){super();this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}},iw=class extends Pt{constructor(e){super();this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,t){return this.code=Js(this.code,e,t),this}get names(){return this.code instanceof oe._CodeOrName?this.code.names:{}}},ro=class extends Pt{constructor(e=[]){super();this.nodes=e}render(e){return this.nodes.reduce((t,n)=>t+n.render(e),"")}optimizeNodes(){let{nodes:e}=this,t=e.length;for(;t--;){let n=e[t].optimizeNodes();Array.isArray(n)?e.splice(t,1,...n):n?e[t]=n:e.splice(t,1)}return e.length>0?this:void 0}optimizeNames(e,t){let{nodes:n}=this,s=n.length;for(;s--;){let i=n[s];i.optimizeNames(e,t)||(Jx(e,i.names),n.splice(s,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce((e,t)=>is(e,t.names),{})}},$t=class extends ro{render(e){return"{"+e._n+super.render(e)+"}"+e._n}},aw=class extends ro{},Wn=class extends $t{};Wn.kind="else";var Xr=class extends $t{constructor(e,t){super(t);this.condition=e}render(e){let t=`if(${this.condition})`+super.render(e);return this.else&&(t+="else "+this.else.render(e)),t}optimizeNodes(){super.optimizeNodes();let e=this.condition;if(e===!0)return this.nodes;let t=this.else;if(t){let n=t.optimizeNodes();t=this.else=Array.isArray(n)?new Wn(n):n}if(t)return e===!1?t instanceof Xr?t:t.nodes:this.nodes.length?this:new Xr(fw(e),t instanceof Xr?[t]:t.nodes);if(!(e===!1||!this.nodes.length))return this}optimizeNames(e,t){var n;if(this.else=(n=this.else)===null||n===void 0?void 0:n.optimizeNames(e,t),!!(super.optimizeNames(e,t)||this.else))return this.condition=Js(this.condition,e,t),this}get names(){let e=super.names;return ao(e,this.condition),this.else&&is(e,this.else.names),e}};Xr.kind="if";var Ks=class extends $t{};Ks.kind="for";var ow=class extends Ks{constructor(e){super();this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,t){if(!!super.optimizeNames(e,t))return this.iteration=Js(this.iteration,e,t),this}get names(){return is(super.names,this.iteration.names)}},lw=class extends Ks{constructor(e,t,n,s){super();this.varKind=e,this.name=t,this.from=n,this.to=s}render(e){let t=e.es5?kr.varKinds.var:this.varKind,{name:n,from:s,to:i}=this;return`for(${t} ${n}=${s}; ${n}<${i}; ${n}++)`+super.render(e)}get names(){let e=ao(super.names,this.from);return ao(e,this.to)}},Vc=class extends Ks{constructor(e,t,n,s){super();this.loop=e,this.varKind=t,this.name=n,this.iterable=s}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,t){if(!!super.optimizeNames(e,t))return this.iterable=Js(this.iterable,e,t),this}get names(){return is(super.names,this.iterable.names)}},to=class extends $t{constructor(e,t,n){super();this.name=e,this.args=t,this.async=n}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}};to.kind="func";var so=class extends ro{render(e){return"return "+super.render(e)}};so.kind="return";var uw=class extends $t{render(e){let t="try"+super.render(e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}optimizeNodes(){var e,t;return super.optimizeNodes(),(e=this.catch)===null||e===void 0||e.optimizeNodes(),(t=this.finally)===null||t===void 0||t.optimizeNodes(),this}optimizeNames(e,t){var n,s;return super.optimizeNames(e,t),(n=this.catch)===null||n===void 0||n.optimizeNames(e,t),(s=this.finally)===null||s===void 0||s.optimizeNames(e,t),this}get names(){let e=super.names;return this.catch&&is(e,this.catch.names),this.finally&&is(e,this.finally.names),e}},no=class extends $t{constructor(e){super();this.error=e}render(e){return`catch(${this.error})`+super.render(e)}};no.kind="catch";var io=class extends $t{render(e){return"finally"+super.render(e)}};io.kind="finally";var cw=class{constructor(e,t={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...t,_n:t.lines?`
`:""},this._extScope=e,this._scope=new kr.Scope({parent:e}),this._nodes=[new aw]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,t){let n=this._extScope.value(e,t);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(e,t){return this._extScope.getValue(e,t)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,t,n,s){let i=this._scope.toName(t);return n!==void 0&&s&&(this._constants[i.str]=n),this._leafNode(new ew(e,i,n)),i}const(e,t,n){return this._def(kr.varKinds.const,e,t,n)}let(e,t,n){return this._def(kr.varKinds.let,e,t,n)}var(e,t,n){return this._def(kr.varKinds.var,e,t,n)}assign(e,t,n){return this._leafNode(new Hc(e,t,n))}add(e,t){return this._leafNode(new rw(e,se.operators.ADD,t))}code(e){return typeof e=="function"?e():e!==oe.nil&&this._leafNode(new iw(e)),this}object(...e){let t=["{"];for(let[n,s]of e)t.length>1&&t.push(","),t.push(n),(n!==s||this.opts.es5)&&(t.push(":"),(0,oe.addCodeArg)(t,s));return t.push("}"),new oe._Code(t)}if(e,t,n){if(this._blockNode(new Xr(e)),t&&n)this.code(t).else().code(n).endIf();else if(t)this.code(t).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new Xr(e))}else(){return this._elseNode(new Wn)}endIf(){return this._endBlockNode(Xr,Wn)}_for(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}for(e,t){return this._for(new ow(e),t)}forRange(e,t,n,s,i=this.opts.es5?kr.varKinds.var:kr.varKinds.let){let a=this._scope.toName(e);return this._for(new lw(i,a,t,n),()=>s(a))}forOf(e,t,n,s=kr.varKinds.const){let i=this._scope.toName(e);if(this.opts.es5){let a=t instanceof oe.Name?t:this.var("_arr",t);return this.forRange("_i",0,(0,oe._)`${a}.length`,o=>{this.var(i,(0,oe._)`${a}[${o}]`),n(i)})}return this._for(new Vc("of",s,i,t),()=>n(i))}forIn(e,t,n,s=this.opts.es5?kr.varKinds.var:kr.varKinds.const){if(this.opts.ownProperties)return this.forOf(e,(0,oe._)`Object.keys(${t})`,n);let i=this._scope.toName(e);return this._for(new Vc("in",s,i,t),()=>n(i))}endFor(){return this._endBlockNode(Ks)}label(e){return this._leafNode(new tw(e))}break(e){return this._leafNode(new sw(e))}return(e){let t=new so;if(this._blockNode(t),this.code(e),t.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(so)}try(e,t,n){if(!t&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');let s=new uw;if(this._blockNode(s),this.code(e),t){let i=this.name("e");this._currNode=s.catch=new no(i),t(i)}return n&&(this._currNode=s.finally=new io,this.code(n)),this._endBlockNode(no,io)}throw(e){return this._leafNode(new nw(e))}block(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}endBlock(e){let t=this._blockStarts.pop();if(t===void 0)throw new Error("CodeGen: not in self-balancing block");let n=this._nodes.length-t;if(n<0||e!==void 0&&n!==e)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${e} expected`);return this._nodes.length=t,this}func(e,t=oe.nil,n,s){return this._blockNode(new to(e,t,n)),s&&this.code(s).endFunc(),this}endFunc(){return this._endBlockNode(to)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,t){let n=this._currNode;if(n instanceof e||t&&n instanceof t)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${t?`${e.kind}/${t.kind}`:e.kind}"`)}_elseNode(e){let t=this._currNode;if(!(t instanceof Xr))throw new Error('CodeGen: "else" without "if"');return this._currNode=t.else=e,this}get _root(){return this._nodes[0]}get _currNode(){let e=this._nodes;return e[e.length-1]}set _currNode(e){let t=this._nodes;t[t.length-1]=e}};se.CodeGen=cw;function is(r,e){for(let t in e)r[t]=(r[t]||0)+(e[t]||0);return r}function ao(r,e){return e instanceof oe._CodeOrName?is(r,e.names):r}function Js(r,e,t){if(r instanceof oe.Name)return n(r);if(!s(r))return r;return new oe._Code(r._items.reduce((i,a)=>(a instanceof oe.Name&&(a=n(a)),a instanceof oe._Code?i.push(...a._items):i.push(a),i),[]));function n(i){let a=t[i.str];return a===void 0||e[i.str]!==1?i:(delete e[i.str],a)}function s(i){return i instanceof oe._Code&&i._items.some(a=>a instanceof oe.Name&&e[a.str]===1&&t[a.str]!==void 0)}}function Jx(r,e){for(let t in e)r[t]=(r[t]||0)-(e[t]||0)}function fw(r){return typeof r=="boolean"||typeof r=="number"||r===null?!r:(0,oe._)`!${zc(r)}`}se.not=fw;var Qx=hw(se.operators.AND);function Yx(...r){return r.reduce(Qx)}se.and=Yx;var Wx=hw(se.operators.OR);function Xx(...r){return r.reduce(Wx)}se.or=Xx;function hw(r){return(e,t)=>e===oe.nil?t:t===oe.nil?e:(0,oe._)`${zc(e)} ${r} ${zc(t)}`}function zc(r){return r instanceof oe.Name?r:(0,oe._)`(${r})`}});var ge=E(ne=>{"use strict";Object.defineProperty(ne,"__esModule",{value:!0});ne.checkStrictMode=ne.getErrorPath=ne.Type=ne.useFunc=ne.setEvaluated=ne.evaluatedPropsToName=ne.mergeEvaluated=ne.eachItem=ne.unescapeJsonPointer=ne.escapeJsonPointer=ne.escapeFragment=ne.unescapeFragment=ne.schemaRefOrVal=ne.schemaHasRulesButRef=ne.schemaHasRules=ne.checkUnknownRules=ne.alwaysValidSchema=ne.toHash=void 0;var Re=ie(),Zx=Yn();function ek(r){let e={};for(let t of r)e[t]=!0;return e}ne.toHash=ek;function rk(r,e){return typeof e=="boolean"?e:Object.keys(e).length===0?!0:(dw(r,e),!pw(e,r.self.RULES.all))}ne.alwaysValidSchema=rk;function dw(r,e=r.schema){let{opts:t,self:n}=r;if(!t.strictSchema||typeof e=="boolean")return;let s=n.RULES.keywords;for(let i in e)s[i]||Ew(r,`unknown keyword: "${i}"`)}ne.checkUnknownRules=dw;function pw(r,e){if(typeof r=="boolean")return!r;for(let t in r)if(e[t])return!0;return!1}ne.schemaHasRules=pw;function tk(r,e){if(typeof r=="boolean")return!r;for(let t in r)if(t!=="$ref"&&e.all[t])return!0;return!1}ne.schemaHasRulesButRef=tk;function sk({topSchemaRef:r,schemaPath:e},t,n,s){if(!s){if(typeof t=="number"||typeof t=="boolean")return t;if(typeof t=="string")return(0,Re._)`${t}`}return(0,Re._)`${r}${e}${(0,Re.getProperty)(n)}`}ne.schemaRefOrVal=sk;function nk(r){return mw(decodeURIComponent(r))}ne.unescapeFragment=nk;function ik(r){return encodeURIComponent(Uc(r))}ne.escapeFragment=ik;function Uc(r){return typeof r=="number"?`${r}`:r.replace(/~/g,"~0").replace(/\//g,"~1")}ne.escapeJsonPointer=Uc;function mw(r){return r.replace(/~1/g,"/").replace(/~0/g,"~")}ne.unescapeJsonPointer=mw;function ak(r,e){if(Array.isArray(r))for(let t of r)e(t);else e(r)}ne.eachItem=ak;function vw({mergeNames:r,mergeToName:e,mergeValues:t,resultToName:n}){return(s,i,a,o)=>{let c=a===void 0?i:a instanceof Re.Name?(i instanceof Re.Name?r(s,i,a):e(s,i,a),a):i instanceof Re.Name?(e(s,a,i),i):t(i,a);return o===Re.Name&&!(c instanceof Re.Name)?n(s,c):c}}ne.mergeEvaluated={props:vw({mergeNames:(r,e,t)=>r.if((0,Re._)`${t} !== true && ${e} !== undefined`,()=>{r.if((0,Re._)`${e} === true`,()=>r.assign(t,!0),()=>r.assign(t,(0,Re._)`${t} || {}`).code((0,Re._)`Object.assign(${t}, ${e})`))}),mergeToName:(r,e,t)=>r.if((0,Re._)`${t} !== true`,()=>{e===!0?r.assign(t,!0):(r.assign(t,(0,Re._)`${t} || {}`),Bc(r,t,e))}),mergeValues:(r,e)=>r===!0?!0:{...r,...e},resultToName:yw}),items:vw({mergeNames:(r,e,t)=>r.if((0,Re._)`${t} !== true && ${e} !== undefined`,()=>r.assign(t,(0,Re._)`${e} === true ? true : ${t} > ${e} ? ${t} : ${e}`)),mergeToName:(r,e,t)=>r.if((0,Re._)`${t} !== true`,()=>r.assign(t,e===!0?!0:(0,Re._)`${t} > ${e} ? ${t} : ${e}`)),mergeValues:(r,e)=>r===!0?!0:Math.max(r,e),resultToName:(r,e)=>r.var("items",e)})};function yw(r,e){if(e===!0)return r.var("props",!0);let t=r.var("props",(0,Re._)`{}`);return e!==void 0&&Bc(r,t,e),t}ne.evaluatedPropsToName=yw;function Bc(r,e,t){Object.keys(t).forEach(n=>r.assign((0,Re._)`${e}${(0,Re.getProperty)(n)}`,!0))}ne.setEvaluated=Bc;var gw={};function ok(r,e){return r.scopeValue("func",{ref:e,code:gw[e.code]||(gw[e.code]=new Zx._Code(e.code))})}ne.useFunc=ok;var bw;(function(r){r[r.Num=0]="Num",r[r.Str=1]="Str"})(bw=ne.Type||(ne.Type={}));function lk(r,e,t){if(r instanceof Re.Name){let n=e===bw.Num;return t?n?(0,Re._)`"[" + ${r} + "]"`:(0,Re._)`"['" + ${r} + "']"`:n?(0,Re._)`"/" + ${r}`:(0,Re._)`"/" + ${r}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return t?(0,Re.getProperty)(r).toString():"/"+Uc(r)}ne.getErrorPath=lk;function Ew(r,e,t=r.opts.strictSchema){if(!!t){if(e=`strict mode: ${e}`,t===!0)throw new Error(e);r.self.logger.warn(e)}}ne.checkStrictMode=Ew});var ft=E(Gc=>{"use strict";Object.defineProperty(Gc,"__esModule",{value:!0});var sr=ie(),uk={data:new sr.Name("data"),valCxt:new sr.Name("valCxt"),instancePath:new sr.Name("instancePath"),parentData:new sr.Name("parentData"),parentDataProperty:new sr.Name("parentDataProperty"),rootData:new sr.Name("rootData"),dynamicAnchors:new sr.Name("dynamicAnchors"),vErrors:new sr.Name("vErrors"),errors:new sr.Name("errors"),this:new sr.Name("this"),self:new sr.Name("self"),scope:new sr.Name("scope"),json:new sr.Name("json"),jsonPos:new sr.Name("jsonPos"),jsonLen:new sr.Name("jsonLen"),jsonPart:new sr.Name("jsonPart")};Gc.default=uk});var Xn=E(nr=>{"use strict";Object.defineProperty(nr,"__esModule",{value:!0});nr.extendErrors=nr.resetErrorsCount=nr.reportExtraError=nr.reportError=nr.keyword$DataError=nr.keywordError=void 0;var ce=ie(),oo=ge(),ur=ft();nr.keywordError={message:({keyword:r})=>(0,ce.str)`must pass "${r}" keyword validation`};nr.keyword$DataError={message:({keyword:r,schemaType:e})=>e?(0,ce.str)`"${r}" keyword must be ${e} ($data)`:(0,ce.str)`"${r}" keyword is invalid ($data)`};function ck(r,e=nr.keywordError,t,n){let{it:s}=r,{gen:i,compositeRule:a,allErrors:o}=s,c=Sw(r,e,t);n??(a||o)?ww(i,c):_w(s,(0,ce._)`[${c}]`)}nr.reportError=ck;function fk(r,e=nr.keywordError,t){let{it:n}=r,{gen:s,compositeRule:i,allErrors:a}=n,o=Sw(r,e,t);ww(s,o),i||a||_w(n,ur.default.vErrors)}nr.reportExtraError=fk;function hk(r,e){r.assign(ur.default.errors,e),r.if((0,ce._)`${ur.default.vErrors} !== null`,()=>r.if(e,()=>r.assign((0,ce._)`${ur.default.vErrors}.length`,e),()=>r.assign(ur.default.vErrors,null)))}nr.resetErrorsCount=hk;function dk({gen:r,keyword:e,schemaValue:t,data:n,errsCount:s,it:i}){if(s===void 0)throw new Error("ajv implementation error");let a=r.name("err");r.forRange("i",s,ur.default.errors,o=>{r.const(a,(0,ce._)`${ur.default.vErrors}[${o}]`),r.if((0,ce._)`${a}.instancePath === undefined`,()=>r.assign((0,ce._)`${a}.instancePath`,(0,ce.strConcat)(ur.default.instancePath,i.errorPath))),r.assign((0,ce._)`${a}.schemaPath`,(0,ce.str)`${i.errSchemaPath}/${e}`),i.opts.verbose&&(r.assign((0,ce._)`${a}.schema`,t),r.assign((0,ce._)`${a}.data`,n))})}nr.extendErrors=dk;function ww(r,e){let t=r.const("err",e);r.if((0,ce._)`${ur.default.vErrors} === null`,()=>r.assign(ur.default.vErrors,(0,ce._)`[${t}]`),(0,ce._)`${ur.default.vErrors}.push(${t})`),r.code((0,ce._)`${ur.default.errors}++`)}function _w(r,e){let{gen:t,validateName:n,schemaEnv:s}=r;s.$async?t.throw((0,ce._)`new ${r.ValidationError}(${e})`):(t.assign((0,ce._)`${n}.errors`,e),t.return(!1))}var as={keyword:new ce.Name("keyword"),schemaPath:new ce.Name("schemaPath"),params:new ce.Name("params"),propertyName:new ce.Name("propertyName"),message:new ce.Name("message"),schema:new ce.Name("schema"),parentSchema:new ce.Name("parentSchema")};function Sw(r,e,t){let{createErrors:n}=r.it;return n===!1?(0,ce._)`{}`:pk(r,e,t)}function pk(r,e,t={}){let{gen:n,it:s}=r,i=[mk(s,t),vk(r,t)];return yk(r,e,i),n.object(...i)}function mk({errorPath:r},{instancePath:e}){let t=e?(0,ce.str)`${r}${(0,oo.getErrorPath)(e,oo.Type.Str)}`:r;return[ur.default.instancePath,(0,ce.strConcat)(ur.default.instancePath,t)]}function vk({keyword:r,it:{errSchemaPath:e}},{schemaPath:t,parentSchema:n}){let s=n?e:(0,ce.str)`${e}/${r}`;return t&&(s=(0,ce.str)`${s}${(0,oo.getErrorPath)(t,oo.Type.Str)}`),[as.schemaPath,s]}function yk(r,{params:e,message:t},n){let{keyword:s,data:i,schemaValue:a,it:o}=r,{opts:c,propertyName:d,topSchemaRef:u,schemaPath:h}=o;n.push([as.keyword,s],[as.params,typeof e=="function"?e(r):e||(0,ce._)`{}`]),c.messages&&n.push([as.message,typeof t=="function"?t(r):t]),c.verbose&&n.push([as.schema,a],[as.parentSchema,(0,ce._)`${u}${h}`],[ur.default.data,i]),d&&n.push([as.propertyName,d])}});var $w=E(Qs=>{"use strict";Object.defineProperty(Qs,"__esModule",{value:!0});Qs.boolOrEmptySchema=Qs.topBoolOrEmptySchema=void 0;var gk=Xn(),bk=ie(),Ek=ft(),wk={message:"boolean schema is false"};function _k(r){let{gen:e,schema:t,validateName:n}=r;t===!1?Pw(r,!1):typeof t=="object"&&t.$async===!0?e.return(Ek.default.data):(e.assign((0,bk._)`${n}.errors`,null),e.return(!0))}Qs.topBoolOrEmptySchema=_k;function Sk(r,e){let{gen:t,schema:n}=r;n===!1?(t.var(e,!1),Pw(r)):t.var(e,!0)}Qs.boolOrEmptySchema=Sk;function Pw(r,e){let{gen:t,data:n}=r,s={gen:t,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:r};(0,gk.reportError)(s,wk,void 0,e)}});var Kc=E(Ys=>{"use strict";Object.defineProperty(Ys,"__esModule",{value:!0});Ys.getRules=Ys.isJSONType=void 0;var Pk=["string","number","integer","boolean","null","object","array"],$k=new Set(Pk);function Rk(r){return typeof r=="string"&&$k.has(r)}Ys.isJSONType=Rk;function Ok(){let r={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...r,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},r.number,r.string,r.array,r.object],post:{rules:[]},all:{},keywords:{}}}Ys.getRules=Ok});var Jc=E(Rt=>{"use strict";Object.defineProperty(Rt,"__esModule",{value:!0});Rt.shouldUseRule=Rt.shouldUseGroup=Rt.schemaHasRulesForType=void 0;function Tk({schema:r,self:e},t){let n=e.RULES.types[t];return n&&n!==!0&&Rw(r,n)}Rt.schemaHasRulesForType=Tk;function Rw(r,e){return e.rules.some(t=>Ow(r,t))}Rt.shouldUseGroup=Rw;function Ow(r,e){var t;return r[e.keyword]!==void 0||((t=e.definition.implements)===null||t===void 0?void 0:t.some(n=>r[n]!==void 0))}Rt.shouldUseRule=Ow});var ei=E(Qe=>{"use strict";Object.defineProperty(Qe,"__esModule",{value:!0});Qe.reportTypeError=Qe.checkDataTypes=Qe.checkDataType=Qe.coerceAndCheckDataType=Qe.getJSONTypes=Qe.getSchemaTypes=Qe.DataType=void 0;var Ik=Kc(),Ck=Jc(),Ak=Xn(),re=ie(),Tw=ge(),Zn;(function(r){r[r.Correct=0]="Correct",r[r.Wrong=1]="Wrong"})(Zn=Qe.DataType||(Qe.DataType={}));function Nk(r){let e=Iw(r.type);if(e.includes("null")){if(r.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!e.length&&r.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');r.nullable===!0&&e.push("null")}return e}Qe.getSchemaTypes=Nk;function Iw(r){let e=Array.isArray(r)?r:r?[r]:[];if(e.every(Ik.isJSONType))return e;throw new Error("type must be JSONType or JSONType[]: "+e.join(","))}Qe.getJSONTypes=Iw;function qk(r,e){let{gen:t,data:n,opts:s}=r,i=jk(e,s.coerceTypes),a=e.length>0&&!(i.length===0&&e.length===1&&(0,Ck.schemaHasRulesForType)(r,e[0]));if(a){let o=Yc(e,n,s.strictNumbers,Zn.Wrong);t.if(o,()=>{i.length?xk(r,e,i):Wc(r)})}return a}Qe.coerceAndCheckDataType=qk;var Cw=new Set(["string","number","integer","boolean","null"]);function jk(r,e){return e?r.filter(t=>Cw.has(t)||e==="array"&&t==="array"):[]}function xk(r,e,t){let{gen:n,data:s,opts:i}=r,a=n.let("dataType",(0,re._)`typeof ${s}`),o=n.let("coerced",(0,re._)`undefined`);i.coerceTypes==="array"&&n.if((0,re._)`${a} == 'object' && Array.isArray(${s}) && ${s}.length == 1`,()=>n.assign(s,(0,re._)`${s}[0]`).assign(a,(0,re._)`typeof ${s}`).if(Yc(e,s,i.strictNumbers),()=>n.assign(o,s))),n.if((0,re._)`${o} !== undefined`);for(let d of t)(Cw.has(d)||d==="array"&&i.coerceTypes==="array")&&c(d);n.else(),Wc(r),n.endIf(),n.if((0,re._)`${o} !== undefined`,()=>{n.assign(s,o),kk(r,o)});function c(d){switch(d){case"string":n.elseIf((0,re._)`${a} == "number" || ${a} == "boolean"`).assign(o,(0,re._)`"" + ${s}`).elseIf((0,re._)`${s} === null`).assign(o,(0,re._)`""`);return;case"number":n.elseIf((0,re._)`${a} == "boolean" || ${s} === null
              || (${a} == "string" && ${s} && ${s} == +${s})`).assign(o,(0,re._)`+${s}`);return;case"integer":n.elseIf((0,re._)`${a} === "boolean" || ${s} === null
              || (${a} === "string" && ${s} && ${s} == +${s} && !(${s} % 1))`).assign(o,(0,re._)`+${s}`);return;case"boolean":n.elseIf((0,re._)`${s} === "false" || ${s} === 0 || ${s} === null`).assign(o,!1).elseIf((0,re._)`${s} === "true" || ${s} === 1`).assign(o,!0);return;case"null":n.elseIf((0,re._)`${s} === "" || ${s} === 0 || ${s} === false`),n.assign(o,null);return;case"array":n.elseIf((0,re._)`${a} === "string" || ${a} === "number"
              || ${a} === "boolean" || ${s} === null`).assign(o,(0,re._)`[${s}]`)}}}function kk({gen:r,parentData:e,parentDataProperty:t},n){r.if((0,re._)`${e} !== undefined`,()=>r.assign((0,re._)`${e}[${t}]`,n))}function Qc(r,e,t,n=Zn.Correct){let s=n===Zn.Correct?re.operators.EQ:re.operators.NEQ,i;switch(r){case"null":return(0,re._)`${e} ${s} null`;case"array":i=(0,re._)`Array.isArray(${e})`;break;case"object":i=(0,re._)`${e} && typeof ${e} == "object" && !Array.isArray(${e})`;break;case"integer":i=a((0,re._)`!(${e} % 1) && !isNaN(${e})`);break;case"number":i=a();break;default:return(0,re._)`typeof ${e} ${s} ${r}`}return n===Zn.Correct?i:(0,re.not)(i);function a(o=re.nil){return(0,re.and)((0,re._)`typeof ${e} == "number"`,o,t?(0,re._)`isFinite(${e})`:re.nil)}}Qe.checkDataType=Qc;function Yc(r,e,t,n){if(r.length===1)return Qc(r[0],e,t,n);let s,i=(0,Tw.toHash)(r);if(i.array&&i.object){let a=(0,re._)`typeof ${e} != "object"`;s=i.null?a:(0,re._)`!${e} || ${a}`,delete i.null,delete i.array,delete i.object}else s=re.nil;i.number&&delete i.integer;for(let a in i)s=(0,re.and)(s,Qc(a,e,t,n));return s}Qe.checkDataTypes=Yc;var Dk={message:({schema:r})=>`must be ${r}`,params:({schema:r,schemaValue:e})=>typeof r=="string"?(0,re._)`{type: ${r}}`:(0,re._)`{type: ${e}}`};function Wc(r){let e=Lk(r);(0,Ak.reportError)(e,Dk)}Qe.reportTypeError=Wc;function Lk(r){let{gen:e,data:t,schema:n}=r,s=(0,Tw.schemaRefOrVal)(r,n,"type");return{gen:e,keyword:"type",data:t,schema:n.type,schemaCode:s,schemaValue:s,parentSchema:n,params:{},it:r}}});var Nw=E(lo=>{"use strict";Object.defineProperty(lo,"__esModule",{value:!0});lo.assignDefaults=void 0;var Ws=ie(),Fk=ge();function Mk(r,e){let{properties:t,items:n}=r.schema;if(e==="object"&&t)for(let s in t)Aw(r,s,t[s].default);else e==="array"&&Array.isArray(n)&&n.forEach((s,i)=>Aw(r,i,s.default))}lo.assignDefaults=Mk;function Aw(r,e,t){let{gen:n,compositeRule:s,data:i,opts:a}=r;if(t===void 0)return;let o=(0,Ws._)`${i}${(0,Ws.getProperty)(e)}`;if(s){(0,Fk.checkStrictMode)(r,`default is ignored for: ${o}`);return}let c=(0,Ws._)`${o} === undefined`;a.useDefaults==="empty"&&(c=(0,Ws._)`${c} || ${o} === null || ${o} === ""`),n.if(c,(0,Ws._)`${o} = ${(0,Ws.stringify)(t)}`)}});var Ar=E(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.validateUnion=Pe.validateArray=Pe.usePattern=Pe.callValidateCode=Pe.schemaProperties=Pe.allSchemaProperties=Pe.noPropertyInData=Pe.propertyInData=Pe.isOwnProperty=Pe.hasPropFunc=Pe.reportMissingProp=Pe.checkMissingProp=Pe.checkReportMissingProp=void 0;var Ce=ie(),Xc=ge(),Ot=ft();function Hk(r,e){let{gen:t,data:n,it:s}=r;t.if(ef(t,n,e,s.opts.ownProperties),()=>{r.setParams({missingProperty:(0,Ce._)`${e}`},!0),r.error()})}Pe.checkReportMissingProp=Hk;function Vk({gen:r,data:e,it:{opts:t}},n,s){return(0,Ce.or)(...n.map(i=>(0,Ce.and)(ef(r,e,i,t.ownProperties),(0,Ce._)`${s} = ${i}`)))}Pe.checkMissingProp=Vk;function zk(r,e){r.setParams({missingProperty:e},!0),r.error()}Pe.reportMissingProp=zk;function qw(r){return r.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Ce._)`Object.prototype.hasOwnProperty`})}Pe.hasPropFunc=qw;function Zc(r,e,t){return(0,Ce._)`${qw(r)}.call(${e}, ${t})`}Pe.isOwnProperty=Zc;function Uk(r,e,t,n){let s=(0,Ce._)`${e}${(0,Ce.getProperty)(t)} !== undefined`;return n?(0,Ce._)`${s} && ${Zc(r,e,t)}`:s}Pe.propertyInData=Uk;function ef(r,e,t,n){let s=(0,Ce._)`${e}${(0,Ce.getProperty)(t)} === undefined`;return n?(0,Ce.or)(s,(0,Ce.not)(Zc(r,e,t))):s}Pe.noPropertyInData=ef;function jw(r){return r?Object.keys(r).filter(e=>e!=="__proto__"):[]}Pe.allSchemaProperties=jw;function Bk(r,e){return jw(e).filter(t=>!(0,Xc.alwaysValidSchema)(r,e[t]))}Pe.schemaProperties=Bk;function Gk({schemaCode:r,data:e,it:{gen:t,topSchemaRef:n,schemaPath:s,errorPath:i},it:a},o,c,d){let u=d?(0,Ce._)`${r}, ${e}, ${n}${s}`:e,h=[[Ot.default.instancePath,(0,Ce.strConcat)(Ot.default.instancePath,i)],[Ot.default.parentData,a.parentData],[Ot.default.parentDataProperty,a.parentDataProperty],[Ot.default.rootData,Ot.default.rootData]];a.opts.dynamicRef&&h.push([Ot.default.dynamicAnchors,Ot.default.dynamicAnchors]);let f=(0,Ce._)`${u}, ${t.object(...h)}`;return c!==Ce.nil?(0,Ce._)`${o}.call(${c}, ${f})`:(0,Ce._)`${o}(${f})`}Pe.callValidateCode=Gk;function Kk({gen:r,it:{opts:e}},t){let n=e.unicodeRegExp?"u":"";return r.scopeValue("pattern",{key:t,ref:new RegExp(t,n),code:(0,Ce._)`new RegExp(${t}, ${n})`})}Pe.usePattern=Kk;function Jk(r){let{gen:e,data:t,keyword:n,it:s}=r,i=e.name("valid");if(s.allErrors){let o=e.let("valid",!0);return a(()=>e.assign(o,!1)),o}return e.var(i,!0),a(()=>e.break()),i;function a(o){let c=e.const("len",(0,Ce._)`${t}.length`);e.forRange("i",0,c,d=>{r.subschema({keyword:n,dataProp:d,dataPropType:Xc.Type.Num},i),e.if((0,Ce.not)(i),o)})}}Pe.validateArray=Jk;function Qk(r){let{gen:e,schema:t,keyword:n,it:s}=r;if(!Array.isArray(t))throw new Error("ajv implementation error");if(t.some(c=>(0,Xc.alwaysValidSchema)(s,c))&&!s.opts.unevaluated)return;let a=e.let("valid",!1),o=e.name("_valid");e.block(()=>t.forEach((c,d)=>{let u=r.subschema({keyword:n,schemaProp:d,compositeRule:!0},o);e.assign(a,(0,Ce._)`${a} || ${o}`),r.mergeValidEvaluated(u,o)||e.if((0,Ce.not)(a))})),r.result(a,()=>r.reset(),()=>r.error(!0))}Pe.validateUnion=Qk});var Dw=E(Zr=>{"use strict";Object.defineProperty(Zr,"__esModule",{value:!0});Zr.validateKeywordUsage=Zr.validSchemaType=Zr.funcKeywordCode=Zr.macroKeywordCode=void 0;var cr=ie(),os=ft(),Yk=Ar(),Wk=Xn();function Xk(r,e){let{gen:t,keyword:n,schema:s,parentSchema:i,it:a}=r,o=e.macro.call(a.self,s,i,a),c=kw(t,n,o);a.opts.validateSchema!==!1&&a.self.validateSchema(o,!0);let d=t.name("valid");r.subschema({schema:o,schemaPath:cr.nil,errSchemaPath:`${a.errSchemaPath}/${n}`,topSchemaRef:c,compositeRule:!0},d),r.pass(d,()=>r.error(!0))}Zr.macroKeywordCode=Xk;function Zk(r,e){var t;let{gen:n,keyword:s,schema:i,parentSchema:a,$data:o,it:c}=r;rD(c,e);let d=!o&&e.compile?e.compile.call(c.self,i,a,c):e.validate,u=kw(n,s,d),h=n.let("valid");r.block$data(h,f),r.ok((t=e.valid)!==null&&t!==void 0?t:h);function f(){if(e.errors===!1)m(),e.modifying&&xw(r),p(()=>r.error());else{let y=e.async?l():v();e.modifying&&xw(r),p(()=>eD(r,y))}}function l(){let y=n.let("ruleErrs",null);return n.try(()=>m((0,cr._)`await `),S=>n.assign(h,!1).if((0,cr._)`${S} instanceof ${c.ValidationError}`,()=>n.assign(y,(0,cr._)`${S}.errors`),()=>n.throw(S))),y}function v(){let y=(0,cr._)`${u}.errors`;return n.assign(y,null),m(cr.nil),y}function m(y=e.async?(0,cr._)`await `:cr.nil){let S=c.opts.passContext?os.default.this:os.default.self,$=!("compile"in e&&!o||e.schema===!1);n.assign(h,(0,cr._)`${y}${(0,Yk.callValidateCode)(r,u,S,$)}`,e.modifying)}function p(y){var S;n.if((0,cr.not)((S=e.valid)!==null&&S!==void 0?S:h),y)}}Zr.funcKeywordCode=Zk;function xw(r){let{gen:e,data:t,it:n}=r;e.if(n.parentData,()=>e.assign(t,(0,cr._)`${n.parentData}[${n.parentDataProperty}]`))}function eD(r,e){let{gen:t}=r;t.if((0,cr._)`Array.isArray(${e})`,()=>{t.assign(os.default.vErrors,(0,cr._)`${os.default.vErrors} === null ? ${e} : ${os.default.vErrors}.concat(${e})`).assign(os.default.errors,(0,cr._)`${os.default.vErrors}.length`),(0,Wk.extendErrors)(r)},()=>r.error())}function rD({schemaEnv:r},e){if(e.async&&!r.$async)throw new Error("async keyword in sync schema")}function kw(r,e,t){if(t===void 0)throw new Error(`keyword "${e}" failed to compile`);return r.scopeValue("keyword",typeof t=="function"?{ref:t}:{ref:t,code:(0,cr.stringify)(t)})}function tD(r,e,t=!1){return!e.length||e.some(n=>n==="array"?Array.isArray(r):n==="object"?r&&typeof r=="object"&&!Array.isArray(r):typeof r==n||t&&typeof r=="undefined")}Zr.validSchemaType=tD;function sD({schema:r,opts:e,self:t,errSchemaPath:n},s,i){if(Array.isArray(s.keyword)?!s.keyword.includes(i):s.keyword!==i)throw new Error("ajv implementation error");let a=s.dependencies;if(a==null?void 0:a.some(o=>!Object.prototype.hasOwnProperty.call(r,o)))throw new Error(`parent schema must have dependencies of ${i}: ${a.join(",")}`);if(s.validateSchema&&!s.validateSchema(r[i])){let c=`keyword "${i}" value is invalid at path "${n}": `+t.errorsText(s.validateSchema.errors);if(e.validateSchema==="log")t.logger.error(c);else throw new Error(c)}}Zr.validateKeywordUsage=sD});var Fw=E(Tt=>{"use strict";Object.defineProperty(Tt,"__esModule",{value:!0});Tt.extendSubschemaMode=Tt.extendSubschemaData=Tt.getSubschema=void 0;var et=ie(),Lw=ge();function nD(r,{keyword:e,schemaProp:t,schema:n,schemaPath:s,errSchemaPath:i,topSchemaRef:a}){if(e!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){let o=r.schema[e];return t===void 0?{schema:o,schemaPath:(0,et._)`${r.schemaPath}${(0,et.getProperty)(e)}`,errSchemaPath:`${r.errSchemaPath}/${e}`}:{schema:o[t],schemaPath:(0,et._)`${r.schemaPath}${(0,et.getProperty)(e)}${(0,et.getProperty)(t)}`,errSchemaPath:`${r.errSchemaPath}/${e}/${(0,Lw.escapeFragment)(t)}`}}if(n!==void 0){if(s===void 0||i===void 0||a===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:s,topSchemaRef:a,errSchemaPath:i}}throw new Error('either "keyword" or "schema" must be passed')}Tt.getSubschema=nD;function iD(r,e,{dataProp:t,dataPropType:n,data:s,dataTypes:i,propertyName:a}){if(s!==void 0&&t!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:o}=e;if(t!==void 0){let{errorPath:d,dataPathArr:u,opts:h}=e,f=o.let("data",(0,et._)`${e.data}${(0,et.getProperty)(t)}`,!0);c(f),r.errorPath=(0,et.str)`${d}${(0,Lw.getErrorPath)(t,n,h.jsPropertySyntax)}`,r.parentDataProperty=(0,et._)`${t}`,r.dataPathArr=[...u,r.parentDataProperty]}if(s!==void 0){let d=s instanceof et.Name?s:o.let("data",s,!0);c(d),a!==void 0&&(r.propertyName=a)}i&&(r.dataTypes=i);function c(d){r.data=d,r.dataLevel=e.dataLevel+1,r.dataTypes=[],e.definedProperties=new Set,r.parentData=e.data,r.dataNames=[...e.dataNames,d]}}Tt.extendSubschemaData=iD;function aD(r,{jtdDiscriminator:e,jtdMetadata:t,compositeRule:n,createErrors:s,allErrors:i}){n!==void 0&&(r.compositeRule=n),s!==void 0&&(r.createErrors=s),i!==void 0&&(r.allErrors=i),r.jtdDiscriminator=e,r.jtdMetadata=t}Tt.extendSubschemaMode=aD});var Hw=E((g9,Mw)=>{"use strict";var It=Mw.exports=function(r,e,t){typeof e=="function"&&(t=e,e={}),t=e.cb||t;var n=typeof t=="function"?t:t.pre||function(){},s=t.post||function(){};uo(e,n,s,r,"",r)};It.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};It.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};It.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};It.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function uo(r,e,t,n,s,i,a,o,c,d){if(n&&typeof n=="object"&&!Array.isArray(n)){e(n,s,i,a,o,c,d);for(var u in n){var h=n[u];if(Array.isArray(h)){if(u in It.arrayKeywords)for(var f=0;f<h.length;f++)uo(r,e,t,h[f],s+"/"+u+"/"+f,i,s,u,n,f)}else if(u in It.propsKeywords){if(h&&typeof h=="object")for(var l in h)uo(r,e,t,h[l],s+"/"+u+"/"+oD(l),i,s,u,n,l)}else(u in It.keywords||r.allKeys&&!(u in It.skipKeywords))&&uo(r,e,t,h,s+"/"+u,i,s,u,n)}t(n,s,i,a,o,c,d)}}function oD(r){return r.replace(/~/g,"~0").replace(/\//g,"~1")}});var ri=E(dr=>{"use strict";Object.defineProperty(dr,"__esModule",{value:!0});dr.getSchemaRefs=dr.resolveUrl=dr.normalizeId=dr._getFullPath=dr.getFullPath=dr.inlineRef=void 0;var lD=ge(),uD=pt(),cD=Hw(),co=ji(),fD=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function hD(r,e=!0){return typeof r=="boolean"?!0:e===!0?!rf(r):e?Vw(r)<=e:!1}dr.inlineRef=hD;var dD=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function rf(r){for(let e in r){if(dD.has(e))return!0;let t=r[e];if(Array.isArray(t)&&t.some(rf)||typeof t=="object"&&rf(t))return!0}return!1}function Vw(r){let e=0;for(let t in r){if(t==="$ref")return 1/0;if(e++,!fD.has(t)&&(typeof r[t]=="object"&&(0,lD.eachItem)(r[t],n=>e+=Vw(n)),e===1/0))return 1/0}return e}function zw(r="",e){e!==!1&&(r=Xs(r));let t=co.parse(r);return Uw(t)}dr.getFullPath=zw;function Uw(r){return co.serialize(r).split("#")[0]+"#"}dr._getFullPath=Uw;var pD=/#\/?$/;function Xs(r){return r?r.replace(pD,""):""}dr.normalizeId=Xs;function mD(r,e){return e=Xs(e),co.resolve(r,e)}dr.resolveUrl=mD;var vD=/^[a-z_][-a-z0-9._]*$/i;function yD(r,e){if(typeof r=="boolean")return{};let{schemaId:t}=this.opts,n=Xs(r[t]||e),s={"":n},i=zw(n,!1),a={},o=new Set;return cD(r,{allKeys:!0},(u,h,f,l)=>{if(l===void 0)return;let v=i+h,m=s[l];typeof u[t]=="string"&&(m=p.call(this,u[t])),y.call(this,u.$anchor),y.call(this,u.$dynamicAnchor),s[h]=m;function p(S){if(S=Xs(m?co.resolve(m,S):S),o.has(S))throw d(S);o.add(S);let $=this.refs[S];return typeof $=="string"&&($=this.refs[$]),typeof $=="object"?c(u,$.schema,S):S!==Xs(v)&&(S[0]==="#"?(c(u,a[S],S),a[S]=u):this.refs[S]=v),S}function y(S){if(typeof S=="string"){if(!vD.test(S))throw new Error(`invalid anchor "${S}"`);p.call(this,`#${S}`)}}}),a;function c(u,h,f){if(h!==void 0&&!uD(u,h))throw d(f)}function d(u){return new Error(`reference "${u}" resolves to more than one schema`)}}dr.getSchemaRefs=yD});var ni=E(Ct=>{"use strict";Object.defineProperty(Ct,"__esModule",{value:!0});Ct.getData=Ct.KeywordCxt=Ct.validateFunctionCode=void 0;var Bw=$w(),Gw=ei(),tf=Jc(),fo=ei(),gD=Nw(),ti=Dw(),sf=Fw(),G=ie(),X=ft(),bD=ri(),ht=ge(),si=Xn();function ED(r){if(Yw(r)&&(Ww(r),Qw(r))){SD(r);return}Kw(r,()=>(0,Bw.topBoolOrEmptySchema)(r))}Ct.validateFunctionCode=ED;function Kw({gen:r,validateName:e,schema:t,schemaEnv:n,opts:s},i){s.code.es5?r.func(e,(0,G._)`${X.default.data}, ${X.default.valCxt}`,n.$async,()=>{r.code((0,G._)`"use strict"; ${Jw(t,s)}`),_D(r,s),r.code(i)}):r.func(e,(0,G._)`${X.default.data}, ${wD(s)}`,n.$async,()=>r.code(Jw(t,s)).code(i))}function wD(r){return(0,G._)`{${X.default.instancePath}="", ${X.default.parentData}, ${X.default.parentDataProperty}, ${X.default.rootData}=${X.default.data}${r.dynamicRef?(0,G._)`, ${X.default.dynamicAnchors}={}`:G.nil}}={}`}function _D(r,e){r.if(X.default.valCxt,()=>{r.var(X.default.instancePath,(0,G._)`${X.default.valCxt}.${X.default.instancePath}`),r.var(X.default.parentData,(0,G._)`${X.default.valCxt}.${X.default.parentData}`),r.var(X.default.parentDataProperty,(0,G._)`${X.default.valCxt}.${X.default.parentDataProperty}`),r.var(X.default.rootData,(0,G._)`${X.default.valCxt}.${X.default.rootData}`),e.dynamicRef&&r.var(X.default.dynamicAnchors,(0,G._)`${X.default.valCxt}.${X.default.dynamicAnchors}`)},()=>{r.var(X.default.instancePath,(0,G._)`""`),r.var(X.default.parentData,(0,G._)`undefined`),r.var(X.default.parentDataProperty,(0,G._)`undefined`),r.var(X.default.rootData,X.default.data),e.dynamicRef&&r.var(X.default.dynamicAnchors,(0,G._)`{}`)})}function SD(r){let{schema:e,opts:t,gen:n}=r;Kw(r,()=>{t.$comment&&e.$comment&&Zw(r),TD(r),n.let(X.default.vErrors,null),n.let(X.default.errors,0),t.unevaluated&&PD(r),Xw(r),AD(r)})}function PD(r){let{gen:e,validateName:t}=r;r.evaluated=e.const("evaluated",(0,G._)`${t}.evaluated`),e.if((0,G._)`${r.evaluated}.dynamicProps`,()=>e.assign((0,G._)`${r.evaluated}.props`,(0,G._)`undefined`)),e.if((0,G._)`${r.evaluated}.dynamicItems`,()=>e.assign((0,G._)`${r.evaluated}.items`,(0,G._)`undefined`))}function Jw(r,e){let t=typeof r=="object"&&r[e.schemaId];return t&&(e.code.source||e.code.process)?(0,G._)`/*# sourceURL=${t} */`:G.nil}function $D(r,e){if(Yw(r)&&(Ww(r),Qw(r))){RD(r,e);return}(0,Bw.boolOrEmptySchema)(r,e)}function Qw({schema:r,self:e}){if(typeof r=="boolean")return!r;for(let t in r)if(e.RULES.all[t])return!0;return!1}function Yw(r){return typeof r.schema!="boolean"}function RD(r,e){let{schema:t,gen:n,opts:s}=r;s.$comment&&t.$comment&&Zw(r),ID(r),CD(r);let i=n.const("_errs",X.default.errors);Xw(r,i),n.var(e,(0,G._)`${i} === ${X.default.errors}`)}function Ww(r){(0,ht.checkUnknownRules)(r),OD(r)}function Xw(r,e){if(r.opts.jtd)return e_(r,[],!1,e);let t=(0,Gw.getSchemaTypes)(r.schema),n=(0,Gw.coerceAndCheckDataType)(r,t);e_(r,t,!n,e)}function OD(r){let{schema:e,errSchemaPath:t,opts:n,self:s}=r;e.$ref&&n.ignoreKeywordsWithRef&&(0,ht.schemaHasRulesButRef)(e,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${t}"`)}function TD(r){let{schema:e,opts:t}=r;e.default!==void 0&&t.useDefaults&&t.strictSchema&&(0,ht.checkStrictMode)(r,"default is ignored in the schema root")}function ID(r){let e=r.schema[r.opts.schemaId];e&&(r.baseId=(0,bD.resolveUrl)(r.baseId,e))}function CD(r){if(r.schema.$async&&!r.schemaEnv.$async)throw new Error("async schema in sync schema")}function Zw({gen:r,schemaEnv:e,schema:t,errSchemaPath:n,opts:s}){let i=t.$comment;if(s.$comment===!0)r.code((0,G._)`${X.default.self}.logger.log(${i})`);else if(typeof s.$comment=="function"){let a=(0,G.str)`${n}/$comment`,o=r.scopeValue("root",{ref:e.root});r.code((0,G._)`${X.default.self}.opts.$comment(${i}, ${a}, ${o}.schema)`)}}function AD(r){let{gen:e,schemaEnv:t,validateName:n,ValidationError:s,opts:i}=r;t.$async?e.if((0,G._)`${X.default.errors} === 0`,()=>e.return(X.default.data),()=>e.throw((0,G._)`new ${s}(${X.default.vErrors})`)):(e.assign((0,G._)`${n}.errors`,X.default.vErrors),i.unevaluated&&ND(r),e.return((0,G._)`${X.default.errors} === 0`))}function ND({gen:r,evaluated:e,props:t,items:n}){t instanceof G.Name&&r.assign((0,G._)`${e}.props`,t),n instanceof G.Name&&r.assign((0,G._)`${e}.items`,n)}function e_(r,e,t,n){let{gen:s,schema:i,data:a,allErrors:o,opts:c,self:d}=r,{RULES:u}=d;if(i.$ref&&(c.ignoreKeywordsWithRef||!(0,ht.schemaHasRulesButRef)(i,u))){s.block(()=>s_(r,"$ref",u.all.$ref.definition));return}c.jtd||qD(r,e),s.block(()=>{for(let f of u.rules)h(f);h(u.post)});function h(f){!(0,tf.shouldUseGroup)(i,f)||(f.type?(s.if((0,fo.checkDataType)(f.type,a,c.strictNumbers)),r_(r,f),e.length===1&&e[0]===f.type&&t&&(s.else(),(0,fo.reportTypeError)(r)),s.endIf()):r_(r,f),o||s.if((0,G._)`${X.default.errors} === ${n||0}`))}}function r_(r,e){let{gen:t,schema:n,opts:{useDefaults:s}}=r;s&&(0,gD.assignDefaults)(r,e.type),t.block(()=>{for(let i of e.rules)(0,tf.shouldUseRule)(n,i)&&s_(r,i.keyword,i.definition,e.type)})}function qD(r,e){r.schemaEnv.meta||!r.opts.strictTypes||(jD(r,e),r.opts.allowUnionTypes||xD(r,e),kD(r,r.dataTypes))}function jD(r,e){if(!!e.length){if(!r.dataTypes.length){r.dataTypes=e;return}e.forEach(t=>{t_(r.dataTypes,t)||nf(r,`type "${t}" not allowed by context "${r.dataTypes.join(",")}"`)}),r.dataTypes=r.dataTypes.filter(t=>t_(e,t))}}function xD(r,e){e.length>1&&!(e.length===2&&e.includes("null"))&&nf(r,"use allowUnionTypes to allow union type keyword")}function kD(r,e){let t=r.self.RULES.all;for(let n in t){let s=t[n];if(typeof s=="object"&&(0,tf.shouldUseRule)(r.schema,s)){let{type:i}=s.definition;i.length&&!i.some(a=>DD(e,a))&&nf(r,`missing type "${i.join(",")}" for keyword "${n}"`)}}}function DD(r,e){return r.includes(e)||e==="number"&&r.includes("integer")}function t_(r,e){return r.includes(e)||e==="integer"&&r.includes("number")}function nf(r,e){e+=` at "${r.schemaEnv.baseId+r.errSchemaPath}" (strictTypes)`,(0,ht.checkStrictMode)(r,e,r.opts.strictTypes)}var af=class{constructor(e,t,n){if((0,ti.validateKeywordUsage)(e,t,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,ht.schemaRefOrVal)(e,this.schema,n,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const("vSchema",n_(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,ti.validSchemaType)(this.schema,t.schemaType,t.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(t.schemaType)}`);("code"in t?t.trackErrors:t.errors!==!1)&&(this.errsCount=e.gen.const("_errs",X.default.errors))}result(e,t,n){this.failResult((0,G.not)(e),t,n)}failResult(e,t,n){this.gen.if(e),n?n():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.failResult((0,G.not)(e),void 0,t)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);let{schemaCode:t}=this;this.fail((0,G._)`${t} !== undefined && (${(0,G.or)(this.invalid$data(),e)})`)}error(e,t,n){if(t){this.setParams(t),this._error(e,n),this.setParams({});return}this._error(e,n)}_error(e,t){(e?si.reportExtraError:si.reportError)(this,this.def.error,t)}$dataError(){(0,si.reportError)(this,this.def.$dataError||si.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,si.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t,n=G.nil){this.gen.block(()=>{this.check$data(e,n),t()})}check$data(e=G.nil,t=G.nil){if(!this.$data)return;let{gen:n,schemaCode:s,schemaType:i,def:a}=this;n.if((0,G.or)((0,G._)`${s} === undefined`,t)),e!==G.nil&&n.assign(e,!0),(i.length||a.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==G.nil&&n.assign(e,!1)),n.else()}invalid$data(){let{gen:e,schemaCode:t,schemaType:n,def:s,it:i}=this;return(0,G.or)(a(),o());function a(){if(n.length){if(!(t instanceof G.Name))throw new Error("ajv implementation error");let c=Array.isArray(n)?n:[n];return(0,G._)`${(0,fo.checkDataTypes)(c,t,i.opts.strictNumbers,fo.DataType.Wrong)}`}return G.nil}function o(){if(s.validateSchema){let c=e.scopeValue("validate$data",{ref:s.validateSchema});return(0,G._)`!${c}(${t})`}return G.nil}}subschema(e,t){let n=(0,sf.getSubschema)(this.it,e);(0,sf.extendSubschemaData)(n,this.it,e),(0,sf.extendSubschemaMode)(n,e);let s={...this.it,...n,items:void 0,props:void 0};return $D(s,t),s}mergeEvaluated(e,t){let{it:n,gen:s}=this;!n.opts.unevaluated||(n.props!==!0&&e.props!==void 0&&(n.props=ht.mergeEvaluated.props(s,e.props,n.props,t)),n.items!==!0&&e.items!==void 0&&(n.items=ht.mergeEvaluated.items(s,e.items,n.items,t)))}mergeValidEvaluated(e,t){let{it:n,gen:s}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return s.if(t,()=>this.mergeEvaluated(e,G.Name)),!0}};Ct.KeywordCxt=af;function s_(r,e,t,n){let s=new af(r,t,e);"code"in t?t.code(s,n):s.$data&&t.validate?(0,ti.funcKeywordCode)(s,t):"macro"in t?(0,ti.macroKeywordCode)(s,t):(t.compile||t.validate)&&(0,ti.funcKeywordCode)(s,t)}var LD=/^\/(?:[^~]|~0|~1)*$/,FD=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function n_(r,{dataLevel:e,dataNames:t,dataPathArr:n}){let s,i;if(r==="")return X.default.rootData;if(r[0]==="/"){if(!LD.test(r))throw new Error(`Invalid JSON-pointer: ${r}`);s=r,i=X.default.rootData}else{let d=FD.exec(r);if(!d)throw new Error(`Invalid JSON-pointer: ${r}`);let u=+d[1];if(s=d[2],s==="#"){if(u>=e)throw new Error(c("property/index",u));return n[e-u]}if(u>e)throw new Error(c("data",u));if(i=t[e-u],!s)return i}let a=i,o=s.split("/");for(let d of o)d&&(i=(0,G._)`${i}${(0,G.getProperty)((0,ht.unescapeJsonPointer)(d))}`,a=(0,G._)`${a} && ${i}`);return a;function c(d,u){return`Cannot access ${d} ${u} levels up, current level is ${e}`}}Ct.getData=n_});var lf=E(of=>{"use strict";Object.defineProperty(of,"__esModule",{value:!0});var i_=class extends Error{constructor(e){super("validation failed");this.errors=e,this.ajv=this.validation=!0}};of.default=i_});var ff=E(cf=>{"use strict";Object.defineProperty(cf,"__esModule",{value:!0});var uf=ri(),a_=class extends Error{constructor(e,t,n){super(n||`can't resolve reference ${t} from id ${e}`);this.missingRef=(0,uf.resolveUrl)(e,t),this.missingSchema=(0,uf.normalizeId)((0,uf.getFullPath)(this.missingRef))}};cf.default=a_});var pf=E(Nr=>{"use strict";Object.defineProperty(Nr,"__esModule",{value:!0});Nr.resolveSchema=Nr.getCompilingSchema=Nr.resolveRef=Nr.compileSchema=Nr.SchemaEnv=void 0;var Dr=ie(),MD=lf(),ls=ft(),Lr=ri(),o_=ge(),HD=ni(),VD=ji(),ii=class{constructor(e){var t;this.refs={},this.dynamicAnchors={};let n;typeof e.schema=="object"&&(n=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(t=e.baseId)!==null&&t!==void 0?t:(0,Lr.normalizeId)(n==null?void 0:n[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=n==null?void 0:n.$async,this.refs={}}};Nr.SchemaEnv=ii;function hf(r){let e=l_.call(this,r);if(e)return e;let t=(0,Lr.getFullPath)(r.root.baseId),{es5:n,lines:s}=this.opts.code,{ownProperties:i}=this.opts,a=new Dr.CodeGen(this.scope,{es5:n,lines:s,ownProperties:i}),o;r.$async&&(o=a.scopeValue("Error",{ref:MD.default,code:(0,Dr._)`require("ajv/dist/runtime/validation_error").default`}));let c=a.scopeName("validate");r.validateName=c;let d={gen:a,allErrors:this.opts.allErrors,data:ls.default.data,parentData:ls.default.parentData,parentDataProperty:ls.default.parentDataProperty,dataNames:[ls.default.data],dataPathArr:[Dr.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:a.scopeValue("schema",this.opts.code.source===!0?{ref:r.schema,code:(0,Dr.stringify)(r.schema)}:{ref:r.schema}),validateName:c,ValidationError:o,schema:r.schema,schemaEnv:r,rootId:t,baseId:r.baseId||t,schemaPath:Dr.nil,errSchemaPath:r.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Dr._)`""`,opts:this.opts,self:this},u;try{this._compilations.add(r),(0,HD.validateFunctionCode)(d),a.optimize(this.opts.code.optimize);let h=a.toString();u=`${a.scopeRefs(ls.default.scope)}return ${h}`,this.opts.code.process&&(u=this.opts.code.process(u,r));let l=new Function(`${ls.default.self}`,`${ls.default.scope}`,u)(this,this.scope.get());if(this.scope.value(c,{ref:l}),l.errors=null,l.schema=r.schema,l.schemaEnv=r,r.$async&&(l.$async=!0),this.opts.code.source===!0&&(l.source={validateName:c,validateCode:h,scopeValues:a._values}),this.opts.unevaluated){let{props:v,items:m}=d;l.evaluated={props:v instanceof Dr.Name?void 0:v,items:m instanceof Dr.Name?void 0:m,dynamicProps:v instanceof Dr.Name,dynamicItems:m instanceof Dr.Name},l.source&&(l.source.evaluated=(0,Dr.stringify)(l.evaluated))}return r.validate=l,r}catch(h){throw delete r.validate,delete r.validateName,u&&this.logger.error("Error compiling schema, function code:",u),h}finally{this._compilations.delete(r)}}Nr.compileSchema=hf;function zD(r,e,t){var n;t=(0,Lr.resolveUrl)(e,t);let s=r.refs[t];if(s)return s;let i=GD.call(this,r,t);if(i===void 0){let a=(n=r.localRefs)===null||n===void 0?void 0:n[t],{schemaId:o}=this.opts;a&&(i=new ii({schema:a,schemaId:o,root:r,baseId:e}))}if(i!==void 0)return r.refs[t]=UD.call(this,i)}Nr.resolveRef=zD;function UD(r){return(0,Lr.inlineRef)(r.schema,this.opts.inlineRefs)?r.schema:r.validate?r:hf.call(this,r)}function l_(r){for(let e of this._compilations)if(BD(e,r))return e}Nr.getCompilingSchema=l_;function BD(r,e){return r.schema===e.schema&&r.root===e.root&&r.baseId===e.baseId}function GD(r,e){let t;for(;typeof(t=this.refs[e])=="string";)e=t;return t||this.schemas[e]||ho.call(this,r,e)}function ho(r,e){let t=VD.parse(e),n=(0,Lr._getFullPath)(t),s=(0,Lr.getFullPath)(r.baseId);if(Object.keys(r.schema).length>0&&n===s)return df.call(this,t,r);let i=(0,Lr.normalizeId)(n),a=this.refs[i]||this.schemas[i];if(typeof a=="string"){let o=ho.call(this,r,a);return typeof(o==null?void 0:o.schema)!="object"?void 0:df.call(this,t,o)}if(typeof(a==null?void 0:a.schema)=="object"){if(a.validate||hf.call(this,a),i===(0,Lr.normalizeId)(e)){let{schema:o}=a,{schemaId:c}=this.opts,d=o[c];return d&&(s=(0,Lr.resolveUrl)(s,d)),new ii({schema:o,schemaId:c,root:r,baseId:s})}return df.call(this,t,a)}}Nr.resolveSchema=ho;var KD=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function df(r,{baseId:e,schema:t,root:n}){var s;if(((s=r.fragment)===null||s===void 0?void 0:s[0])!=="/")return;for(let o of r.fragment.slice(1).split("/")){if(typeof t=="boolean")return;let c=t[(0,o_.unescapeFragment)(o)];if(c===void 0)return;t=c;let d=typeof t=="object"&&t[this.opts.schemaId];!KD.has(o)&&d&&(e=(0,Lr.resolveUrl)(e,d))}let i;if(typeof t!="boolean"&&t.$ref&&!(0,o_.schemaHasRulesButRef)(t,this.RULES)){let o=(0,Lr.resolveUrl)(e,t.$ref);i=ho.call(this,n,o)}let{schemaId:a}=this.opts;if(i=i||new ii({schema:t,schemaId:a,root:n,baseId:e}),i.schema!==i.root.schema)return i}});var u_=E((P9,JD)=>{JD.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var v_=E(Ye=>{"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});Ye.CodeGen=Ye.Name=Ye.nil=Ye.stringify=Ye.str=Ye._=Ye.KeywordCxt=void 0;var QD=ni();Object.defineProperty(Ye,"KeywordCxt",{enumerable:!0,get:function(){return QD.KeywordCxt}});var Zs=ie();Object.defineProperty(Ye,"_",{enumerable:!0,get:function(){return Zs._}});Object.defineProperty(Ye,"str",{enumerable:!0,get:function(){return Zs.str}});Object.defineProperty(Ye,"stringify",{enumerable:!0,get:function(){return Zs.stringify}});Object.defineProperty(Ye,"nil",{enumerable:!0,get:function(){return Zs.nil}});Object.defineProperty(Ye,"Name",{enumerable:!0,get:function(){return Zs.Name}});Object.defineProperty(Ye,"CodeGen",{enumerable:!0,get:function(){return Zs.CodeGen}});var YD=lf(),c_=ff(),WD=Kc(),ai=pf(),XD=ie(),oi=ri(),po=ei(),mf=ge(),f_=u_(),ZD=["removeAdditional","useDefaults","coerceTypes"],eL=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),rL={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},tL={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},h_=200;function sL(r){var e,t,n,s,i,a,o,c,d,u,h,f,l,v,m,p,y,S,$,w,g,O;let R=r.strict,D=(e=r.code)===null||e===void 0?void 0:e.optimize,A=D===!0||D===void 0?1:D||0;return{strictSchema:(n=(t=r.strictSchema)!==null&&t!==void 0?t:R)!==null&&n!==void 0?n:!0,strictNumbers:(i=(s=r.strictNumbers)!==null&&s!==void 0?s:R)!==null&&i!==void 0?i:!0,strictTypes:(o=(a=r.strictTypes)!==null&&a!==void 0?a:R)!==null&&o!==void 0?o:"log",strictTuples:(d=(c=r.strictTuples)!==null&&c!==void 0?c:R)!==null&&d!==void 0?d:"log",strictRequired:(h=(u=r.strictRequired)!==null&&u!==void 0?u:R)!==null&&h!==void 0?h:!1,code:r.code?{...r.code,optimize:A}:{optimize:A},loopRequired:(f=r.loopRequired)!==null&&f!==void 0?f:h_,loopEnum:(l=r.loopEnum)!==null&&l!==void 0?l:h_,meta:(v=r.meta)!==null&&v!==void 0?v:!0,messages:(m=r.messages)!==null&&m!==void 0?m:!0,inlineRefs:(p=r.inlineRefs)!==null&&p!==void 0?p:!0,schemaId:(y=r.schemaId)!==null&&y!==void 0?y:"$id",addUsedSchema:(S=r.addUsedSchema)!==null&&S!==void 0?S:!0,validateSchema:($=r.validateSchema)!==null&&$!==void 0?$:!0,validateFormats:(w=r.validateFormats)!==null&&w!==void 0?w:!0,unicodeRegExp:(g=r.unicodeRegExp)!==null&&g!==void 0?g:!0,int32range:(O=r.int32range)!==null&&O!==void 0?O:!0}}var mo=class{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...sL(e)};let{es5:t,lines:n}=this.opts.code;this.scope=new XD.ValueScope({scope:{},prefixes:eL,es5:t,lines:n}),this.logger=uL(e.logger);let s=e.validateFormats;e.validateFormats=!1,this.RULES=(0,WD.getRules)(),d_.call(this,rL,e,"NOT SUPPORTED"),d_.call(this,tL,e,"DEPRECATED","warn"),this._metaOpts=oL.call(this),e.formats&&iL.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&aL.call(this,e.keywords),typeof e.meta=="object"&&this.addMetaSchema(e.meta),nL.call(this),e.validateFormats=s}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:e,meta:t,schemaId:n}=this.opts,s=f_;n==="id"&&(s={...f_},s.id=s.$id,delete s.$id),t&&e&&this.addMetaSchema(s,s[n],!1)}defaultMeta(){let{meta:e,schemaId:t}=this.opts;return this.opts.defaultMeta=typeof e=="object"?e[t]||e:void 0}validate(e,t){let n;if(typeof e=="string"){if(n=this.getSchema(e),!n)throw new Error(`no schema with key or ref "${e}"`)}else n=this.compile(e);let s=n(t);return"$async"in n||(this.errors=n.errors),s}compile(e,t){let n=this._addSchema(e,t);return n.validate||this._compileSchemaEnv(n)}compileAsync(e,t){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:n}=this.opts;return s.call(this,e,t);async function s(u,h){await i.call(this,u.$schema);let f=this._addSchema(u,h);return f.validate||a.call(this,f)}async function i(u){u&&!this.getSchema(u)&&await s.call(this,{$ref:u},!0)}async function a(u){try{return this._compileSchemaEnv(u)}catch(h){if(!(h instanceof c_.default))throw h;return o.call(this,h),await c.call(this,h.missingSchema),a.call(this,u)}}function o({missingSchema:u,missingRef:h}){if(this.refs[u])throw new Error(`AnySchema ${u} is loaded but ${h} cannot be resolved`)}async function c(u){let h=await d.call(this,u);this.refs[u]||await i.call(this,h.$schema),this.refs[u]||this.addSchema(h,u,t)}async function d(u){let h=this._loading[u];if(h)return h;try{return await(this._loading[u]=n(u))}finally{delete this._loading[u]}}}addSchema(e,t,n,s=this.opts.validateSchema){if(Array.isArray(e)){for(let a of e)this.addSchema(a,void 0,n,s);return this}let i;if(typeof e=="object"){let{schemaId:a}=this.opts;if(i=e[a],i!==void 0&&typeof i!="string")throw new Error(`schema ${a} must be string`)}return t=(0,oi.normalizeId)(t||i),this._checkUnique(t),this.schemas[t]=this._addSchema(e,n,t,s,!0),this}addMetaSchema(e,t,n=this.opts.validateSchema){return this.addSchema(e,t,!0,n),this}validateSchema(e,t){if(typeof e=="boolean")return!0;let n;if(n=e.$schema,n!==void 0&&typeof n!="string")throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let s=this.validate(n,e);if(!s&&t){let i="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(i);else throw new Error(i)}return s}getSchema(e){let t;for(;typeof(t=p_.call(this,e))=="string";)e=t;if(t===void 0){let{schemaId:n}=this.opts,s=new ai.SchemaEnv({schema:{},schemaId:n});if(t=ai.resolveSchema.call(this,s,e),!t)return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let t=p_.call(this,e);return typeof t=="object"&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{let t=e;this._cache.delete(t);let n=e[this.opts.schemaId];return n&&(n=(0,oi.normalizeId)(n),delete this.schemas[n],delete this.refs[n]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(let t of e)this.addKeyword(t);return this}addKeyword(e,t){let n;if(typeof e=="string")n=e,typeof t=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),t.keyword=n);else if(typeof e=="object"&&t===void 0){if(t=e,n=t.keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(fL.call(this,n,t),!t)return(0,mf.eachItem)(n,i=>vf.call(this,i)),this;dL.call(this,t);let s={...t,type:(0,po.getJSONTypes)(t.type),schemaType:(0,po.getJSONTypes)(t.schemaType)};return(0,mf.eachItem)(n,s.type.length===0?i=>vf.call(this,i,s):i=>s.type.forEach(a=>vf.call(this,i,s,a))),this}getKeyword(e){let t=this.RULES.all[e];return typeof t=="object"?t.definition:!!t}removeKeyword(e){let{RULES:t}=this;delete t.keywords[e],delete t.all[e];for(let n of t.rules){let s=n.rules.findIndex(i=>i.keyword===e);s>=0&&n.rules.splice(s,1)}return this}addFormat(e,t){return typeof t=="string"&&(t=new RegExp(t)),this.formats[e]=t,this}errorsText(e=this.errors,{separator:t=", ",dataVar:n="data"}={}){return!e||e.length===0?"No errors":e.map(s=>`${n}${s.instancePath} ${s.message}`).reduce((s,i)=>s+t+i)}$dataMetaSchema(e,t){let n=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(let s of t){let i=s.split("/").slice(1),a=e;for(let o of i)a=a[o];for(let o in n){let c=n[o];if(typeof c!="object")continue;let{$data:d}=c.definition,u=a[o];d&&u&&(a[o]=m_(u))}}return e}_removeAllSchemas(e,t){for(let n in e){let s=e[n];(!t||t.test(n))&&(typeof s=="string"?delete e[n]:s&&!s.meta&&(this._cache.delete(s.schema),delete e[n]))}}_addSchema(e,t,n,s=this.opts.validateSchema,i=this.opts.addUsedSchema){let a,{schemaId:o}=this.opts;if(typeof e=="object")a=e[o];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof e!="boolean")throw new Error("schema must be object or boolean")}let c=this._cache.get(e);if(c!==void 0)return c;n=(0,oi.normalizeId)(a||n);let d=oi.getSchemaRefs.call(this,e,n);return c=new ai.SchemaEnv({schema:e,schemaId:o,meta:t,baseId:n,localRefs:d}),this._cache.set(c.schema,c),i&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=c),s&&this.validateSchema(e,!0),c}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):ai.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){let t=this.opts;this.opts=this._metaOpts;try{ai.compileSchema.call(this,e)}finally{this.opts=t}}};Ye.default=mo;mo.ValidationError=YD.default;mo.MissingRefError=c_.default;function d_(r,e,t,n="error"){for(let s in r){let i=s;i in e&&this.logger[n](`${t}: option ${s}. ${r[i]}`)}}function p_(r){return r=(0,oi.normalizeId)(r),this.schemas[r]||this.refs[r]}function nL(){let r=this.opts.schemas;if(!!r)if(Array.isArray(r))this.addSchema(r);else for(let e in r)this.addSchema(r[e],e)}function iL(){for(let r in this.opts.formats){let e=this.opts.formats[r];e&&this.addFormat(r,e)}}function aL(r){if(Array.isArray(r)){this.addVocabulary(r);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let e in r){let t=r[e];t.keyword||(t.keyword=e),this.addKeyword(t)}}function oL(){let r={...this.opts};for(let e of ZD)delete r[e];return r}var lL={log(){},warn(){},error(){}};function uL(r){if(r===!1)return lL;if(r===void 0)return console;if(r.log&&r.warn&&r.error)return r;throw new Error("logger must implement log, warn and error methods")}var cL=/^[a-z_$][a-z0-9_$:-]*$/i;function fL(r,e){let{RULES:t}=this;if((0,mf.eachItem)(r,n=>{if(t.keywords[n])throw new Error(`Keyword ${n} is already defined`);if(!cL.test(n))throw new Error(`Keyword ${n} has invalid name`)}),!!e&&e.$data&&!("code"in e||"validate"in e))throw new Error('$data keyword must have "code" or "validate" function')}function vf(r,e,t){var n;let s=e==null?void 0:e.post;if(t&&s)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:i}=this,a=s?i.post:i.rules.find(({type:c})=>c===t);if(a||(a={type:t,rules:[]},i.rules.push(a)),i.keywords[r]=!0,!e)return;let o={keyword:r,definition:{...e,type:(0,po.getJSONTypes)(e.type),schemaType:(0,po.getJSONTypes)(e.schemaType)}};e.before?hL.call(this,a,o,e.before):a.rules.push(o),i.all[r]=o,(n=e.implements)===null||n===void 0||n.forEach(c=>this.addKeyword(c))}function hL(r,e,t){let n=r.rules.findIndex(s=>s.keyword===t);n>=0?r.rules.splice(n,0,e):(r.rules.push(e),this.logger.warn(`rule ${t} is not defined`))}function dL(r){let{metaSchema:e}=r;e!==void 0&&(r.$data&&this.opts.$data&&(e=m_(e)),r.validateSchema=this.compile(e,!0))}var pL={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function m_(r){return{anyOf:[r,pL]}}});var y_=E(yf=>{"use strict";Object.defineProperty(yf,"__esModule",{value:!0});var mL={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};yf.default=mL});var w_=E(us=>{"use strict";Object.defineProperty(us,"__esModule",{value:!0});us.callRef=us.getValidate=void 0;var vL=ff(),g_=Ar(),pr=ie(),en=ft(),b_=pf(),vo=ge(),yL={keyword:"$ref",schemaType:"string",code(r){let{gen:e,schema:t,it:n}=r,{baseId:s,schemaEnv:i,validateName:a,opts:o,self:c}=n,{root:d}=i;if((t==="#"||t==="#/")&&s===d.baseId)return h();let u=b_.resolveRef.call(c,d,s,t);if(u===void 0)throw new vL.default(s,t);if(u instanceof b_.SchemaEnv)return f(u);return l(u);function h(){if(i===d)return yo(r,a,i,i.$async);let v=e.scopeValue("root",{ref:d});return yo(r,(0,pr._)`${v}.validate`,d,d.$async)}function f(v){let m=E_(r,v);yo(r,m,v,v.$async)}function l(v){let m=e.scopeValue("schema",o.code.source===!0?{ref:v,code:(0,pr.stringify)(v)}:{ref:v}),p=e.name("valid"),y=r.subschema({schema:v,dataTypes:[],schemaPath:pr.nil,topSchemaRef:m,errSchemaPath:t},p);r.mergeEvaluated(y),r.ok(p)}}};function E_(r,e){let{gen:t}=r;return e.validate?t.scopeValue("validate",{ref:e.validate}):(0,pr._)`${t.scopeValue("wrapper",{ref:e})}.validate`}us.getValidate=E_;function yo(r,e,t,n){let{gen:s,it:i}=r,{allErrors:a,schemaEnv:o,opts:c}=i,d=c.passContext?en.default.this:pr.nil;n?u():h();function u(){if(!o.$async)throw new Error("async schema referenced by sync schema");let v=s.let("valid");s.try(()=>{s.code((0,pr._)`await ${(0,g_.callValidateCode)(r,e,d)}`),l(e),a||s.assign(v,!0)},m=>{s.if((0,pr._)`!(${m} instanceof ${i.ValidationError})`,()=>s.throw(m)),f(m),a||s.assign(v,!1)}),r.ok(v)}function h(){r.result((0,g_.callValidateCode)(r,e,d),()=>l(e),()=>f(e))}function f(v){let m=(0,pr._)`${v}.errors`;s.assign(en.default.vErrors,(0,pr._)`${en.default.vErrors} === null ? ${m} : ${en.default.vErrors}.concat(${m})`),s.assign(en.default.errors,(0,pr._)`${en.default.vErrors}.length`)}function l(v){var m;if(!i.opts.unevaluated)return;let p=(m=t==null?void 0:t.validate)===null||m===void 0?void 0:m.evaluated;if(i.props!==!0)if(p&&!p.dynamicProps)p.props!==void 0&&(i.props=vo.mergeEvaluated.props(s,p.props,i.props));else{let y=s.var("props",(0,pr._)`${v}.evaluated.props`);i.props=vo.mergeEvaluated.props(s,y,i.props,pr.Name)}if(i.items!==!0)if(p&&!p.dynamicItems)p.items!==void 0&&(i.items=vo.mergeEvaluated.items(s,p.items,i.items));else{let y=s.var("items",(0,pr._)`${v}.evaluated.items`);i.items=vo.mergeEvaluated.items(s,y,i.items,pr.Name)}}}us.callRef=yo;us.default=yL});var __=E(gf=>{"use strict";Object.defineProperty(gf,"__esModule",{value:!0});var gL=y_(),bL=w_(),EL=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",gL.default,bL.default];gf.default=EL});var S_=E(bf=>{"use strict";Object.defineProperty(bf,"__esModule",{value:!0});var go=ie(),At=go.operators,bo={maximum:{okStr:"<=",ok:At.LTE,fail:At.GT},minimum:{okStr:">=",ok:At.GTE,fail:At.LT},exclusiveMaximum:{okStr:"<",ok:At.LT,fail:At.GTE},exclusiveMinimum:{okStr:">",ok:At.GT,fail:At.LTE}},wL={message:({keyword:r,schemaCode:e})=>(0,go.str)`must be ${bo[r].okStr} ${e}`,params:({keyword:r,schemaCode:e})=>(0,go._)`{comparison: ${bo[r].okStr}, limit: ${e}}`},_L={keyword:Object.keys(bo),type:"number",schemaType:"number",$data:!0,error:wL,code(r){let{keyword:e,data:t,schemaCode:n}=r;r.fail$data((0,go._)`${t} ${bo[e].fail} ${n} || isNaN(${t})`)}};bf.default=_L});var P_=E(Ef=>{"use strict";Object.defineProperty(Ef,"__esModule",{value:!0});var li=ie(),SL={message:({schemaCode:r})=>(0,li.str)`must be multiple of ${r}`,params:({schemaCode:r})=>(0,li._)`{multipleOf: ${r}}`},PL={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:SL,code(r){let{gen:e,data:t,schemaCode:n,it:s}=r,i=s.opts.multipleOfPrecision,a=e.let("res"),o=i?(0,li._)`Math.abs(Math.round(${a}) - ${a}) > 1e-${i}`:(0,li._)`${a} !== parseInt(${a})`;r.fail$data((0,li._)`(${n} === 0 || (${a} = ${t}/${n}, ${o}))`)}};Ef.default=PL});var R_=E(wf=>{"use strict";Object.defineProperty(wf,"__esModule",{value:!0});function $_(r){let e=r.length,t=0,n=0,s;for(;n<e;)t++,s=r.charCodeAt(n++),s>=55296&&s<=56319&&n<e&&(s=r.charCodeAt(n),(s&64512)==56320&&n++);return t}wf.default=$_;$_.code='require("ajv/dist/runtime/ucs2length").default'});var O_=E(_f=>{"use strict";Object.defineProperty(_f,"__esModule",{value:!0});var cs=ie(),$L=ge(),RL=R_(),OL={message({keyword:r,schemaCode:e}){let t=r==="maxLength"?"more":"fewer";return(0,cs.str)`must NOT have ${t} than ${e} characters`},params:({schemaCode:r})=>(0,cs._)`{limit: ${r}}`},TL={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:OL,code(r){let{keyword:e,data:t,schemaCode:n,it:s}=r,i=e==="maxLength"?cs.operators.GT:cs.operators.LT,a=s.opts.unicode===!1?(0,cs._)`${t}.length`:(0,cs._)`${(0,$L.useFunc)(r.gen,RL.default)}(${t})`;r.fail$data((0,cs._)`${a} ${i} ${n}`)}};_f.default=TL});var T_=E(Sf=>{"use strict";Object.defineProperty(Sf,"__esModule",{value:!0});var IL=Ar(),Eo=ie(),CL={message:({schemaCode:r})=>(0,Eo.str)`must match pattern "${r}"`,params:({schemaCode:r})=>(0,Eo._)`{pattern: ${r}}`},AL={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:CL,code(r){let{data:e,$data:t,schema:n,schemaCode:s,it:i}=r,a=i.opts.unicodeRegExp?"u":"",o=t?(0,Eo._)`(new RegExp(${s}, ${a}))`:(0,IL.usePattern)(r,n);r.fail$data((0,Eo._)`!${o}.test(${e})`)}};Sf.default=AL});var I_=E(Pf=>{"use strict";Object.defineProperty(Pf,"__esModule",{value:!0});var ui=ie(),NL={message({keyword:r,schemaCode:e}){let t=r==="maxProperties"?"more":"fewer";return(0,ui.str)`must NOT have ${t} than ${e} items`},params:({schemaCode:r})=>(0,ui._)`{limit: ${r}}`},qL={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:NL,code(r){let{keyword:e,data:t,schemaCode:n}=r,s=e==="maxProperties"?ui.operators.GT:ui.operators.LT;r.fail$data((0,ui._)`Object.keys(${t}).length ${s} ${n}`)}};Pf.default=qL});var C_=E($f=>{"use strict";Object.defineProperty($f,"__esModule",{value:!0});var ci=Ar(),fi=ie(),jL=ge(),xL={message:({params:{missingProperty:r}})=>(0,fi.str)`must have required property '${r}'`,params:({params:{missingProperty:r}})=>(0,fi._)`{missingProperty: ${r}}`},kL={keyword:"required",type:"object",schemaType:"array",$data:!0,error:xL,code(r){let{gen:e,schema:t,schemaCode:n,data:s,$data:i,it:a}=r,{opts:o}=a;if(!i&&t.length===0)return;let c=t.length>=o.loopRequired;if(a.allErrors?d():u(),o.strictRequired){let l=r.parentSchema.properties,{definedProperties:v}=r.it;for(let m of t)if((l==null?void 0:l[m])===void 0&&!v.has(m)){let p=a.schemaEnv.baseId+a.errSchemaPath,y=`required property "${m}" is not defined at "${p}" (strictRequired)`;(0,jL.checkStrictMode)(a,y,a.opts.strictRequired)}}function d(){if(c||i)r.block$data(fi.nil,h);else for(let l of t)(0,ci.checkReportMissingProp)(r,l)}function u(){let l=e.let("missing");if(c||i){let v=e.let("valid",!0);r.block$data(v,()=>f(l,v)),r.ok(v)}else e.if((0,ci.checkMissingProp)(r,t,l)),(0,ci.reportMissingProp)(r,l),e.else()}function h(){e.forOf("prop",n,l=>{r.setParams({missingProperty:l}),e.if((0,ci.noPropertyInData)(e,s,l,o.ownProperties),()=>r.error())})}function f(l,v){r.setParams({missingProperty:l}),e.forOf(l,n,()=>{e.assign(v,(0,ci.propertyInData)(e,s,l,o.ownProperties)),e.if((0,fi.not)(v),()=>{r.error(),e.break()})},fi.nil)}}};$f.default=kL});var A_=E(Rf=>{"use strict";Object.defineProperty(Rf,"__esModule",{value:!0});var hi=ie(),DL={message({keyword:r,schemaCode:e}){let t=r==="maxItems"?"more":"fewer";return(0,hi.str)`must NOT have ${t} than ${e} items`},params:({schemaCode:r})=>(0,hi._)`{limit: ${r}}`},LL={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:DL,code(r){let{keyword:e,data:t,schemaCode:n}=r,s=e==="maxItems"?hi.operators.GT:hi.operators.LT;r.fail$data((0,hi._)`${t}.length ${s} ${n}`)}};Rf.default=LL});var wo=E(Of=>{"use strict";Object.defineProperty(Of,"__esModule",{value:!0});var N_=pt();N_.code='require("ajv/dist/runtime/equal").default';Of.default=N_});var q_=E(If=>{"use strict";Object.defineProperty(If,"__esModule",{value:!0});var Tf=ei(),We=ie(),FL=ge(),ML=wo(),HL={message:({params:{i:r,j:e}})=>(0,We.str)`must NOT have duplicate items (items ## ${e} and ${r} are identical)`,params:({params:{i:r,j:e}})=>(0,We._)`{i: ${r}, j: ${e}}`},VL={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:HL,code(r){let{gen:e,data:t,$data:n,schema:s,parentSchema:i,schemaCode:a,it:o}=r;if(!n&&!s)return;let c=e.let("valid"),d=i.items?(0,Tf.getSchemaTypes)(i.items):[];r.block$data(c,u,(0,We._)`${a} === false`),r.ok(c);function u(){let v=e.let("i",(0,We._)`${t}.length`),m=e.let("j");r.setParams({i:v,j:m}),e.assign(c,!0),e.if((0,We._)`${v} > 1`,()=>(h()?f:l)(v,m))}function h(){return d.length>0&&!d.some(v=>v==="object"||v==="array")}function f(v,m){let p=e.name("item"),y=(0,Tf.checkDataTypes)(d,p,o.opts.strictNumbers,Tf.DataType.Wrong),S=e.const("indices",(0,We._)`{}`);e.for((0,We._)`;${v}--;`,()=>{e.let(p,(0,We._)`${t}[${v}]`),e.if(y,(0,We._)`continue`),d.length>1&&e.if((0,We._)`typeof ${p} == "string"`,(0,We._)`${p} += "_"`),e.if((0,We._)`typeof ${S}[${p}] == "number"`,()=>{e.assign(m,(0,We._)`${S}[${p}]`),r.error(),e.assign(c,!1).break()}).code((0,We._)`${S}[${p}] = ${v}`)})}function l(v,m){let p=(0,FL.useFunc)(e,ML.default),y=e.name("outer");e.label(y).for((0,We._)`;${v}--;`,()=>e.for((0,We._)`${m} = ${v}; ${m}--;`,()=>e.if((0,We._)`${p}(${t}[${v}], ${t}[${m}])`,()=>{r.error(),e.assign(c,!1).break(y)})))}}};If.default=VL});var j_=E(Af=>{"use strict";Object.defineProperty(Af,"__esModule",{value:!0});var Cf=ie(),zL=ge(),UL=wo(),BL={message:"must be equal to constant",params:({schemaCode:r})=>(0,Cf._)`{allowedValue: ${r}}`},GL={keyword:"const",$data:!0,error:BL,code(r){let{gen:e,data:t,$data:n,schemaCode:s,schema:i}=r;n||i&&typeof i=="object"?r.fail$data((0,Cf._)`!${(0,zL.useFunc)(e,UL.default)}(${t}, ${s})`):r.fail((0,Cf._)`${i} !== ${t}`)}};Af.default=GL});var x_=E(Nf=>{"use strict";Object.defineProperty(Nf,"__esModule",{value:!0});var di=ie(),KL=ge(),JL=wo(),QL={message:"must be equal to one of the allowed values",params:({schemaCode:r})=>(0,di._)`{allowedValues: ${r}}`},YL={keyword:"enum",schemaType:"array",$data:!0,error:QL,code(r){let{gen:e,data:t,$data:n,schema:s,schemaCode:i,it:a}=r;if(!n&&s.length===0)throw new Error("enum must have non-empty array");let o=s.length>=a.opts.loopEnum,c=(0,KL.useFunc)(e,JL.default),d;if(o||n)d=e.let("valid"),r.block$data(d,u);else{if(!Array.isArray(s))throw new Error("ajv implementation error");let f=e.const("vSchema",i);d=(0,di.or)(...s.map((l,v)=>h(f,v)))}r.pass(d);function u(){e.assign(d,!1),e.forOf("v",i,f=>e.if((0,di._)`${c}(${t}, ${f})`,()=>e.assign(d,!0).break()))}function h(f,l){let v=s[l];return typeof v=="object"&&v!==null?(0,di._)`${c}(${t}, ${f}[${l}])`:(0,di._)`${t} === ${v}`}}};Nf.default=YL});var k_=E(qf=>{"use strict";Object.defineProperty(qf,"__esModule",{value:!0});var WL=S_(),XL=P_(),ZL=O_(),eF=T_(),rF=I_(),tF=C_(),sF=A_(),nF=q_(),iF=j_(),aF=x_(),oF=[WL.default,XL.default,ZL.default,eF.default,rF.default,tF.default,sF.default,nF.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},iF.default,aF.default];qf.default=oF});var xf=E(pi=>{"use strict";Object.defineProperty(pi,"__esModule",{value:!0});pi.validateAdditionalItems=void 0;var fs=ie(),jf=ge(),lF={message:({params:{len:r}})=>(0,fs.str)`must NOT have more than ${r} items`,params:({params:{len:r}})=>(0,fs._)`{limit: ${r}}`},uF={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:lF,code(r){let{parentSchema:e,it:t}=r,{items:n}=e;if(!Array.isArray(n)){(0,jf.checkStrictMode)(t,'"additionalItems" is ignored when "items" is not an array of schemas');return}D_(r,n)}};function D_(r,e){let{gen:t,schema:n,data:s,keyword:i,it:a}=r;a.items=!0;let o=t.const("len",(0,fs._)`${s}.length`);if(n===!1)r.setParams({len:e.length}),r.pass((0,fs._)`${o} <= ${e.length}`);else if(typeof n=="object"&&!(0,jf.alwaysValidSchema)(a,n)){let d=t.var("valid",(0,fs._)`${o} <= ${e.length}`);t.if((0,fs.not)(d),()=>c(d)),r.ok(d)}function c(d){t.forRange("i",e.length,o,u=>{r.subschema({keyword:i,dataProp:u,dataPropType:jf.Type.Num},d),a.allErrors||t.if((0,fs.not)(d),()=>t.break())})}}pi.validateAdditionalItems=D_;pi.default=uF});var kf=E(mi=>{"use strict";Object.defineProperty(mi,"__esModule",{value:!0});mi.validateTuple=void 0;var L_=ie(),_o=ge(),cF=Ar(),fF={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(r){let{schema:e,it:t}=r;if(Array.isArray(e))return F_(r,"additionalItems",e);t.items=!0,!(0,_o.alwaysValidSchema)(t,e)&&r.ok((0,cF.validateArray)(r))}};function F_(r,e,t=r.schema){let{gen:n,parentSchema:s,data:i,keyword:a,it:o}=r;u(s),o.opts.unevaluated&&t.length&&o.items!==!0&&(o.items=_o.mergeEvaluated.items(n,t.length,o.items));let c=n.name("valid"),d=n.const("len",(0,L_._)`${i}.length`);t.forEach((h,f)=>{(0,_o.alwaysValidSchema)(o,h)||(n.if((0,L_._)`${d} > ${f}`,()=>r.subschema({keyword:a,schemaProp:f,dataProp:f},c)),r.ok(c))});function u(h){let{opts:f,errSchemaPath:l}=o,v=t.length,m=v===h.minItems&&(v===h.maxItems||h[e]===!1);if(f.strictTuples&&!m){let p=`"${a}" is ${v}-tuple, but minItems or maxItems/${e} are not specified or different at path "${l}"`;(0,_o.checkStrictMode)(o,p,f.strictTuples)}}}mi.validateTuple=F_;mi.default=fF});var M_=E(Df=>{"use strict";Object.defineProperty(Df,"__esModule",{value:!0});var hF=kf(),dF={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:r=>(0,hF.validateTuple)(r,"items")};Df.default=dF});var V_=E(Lf=>{"use strict";Object.defineProperty(Lf,"__esModule",{value:!0});var H_=ie(),pF=ge(),mF=Ar(),vF=xf(),yF={message:({params:{len:r}})=>(0,H_.str)`must NOT have more than ${r} items`,params:({params:{len:r}})=>(0,H_._)`{limit: ${r}}`},gF={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:yF,code(r){let{schema:e,parentSchema:t,it:n}=r,{prefixItems:s}=t;n.items=!0,!(0,pF.alwaysValidSchema)(n,e)&&(s?(0,vF.validateAdditionalItems)(r,s):r.ok((0,mF.validateArray)(r)))}};Lf.default=gF});var z_=E(Ff=>{"use strict";Object.defineProperty(Ff,"__esModule",{value:!0});var Fr=ie(),So=ge(),bF={message:({params:{min:r,max:e}})=>e===void 0?(0,Fr.str)`must contain at least ${r} valid item(s)`:(0,Fr.str)`must contain at least ${r} and no more than ${e} valid item(s)`,params:({params:{min:r,max:e}})=>e===void 0?(0,Fr._)`{minContains: ${r}}`:(0,Fr._)`{minContains: ${r}, maxContains: ${e}}`},EF={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:bF,code(r){let{gen:e,schema:t,parentSchema:n,data:s,it:i}=r,a,o,{minContains:c,maxContains:d}=n;i.opts.next?(a=c===void 0?1:c,o=d):a=1;let u=e.const("len",(0,Fr._)`${s}.length`);if(r.setParams({min:a,max:o}),o===void 0&&a===0){(0,So.checkStrictMode)(i,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(o!==void 0&&a>o){(0,So.checkStrictMode)(i,'"minContains" > "maxContains" is always invalid'),r.fail();return}if((0,So.alwaysValidSchema)(i,t)){let v=(0,Fr._)`${u} >= ${a}`;o!==void 0&&(v=(0,Fr._)`${v} && ${u} <= ${o}`),r.pass(v);return}i.items=!0;let h=e.name("valid");if(o===void 0&&a===1)f(h,()=>e.if(h,()=>e.break()));else{e.let(h,!1);let v=e.name("_valid"),m=e.let("count",0);f(v,()=>e.if(v,()=>l(m)))}r.result(h,()=>r.reset());function f(v,m){e.forRange("i",0,u,p=>{r.subschema({keyword:"contains",dataProp:p,dataPropType:So.Type.Num,compositeRule:!0},v),m()})}function l(v){e.code((0,Fr._)`${v}++`),o===void 0?e.if((0,Fr._)`${v} >= ${a}`,()=>e.assign(h,!0).break()):(e.if((0,Fr._)`${v} > ${o}`,()=>e.assign(h,!1).break()),a===1?e.assign(h,!0):e.if((0,Fr._)`${v} >= ${a}`,()=>e.assign(h,!0)))}}};Ff.default=EF});var G_=E(rt=>{"use strict";Object.defineProperty(rt,"__esModule",{value:!0});rt.validateSchemaDeps=rt.validatePropertyDeps=rt.error=void 0;var Mf=ie(),wF=ge(),vi=Ar();rt.error={message:({params:{property:r,depsCount:e,deps:t}})=>{let n=e===1?"property":"properties";return(0,Mf.str)`must have ${n} ${t} when property ${r} is present`},params:({params:{property:r,depsCount:e,deps:t,missingProperty:n}})=>(0,Mf._)`{property: ${r},
    missingProperty: ${n},
    depsCount: ${e},
    deps: ${t}}`};var _F={keyword:"dependencies",type:"object",schemaType:"object",error:rt.error,code(r){let[e,t]=SF(r);U_(r,e),B_(r,t)}};function SF({schema:r}){let e={},t={};for(let n in r){if(n==="__proto__")continue;let s=Array.isArray(r[n])?e:t;s[n]=r[n]}return[e,t]}function U_(r,e=r.schema){let{gen:t,data:n,it:s}=r;if(Object.keys(e).length===0)return;let i=t.let("missing");for(let a in e){let o=e[a];if(o.length===0)continue;let c=(0,vi.propertyInData)(t,n,a,s.opts.ownProperties);r.setParams({property:a,depsCount:o.length,deps:o.join(", ")}),s.allErrors?t.if(c,()=>{for(let d of o)(0,vi.checkReportMissingProp)(r,d)}):(t.if((0,Mf._)`${c} && (${(0,vi.checkMissingProp)(r,o,i)})`),(0,vi.reportMissingProp)(r,i),t.else())}}rt.validatePropertyDeps=U_;function B_(r,e=r.schema){let{gen:t,data:n,keyword:s,it:i}=r,a=t.name("valid");for(let o in e)(0,wF.alwaysValidSchema)(i,e[o])||(t.if((0,vi.propertyInData)(t,n,o,i.opts.ownProperties),()=>{let c=r.subschema({keyword:s,schemaProp:o},a);r.mergeValidEvaluated(c,a)},()=>t.var(a,!0)),r.ok(a))}rt.validateSchemaDeps=B_;rt.default=_F});var J_=E(Hf=>{"use strict";Object.defineProperty(Hf,"__esModule",{value:!0});var K_=ie(),PF=ge(),$F={message:"property name must be valid",params:({params:r})=>(0,K_._)`{propertyName: ${r.propertyName}}`},RF={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:$F,code(r){let{gen:e,schema:t,data:n,it:s}=r;if((0,PF.alwaysValidSchema)(s,t))return;let i=e.name("valid");e.forIn("key",n,a=>{r.setParams({propertyName:a}),r.subschema({keyword:"propertyNames",data:a,dataTypes:["string"],propertyName:a,compositeRule:!0},i),e.if((0,K_.not)(i),()=>{r.error(!0),s.allErrors||e.break()})}),r.ok(i)}};Hf.default=RF});var zf=E(Vf=>{"use strict";Object.defineProperty(Vf,"__esModule",{value:!0});var Po=Ar(),Mr=ie(),OF=ft(),$o=ge(),TF={message:"must NOT have additional properties",params:({params:r})=>(0,Mr._)`{additionalProperty: ${r.additionalProperty}}`},IF={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:TF,code(r){let{gen:e,schema:t,parentSchema:n,data:s,errsCount:i,it:a}=r;if(!i)throw new Error("ajv implementation error");let{allErrors:o,opts:c}=a;if(a.props=!0,c.removeAdditional!=="all"&&(0,$o.alwaysValidSchema)(a,t))return;let d=(0,Po.allSchemaProperties)(n.properties),u=(0,Po.allSchemaProperties)(n.patternProperties);h(),r.ok((0,Mr._)`${i} === ${OF.default.errors}`);function h(){e.forIn("key",s,p=>{!d.length&&!u.length?v(p):e.if(f(p),()=>v(p))})}function f(p){let y;if(d.length>8){let S=(0,$o.schemaRefOrVal)(a,n.properties,"properties");y=(0,Po.isOwnProperty)(e,S,p)}else d.length?y=(0,Mr.or)(...d.map(S=>(0,Mr._)`${p} === ${S}`)):y=Mr.nil;return u.length&&(y=(0,Mr.or)(y,...u.map(S=>(0,Mr._)`${(0,Po.usePattern)(r,S)}.test(${p})`))),(0,Mr.not)(y)}function l(p){e.code((0,Mr._)`delete ${s}[${p}]`)}function v(p){if(c.removeAdditional==="all"||c.removeAdditional&&t===!1){l(p);return}if(t===!1){r.setParams({additionalProperty:p}),r.error(),o||e.break();return}if(typeof t=="object"&&!(0,$o.alwaysValidSchema)(a,t)){let y=e.name("valid");c.removeAdditional==="failing"?(m(p,y,!1),e.if((0,Mr.not)(y),()=>{r.reset(),l(p)})):(m(p,y),o||e.if((0,Mr.not)(y),()=>e.break()))}}function m(p,y,S){let $={keyword:"additionalProperties",dataProp:p,dataPropType:$o.Type.Str};S===!1&&Object.assign($,{compositeRule:!0,createErrors:!1,allErrors:!1}),r.subschema($,y)}}};Vf.default=IF});var W_=E(Bf=>{"use strict";Object.defineProperty(Bf,"__esModule",{value:!0});var CF=ni(),Q_=Ar(),Uf=ge(),Y_=zf(),AF={keyword:"properties",type:"object",schemaType:"object",code(r){let{gen:e,schema:t,parentSchema:n,data:s,it:i}=r;i.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&Y_.default.code(new CF.KeywordCxt(i,Y_.default,"additionalProperties"));let a=(0,Q_.allSchemaProperties)(t);for(let h of a)i.definedProperties.add(h);i.opts.unevaluated&&a.length&&i.props!==!0&&(i.props=Uf.mergeEvaluated.props(e,(0,Uf.toHash)(a),i.props));let o=a.filter(h=>!(0,Uf.alwaysValidSchema)(i,t[h]));if(o.length===0)return;let c=e.name("valid");for(let h of o)d(h)?u(h):(e.if((0,Q_.propertyInData)(e,s,h,i.opts.ownProperties)),u(h),i.allErrors||e.else().var(c,!0),e.endIf()),r.it.definedProperties.add(h),r.ok(c);function d(h){return i.opts.useDefaults&&!i.compositeRule&&t[h].default!==void 0}function u(h){r.subschema({keyword:"properties",schemaProp:h,dataProp:h},c)}}};Bf.default=AF});var rS=E(Gf=>{"use strict";Object.defineProperty(Gf,"__esModule",{value:!0});var X_=Ar(),Ro=ie(),Z_=ge(),eS=ge(),NF={keyword:"patternProperties",type:"object",schemaType:"object",code(r){let{gen:e,schema:t,data:n,parentSchema:s,it:i}=r,{opts:a}=i,o=(0,X_.allSchemaProperties)(t),c=o.filter(m=>(0,Z_.alwaysValidSchema)(i,t[m]));if(o.length===0||c.length===o.length&&(!i.opts.unevaluated||i.props===!0))return;let d=a.strictSchema&&!a.allowMatchingProperties&&s.properties,u=e.name("valid");i.props!==!0&&!(i.props instanceof Ro.Name)&&(i.props=(0,eS.evaluatedPropsToName)(e,i.props));let{props:h}=i;f();function f(){for(let m of o)d&&l(m),i.allErrors?v(m):(e.var(u,!0),v(m),e.if(u))}function l(m){for(let p in d)new RegExp(m).test(p)&&(0,Z_.checkStrictMode)(i,`property ${p} matches pattern ${m} (use allowMatchingProperties)`)}function v(m){e.forIn("key",n,p=>{e.if((0,Ro._)`${(0,X_.usePattern)(r,m)}.test(${p})`,()=>{let y=c.includes(m);y||r.subschema({keyword:"patternProperties",schemaProp:m,dataProp:p,dataPropType:eS.Type.Str},u),i.opts.unevaluated&&h!==!0?e.assign((0,Ro._)`${h}[${p}]`,!0):!y&&!i.allErrors&&e.if((0,Ro.not)(u),()=>e.break())})})}}};Gf.default=NF});var tS=E(Kf=>{"use strict";Object.defineProperty(Kf,"__esModule",{value:!0});var qF=ge(),jF={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(r){let{gen:e,schema:t,it:n}=r;if((0,qF.alwaysValidSchema)(n,t)){r.fail();return}let s=e.name("valid");r.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),r.failResult(s,()=>r.reset(),()=>r.error())},error:{message:"must NOT be valid"}};Kf.default=jF});var sS=E(Jf=>{"use strict";Object.defineProperty(Jf,"__esModule",{value:!0});var xF=Ar(),kF={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:xF.validateUnion,error:{message:"must match a schema in anyOf"}};Jf.default=kF});var nS=E(Qf=>{"use strict";Object.defineProperty(Qf,"__esModule",{value:!0});var Oo=ie(),DF=ge(),LF={message:"must match exactly one schema in oneOf",params:({params:r})=>(0,Oo._)`{passingSchemas: ${r.passing}}`},FF={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:LF,code(r){let{gen:e,schema:t,parentSchema:n,it:s}=r;if(!Array.isArray(t))throw new Error("ajv implementation error");if(s.opts.discriminator&&n.discriminator)return;let i=t,a=e.let("valid",!1),o=e.let("passing",null),c=e.name("_valid");r.setParams({passing:o}),e.block(d),r.result(a,()=>r.reset(),()=>r.error(!0));function d(){i.forEach((u,h)=>{let f;(0,DF.alwaysValidSchema)(s,u)?e.var(c,!0):f=r.subschema({keyword:"oneOf",schemaProp:h,compositeRule:!0},c),h>0&&e.if((0,Oo._)`${c} && ${a}`).assign(a,!1).assign(o,(0,Oo._)`[${o}, ${h}]`).else(),e.if(c,()=>{e.assign(a,!0),e.assign(o,h),f&&r.mergeEvaluated(f,Oo.Name)})})}}};Qf.default=FF});var iS=E(Yf=>{"use strict";Object.defineProperty(Yf,"__esModule",{value:!0});var MF=ge(),HF={keyword:"allOf",schemaType:"array",code(r){let{gen:e,schema:t,it:n}=r;if(!Array.isArray(t))throw new Error("ajv implementation error");let s=e.name("valid");t.forEach((i,a)=>{if((0,MF.alwaysValidSchema)(n,i))return;let o=r.subschema({keyword:"allOf",schemaProp:a},s);r.ok(s),r.mergeEvaluated(o)})}};Yf.default=HF});var lS=E(Wf=>{"use strict";Object.defineProperty(Wf,"__esModule",{value:!0});var To=ie(),aS=ge(),VF={message:({params:r})=>(0,To.str)`must match "${r.ifClause}" schema`,params:({params:r})=>(0,To._)`{failingKeyword: ${r.ifClause}}`},zF={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:VF,code(r){let{gen:e,parentSchema:t,it:n}=r;t.then===void 0&&t.else===void 0&&(0,aS.checkStrictMode)(n,'"if" without "then" and "else" is ignored');let s=oS(n,"then"),i=oS(n,"else");if(!s&&!i)return;let a=e.let("valid",!0),o=e.name("_valid");if(c(),r.reset(),s&&i){let u=e.let("ifClause");r.setParams({ifClause:u}),e.if(o,d("then",u),d("else",u))}else s?e.if(o,d("then")):e.if((0,To.not)(o),d("else"));r.pass(a,()=>r.error(!0));function c(){let u=r.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},o);r.mergeEvaluated(u)}function d(u,h){return()=>{let f=r.subschema({keyword:u},o);e.assign(a,o),r.mergeValidEvaluated(f,a),h?e.assign(h,(0,To._)`${u}`):r.setParams({ifClause:u})}}}};function oS(r,e){let t=r.schema[e];return t!==void 0&&!(0,aS.alwaysValidSchema)(r,t)}Wf.default=zF});var uS=E(Xf=>{"use strict";Object.defineProperty(Xf,"__esModule",{value:!0});var UF=ge(),BF={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:r,parentSchema:e,it:t}){e.if===void 0&&(0,UF.checkStrictMode)(t,`"${r}" without "if" is ignored`)}};Xf.default=BF});var cS=E(Zf=>{"use strict";Object.defineProperty(Zf,"__esModule",{value:!0});var GF=xf(),KF=M_(),JF=kf(),QF=V_(),YF=z_(),WF=G_(),XF=J_(),ZF=zf(),e2=W_(),r2=rS(),t2=tS(),s2=sS(),n2=nS(),i2=iS(),a2=lS(),o2=uS();function l2(r=!1){let e=[t2.default,s2.default,n2.default,i2.default,a2.default,o2.default,XF.default,ZF.default,WF.default,e2.default,r2.default];return r?e.push(KF.default,QF.default):e.push(GF.default,JF.default),e.push(YF.default),e}Zf.default=l2});var fS=E(eh=>{"use strict";Object.defineProperty(eh,"__esModule",{value:!0});var ke=ie(),u2={message:({schemaCode:r})=>(0,ke.str)`must match format "${r}"`,params:({schemaCode:r})=>(0,ke._)`{format: ${r}}`},c2={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:u2,code(r,e){let{gen:t,data:n,$data:s,schema:i,schemaCode:a,it:o}=r,{opts:c,errSchemaPath:d,schemaEnv:u,self:h}=o;if(!c.validateFormats)return;s?f():l();function f(){let v=t.scopeValue("formats",{ref:h.formats,code:c.code.formats}),m=t.const("fDef",(0,ke._)`${v}[${a}]`),p=t.let("fType"),y=t.let("format");t.if((0,ke._)`typeof ${m} == "object" && !(${m} instanceof RegExp)`,()=>t.assign(p,(0,ke._)`${m}.type || "string"`).assign(y,(0,ke._)`${m}.validate`),()=>t.assign(p,(0,ke._)`"string"`).assign(y,m)),r.fail$data((0,ke.or)(S(),$()));function S(){return c.strictSchema===!1?ke.nil:(0,ke._)`${a} && !${y}`}function $(){let w=u.$async?(0,ke._)`(${m}.async ? await ${y}(${n}) : ${y}(${n}))`:(0,ke._)`${y}(${n})`,g=(0,ke._)`(typeof ${y} == "function" ? ${w} : ${y}.test(${n}))`;return(0,ke._)`${y} && ${y} !== true && ${p} === ${e} && !${g}`}}function l(){let v=h.formats[i];if(!v){S();return}if(v===!0)return;let[m,p,y]=$(v);m===e&&r.pass(w());function S(){if(c.strictSchema===!1){h.logger.warn(g());return}throw new Error(g());function g(){return`unknown format "${i}" ignored in schema at path "${d}"`}}function $(g){let O=g instanceof RegExp?(0,ke.regexpCode)(g):c.code.formats?(0,ke._)`${c.code.formats}${(0,ke.getProperty)(i)}`:void 0,R=t.scopeValue("formats",{key:i,ref:g,code:O});return typeof g=="object"&&!(g instanceof RegExp)?[g.type||"string",g.validate,(0,ke._)`${R}.validate`]:["string",g,R]}function w(){if(typeof v=="object"&&!(v instanceof RegExp)&&v.async){if(!u.$async)throw new Error("async format in sync schema");return(0,ke._)`await ${y}(${n})`}return typeof p=="function"?(0,ke._)`${y}(${n})`:(0,ke._)`${y}.test(${n})`}}}};eh.default=c2});var hS=E(rh=>{"use strict";Object.defineProperty(rh,"__esModule",{value:!0});var f2=fS(),h2=[f2.default];rh.default=h2});var dS=E(rn=>{"use strict";Object.defineProperty(rn,"__esModule",{value:!0});rn.contentVocabulary=rn.metadataVocabulary=void 0;rn.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];rn.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var mS=E(th=>{"use strict";Object.defineProperty(th,"__esModule",{value:!0});var d2=__(),p2=k_(),m2=cS(),v2=hS(),pS=dS(),y2=[d2.default,p2.default,(0,m2.default)(),v2.default,pS.metadataVocabulary,pS.contentVocabulary];th.default=y2});var vS=E(yi=>{"use strict";Object.defineProperty(yi,"__esModule",{value:!0});yi.DiscrError=void 0;var g2;(function(r){r.Tag="tag",r.Mapping="mapping"})(g2=yi.DiscrError||(yi.DiscrError={}))});var yS=E(nh=>{"use strict";Object.defineProperty(nh,"__esModule",{value:!0});var tn=ie(),sh=vS(),b2={message:({params:{discrError:r,tagName:e}})=>r===sh.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:r,tag:e,tagName:t}})=>(0,tn._)`{error: ${r}, tag: ${t}, tagValue: ${e}}`},E2={keyword:"discriminator",type:"object",schemaType:"object",error:b2,code(r){let{gen:e,data:t,schema:n,parentSchema:s,it:i}=r,{oneOf:a}=s;if(!i.opts.discriminator)throw new Error("discriminator: requires discriminator option");let o=n.propertyName;if(typeof o!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!a)throw new Error("discriminator: requires oneOf keyword");let c=e.let("valid",!1),d=e.const("tag",(0,tn._)`${t}${(0,tn.getProperty)(o)}`);e.if((0,tn._)`typeof ${d} == "string"`,()=>u(),()=>r.error(!1,{discrError:sh.DiscrError.Tag,tag:d,tagName:o})),r.ok(c);function u(){let l=f();e.if(!1);for(let v in l)e.elseIf((0,tn._)`${d} === ${v}`),e.assign(c,h(l[v]));e.else(),r.error(!1,{discrError:sh.DiscrError.Mapping,tag:d,tagName:o}),e.endIf()}function h(l){let v=e.name("valid"),m=r.subschema({keyword:"oneOf",schemaProp:l},v);return r.mergeEvaluated(m,tn.Name),v}function f(){var l;let v={},m=y(s),p=!0;for(let w=0;w<a.length;w++){let g=a[w],O=(l=g.properties)===null||l===void 0?void 0:l[o];if(typeof O!="object")throw new Error(`discriminator: oneOf schemas must have "properties/${o}"`);p=p&&(m||y(g)),S(O,w)}if(!p)throw new Error(`discriminator: "${o}" must be required`);return v;function y({required:w}){return Array.isArray(w)&&w.includes(o)}function S(w,g){if(w.const)$(w.const,g);else if(w.enum)for(let O of w.enum)$(O,g);else throw new Error(`discriminator: "properties/${o}" must have "const" or "enum"`)}function $(w,g){if(typeof w!="string"||w in v)throw new Error(`discriminator: "${o}" values must be unique strings`);v[w]=g}}}};nh.default=E2});var gS=E((fz,w2)=>{w2.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var wS=E((Fe,ES)=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});Fe.CodeGen=Fe.Name=Fe.nil=Fe.stringify=Fe.str=Fe._=Fe.KeywordCxt=void 0;var _2=v_(),S2=mS(),P2=yS(),bS=gS(),$2=["/properties"],Io="http://json-schema.org/draft-07/schema",ih=class extends _2.default{_addVocabularies(){super._addVocabularies(),S2.default.forEach(e=>this.addVocabulary(e)),this.opts.discriminator&&this.addKeyword(P2.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let e=this.opts.$data?this.$dataMetaSchema(bS,$2):bS;this.addMetaSchema(e,Io,!1),this.refs["http://json-schema.org/schema"]=Io}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(Io)?Io:void 0)}};ES.exports=Fe=ih;Object.defineProperty(Fe,"__esModule",{value:!0});Fe.default=ih;var R2=ni();Object.defineProperty(Fe,"KeywordCxt",{enumerable:!0,get:function(){return R2.KeywordCxt}});var sn=ie();Object.defineProperty(Fe,"_",{enumerable:!0,get:function(){return sn._}});Object.defineProperty(Fe,"str",{enumerable:!0,get:function(){return sn.str}});Object.defineProperty(Fe,"stringify",{enumerable:!0,get:function(){return sn.stringify}});Object.defineProperty(Fe,"nil",{enumerable:!0,get:function(){return sn.nil}});Object.defineProperty(Fe,"Name",{enumerable:!0,get:function(){return sn.Name}});Object.defineProperty(Fe,"CodeGen",{enumerable:!0,get:function(){return sn.CodeGen}})});var _S=E(ah=>{"use strict";ah.parse=C2;ah.serialize=A2;var O2=decodeURIComponent,T2=encodeURIComponent,I2=/; */,Co=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function C2(r,e){if(typeof r!="string")throw new TypeError("argument str must be a string");for(var t={},n=e||{},s=r.split(I2),i=n.decode||O2,a=0;a<s.length;a++){var o=s[a],c=o.indexOf("=");if(!(c<0)){var d=o.substr(0,c).trim(),u=o.substr(++c,o.length).trim();u[0]=='"'&&(u=u.slice(1,-1)),t[d]==null&&(t[d]=N2(u,i))}}return t}function A2(r,e,t){var n=t||{},s=n.encode||T2;if(typeof s!="function")throw new TypeError("option encode is invalid");if(!Co.test(r))throw new TypeError("argument name is invalid");var i=s(e);if(i&&!Co.test(i))throw new TypeError("argument val is invalid");var a=r+"="+i;if(n.maxAge!=null){var o=n.maxAge-0;if(isNaN(o)||!isFinite(o))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(o)}if(n.domain){if(!Co.test(n.domain))throw new TypeError("option domain is invalid");a+="; Domain="+n.domain}if(n.path){if(!Co.test(n.path))throw new TypeError("option path is invalid");a+="; Path="+n.path}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(a+="; HttpOnly"),n.secure&&(a+="; Secure"),n.sameSite){var c=typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite;switch(c){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a}function N2(r,e){try{return e(r)}catch{return r}}});var $S=E((dz,PS)=>{"use strict";var{URL:SS}=require("url"),oh="http://localhost";PS.exports=function(e,t){(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]")&&e.startsWith("//")&&(e=oh+e);let n=typeof e=="object"?Object.assign(new SS(oh),e):new SS(e,oh),s=Object.assign({},e.query,t);for(let i in s){let a=s[i];if(Array.isArray(a)){n.searchParams.delete(i);for(let o of a)n.searchParams.append(i,o)}else n.searchParams.set(i,a)}return n}});var CS=E((pz,IS)=>{"use strict";var{Readable:RS}=require("stream"),q2=require("util"),j2=_S(),x2=require("assert"),OS=da()(),k2=$S(),{EventEmitter:D2}=require("events");OS.create("FastifyDeprecationLightMyRequest","FST_LIGHTMYREQUEST_DEP01",'You are accessing "request.connection", use "request.socket" instead.');function L2(r){return r.port?r.host:r.hostname+(r.protocol==="https:"?":443":":80")}var TS=class extends D2{constructor(e){super();this.remoteAddress=e}};function gi(r){RS.call(this,{autoDestroy:!1});let e=k2(r.url||r.path,r.query);this.url=e.pathname+e.search,this.httpVersion="1.1",this.method=r.method?r.method.toUpperCase():"GET",this.headers={},this.rawHeaders=[];let t=r.headers||{};for(let i in t){let a=t[i];x2(a!==void 0,'invalid value "undefined" for header '+i),this.headers[i.toLowerCase()]=""+a}if(this.headers["user-agent"]=this.headers["user-agent"]||"lightMyRequest",this.headers.host=this.headers.host||r.authority||L2(e),r.cookies){let{cookies:i}=r,a=Object.keys(i).map(o=>j2.serialize(o,i[o]));this.headers.cookie&&a.unshift(this.headers.cookie),this.headers.cookie=a.join("; ")}this.socket=new TS(r.remoteAddress||"127.0.0.1"),Object.defineProperty(this,"connection",{get(){return OS.emit("FST_LIGHTMYREQUEST_DEP01"),this.socket},configurable:!0});let n=r.payload||r.body||null,s=n&&typeof n.resume=="function";n&&typeof n!="string"&&!s&&!Buffer.isBuffer(n)&&(n=JSON.stringify(n),this.headers["content-type"]=this.headers["content-type"]||"application/json"),n&&!s&&!this.headers.hasOwnProperty("content-length")&&(this.headers["content-length"]=(Buffer.isBuffer(n)?n.length:Buffer.byteLength(n)).toString());for(let i of Object.keys(this.headers))this.rawHeaders.push(i,this.headers[i]);return this._lightMyRequest={payload:n,isDone:!1,simulate:r.simulate||{}},this}q2.inherits(gi,RS);gi.prototype.prepare=function(r){let e=this._lightMyRequest.payload;if(!e||typeof e.resume!="function")return r();let t=[];e.on("data",n=>t.push(Buffer.from(n))),e.on("end",()=>{let n=Buffer.concat(t);return this.headers["content-length"]=this.headers["content-length"]||""+n.length,this._lightMyRequest.payload=n,r()}),e.resume()};gi.prototype._read=function(r){setImmediate(()=>{if(this._lightMyRequest.isDone){this._lightMyRequest.simulate.end!==!1&&this.push(null);return}this._lightMyRequest.isDone=!0,this._lightMyRequest.payload&&(this._lightMyRequest.simulate.split?(this.push(this._lightMyRequest.payload.slice(0,1)),this.push(this._lightMyRequest.payload.slice(1))):this.push(this._lightMyRequest.payload)),this._lightMyRequest.simulate.error&&this.emit("error",new Error("Simulated")),this._lightMyRequest.simulate.close&&this.emit("close"),this._lightMyRequest.simulate.end!==!1&&this.push(null)})};gi.prototype.destroy=function(r){this.destroyed||(this.destroyed=!0,r&&(this._error=!0,process.nextTick(()=>this.emit("error",r))),process.nextTick(()=>this.emit("close")))};IS.exports=gi});var NS=E((mz,bi)=>{"use strict";var nn={decodeValues:!0,map:!1,silent:!1};function lh(r){return typeof r=="string"&&!!r.trim()}function uh(r,e){var t=r.split(";").filter(lh),n=t.shift().split("="),s=n.shift(),i=n.join("=");e=e?Object.assign({},nn,e):nn;try{i=e.decodeValues?decodeURIComponent(i):i}catch(o){console.error("set-cookie-parser encountered an error while decoding a cookie with value '"+i+"'. Set options.decodeValues to false to disable this feature.",o)}var a={name:s,value:i};return t.forEach(function(o){var c=o.split("="),d=c.shift().trimLeft().toLowerCase(),u=c.join("=");d==="expires"?a.expires=new Date(u):d==="max-age"?a.maxAge=parseInt(u,10):d==="secure"?a.secure=!0:d==="httponly"?a.httpOnly=!0:d==="samesite"?a.sameSite=u:a[d]=u}),a}function AS(r,e){if(e=e?Object.assign({},nn,e):nn,!r)return e.map?{}:[];if(r.headers&&r.headers["set-cookie"])r=r.headers["set-cookie"];else if(r.headers){var t=r.headers[Object.keys(r.headers).find(function(s){return s.toLowerCase()==="set-cookie"})];!t&&r.headers.cookie&&!e.silent&&console.warn("Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning."),r=t}if(Array.isArray(r)||(r=[r]),e=e?Object.assign({},nn,e):nn,e.map){var n={};return r.filter(lh).reduce(function(s,i){var a=uh(i,e);return s[a.name]=a,s},n)}else return r.filter(lh).map(function(s){return uh(s,e)})}function F2(r){if(Array.isArray(r))return r;if(typeof r!="string")return[];var e=[],t=0,n,s,i,a,o;function c(){for(;t<r.length&&/\s/.test(r.charAt(t));)t+=1;return t<r.length}function d(){return s=r.charAt(t),s!=="="&&s!==";"&&s!==","}for(;t<r.length;){for(n=t,o=!1;c();)if(s=r.charAt(t),s===","){for(i=t,t+=1,c(),a=t;t<r.length&&d();)t+=1;t<r.length&&r.charAt(t)==="="?(o=!0,t=a,e.push(r.substring(n,i)),n=t):t=i+1}else t+=1;(!o||t>=r.length)&&e.push(r.substring(n,r.length))}return e}bi.exports=AS;bi.exports.parse=AS;bi.exports.parseString=uh;bi.exports.splitCookiesString=F2});var xS=E((vz,jS)=>{"use strict";var Ei=require("http"),{Writable:M2}=require("stream"),H2=require("util"),V2=NS();function Nt(r,e,t){Ei.ServerResponse.call(this,{method:r.method,httpVersionMajor:1,httpVersionMinor:1}),this._lightMyRequest={headers:null,trailers:{},payloadChunks:[]},this.setHeader("foo","bar"),this.removeHeader("foo"),this.assignSocket(U2()),this._promiseCallback=typeof t=="function";let n=!1,s=a=>{if(n=!0,this._promiseCallback)return process.nextTick(()=>e(a));process.nextTick(()=>e(null,a))},i=a=>{if(!n){if(n=!0,this._promiseCallback)return process.nextTick(()=>t(a));process.nextTick(()=>e(a,null))}};this.once("finish",()=>{let a=z2(this);a.raw.req=r,s(a)}),this.connection.once("error",i),this.once("error",i),this.once("close",i)}H2.inherits(Nt,Ei.ServerResponse);Nt.prototype.setTimeout=function(r,e){return this.timeoutHandle=setTimeout(()=>{this.emit("timeout")},r),this.on("timeout",e),this};Nt.prototype.writeHead=function(){let r=Ei.ServerResponse.prototype.writeHead.apply(this,arguments);return qS(this),r};Nt.prototype.write=function(r,e,t){return this.timeoutHandle&&clearTimeout(this.timeoutHandle),Ei.ServerResponse.prototype.write.call(this,r,e,t),this._lightMyRequest.payloadChunks.push(Buffer.from(r,e)),!0};Nt.prototype.end=function(r,e,t){r&&this.write(r,e),Ei.ServerResponse.prototype.end.call(this,t),this.emit("finish")};Nt.prototype.destroy=function(r){this.destroyed||(this.destroyed=!0,r&&process.nextTick(()=>this.emit("error",r)),process.nextTick(()=>this.emit("close")))};Nt.prototype.addTrailers=function(r){for(let e in r)this._lightMyRequest.trailers[e.toLowerCase().trim()]=r[e].toString().trim()};function z2(r){r._lightMyRequest.headers===null&&qS(r);let e={raw:{res:r},headers:r._lightMyRequest.headers,statusCode:r.statusCode,statusMessage:r.statusMessage,trailers:{},get cookies(){return V2.parse(this)}},t=Buffer.concat(r._lightMyRequest.payloadChunks);return e.rawPayload=t,e.payload=t.toString(),e.body=e.payload,e.trailers=r._lightMyRequest.trailers,e.json=function(){if(e.headers["content-type"].indexOf("application/json")<0)throw new Error("The content-type of the response is not application/json");return JSON.parse(this.payload)},e}function U2(){return new M2({write(r,e,t){setImmediate(t)}})}function qS(r){r._lightMyRequest.headers=Object.assign({},r.getHeaders()),["Date","Connection","Transfer-Encoding"].forEach(e=>{let t=new RegExp("\\r\\n"+e+": ([^\\r]*)\\r\\n"),n=r._header.match(t);n&&(r._lightMyRequest.headers[e.toLowerCase()]=n[1])})}jS.exports=Nt});var HS=E((yz,qo)=>{"use strict";var B2=require("assert"),kS=require("http"),G2=wS(),ch=CS(),fh=xS(),Ao="The dispatch function has already been invoked",DS={oneOf:[{type:"string"},{type:"object",properties:{protocol:{type:"string"},hostname:{type:"string"},pathname:{type:"string"}},additionalProperties:!0,required:["pathname"]}]},K2=new G2,J2={type:"object",properties:{url:DS,path:DS,cookies:{type:"object",additionalProperties:!0},headers:{type:"object",additionalProperties:!0},query:{type:"object",additionalProperties:!0},simulate:{type:"object",properties:{end:{type:"boolean"},split:{type:"boolean"},error:{type:"boolean"},close:{type:"boolean"}}},authority:{type:"string"},remoteAddress:{type:"string"},method:{type:"string",enum:kS.METHODS.concat(kS.METHODS.map(X2))},validate:{type:"boolean"}},additionalProperties:!0,oneOf:[{required:["url"]},{required:["path"]}]},LS=K2.compile(J2);function FS(r,e,t){return typeof t=="undefined"?new wi(r,e):No(r,e,t)}function MS(r,e,t,n){return t.once("error",function(s){this.destroyed&&n.destroy(s)}),t.once("close",function(){this.destroyed&&!this._error&&n.destroy()}),t.prepare(()=>r.call(e,t,n))}function No(r,e,t){if(e=typeof e=="string"?{url:e}:e,e.validate!==!1&&(B2(typeof r=="function","dispatchFunc should be a function"),!LS(e)))throw new Error(LS.errors.map(i=>i.message));let n=e.server||{};if(typeof t=="function"){let s=new ch(e),i=new fh(s,t);return MS(r,n,s,i)}else return new Promise((s,i)=>{let a=new ch(e),o=new fh(a,s,i);MS(r,n,a,o)})}function wi(r,e){typeof e=="string"?this.option={url:e}:this.option=Object.assign({},e),this.dispatch=r,this._hasInvoked=!1,this._promise=null,this.option.autoStart!==!1&&process.nextTick(()=>{this._hasInvoked||this.end()})}var Q2=["delete","get","head","options","patch","post","put","trace"];Q2.forEach(r=>{wi.prototype[r]=function(e){if(this._hasInvoked===!0||this._promise)throw new Error(Ao);return this.option.url=e,this.option.method=r.toUpperCase(),this}});var Y2=["body","cookies","headers","payload","query"];Y2.forEach(r=>{wi.prototype[r]=function(e){if(this._hasInvoked===!0||this._promise)throw new Error(Ao);return this.option[r]=e,this}});wi.prototype.end=function(r){if(this._hasInvoked===!0||this._promise)throw new Error(Ao);if(this._hasInvoked=!0,typeof r=="function")No(this.dispatch,this.option,r);else return this._promise=No(this.dispatch,this.option),this._promise};Object.getOwnPropertyNames(Promise.prototype).forEach(r=>{r!=="constructor"&&(wi.prototype[r]=function(...e){if(!this._promise){if(this._hasInvoked===!0)throw new Error(Ao);this._hasInvoked=!0,this._promise=No(this.dispatch,this.option)}return this._promise[r](...e)})});function W2(r){return r instanceof ch||r instanceof fh}function X2(r){return r.toLowerCase()}qo.exports=FS;qo.exports.inject=FS;qo.exports.isInjection=W2});var WS=E((gz,Do)=>{"use strict";var Z2=td(),eM=require("http"),rM=require("querystring"),_i,VS,zS=!1,{kAvvioBoot:jo,kChildren:hh,kBodyLimit:tM,kRoutePrefix:US,kLogLevel:sM,kLogSerializers:nM,kHooks:Si,kSchemaController:qt,kReplySerializerDefault:BS,kContentTypeParser:iM,kReply:GS,kRequest:KS,kFourOhFour:aM,kState:jt,kOptions:oM,kPluginNameChain:xo,kSchemaErrorFormatter:dh,kErrorHandler:ph}=er(),{createServer:lM}=dd(),ko=$a(),mh=za(),uM=["DELETE","GET","HEAD","PATCH","POST","PUT","OPTIONS"],an=rc(),hs=ac(),JS=uc(),{Hooks:cM,hookRunnerApplication:fM,supportedHooks:vh}=Bt(),{createLogger:hM}=Cu(),dM=pc(),pM=kb(),{buildRouting:mM,validateBodyLimitOption:vM}=DE(),yM=FE(),QS=VE(),gM=QE(),bM=Wt(),{defaultInitOptions:tt}=QS,{FST_ERR_BAD_URL:EM,FST_ERR_MISSING_MIDDLEWARE:wM}=br(),_M={config:{},onSend:[],onError:[]};function SM(r){let e={};return["errorHandler","logLevel","logSerializers"].concat(vh).forEach(n=>{e[n]=r.store[n]}),Object.assign({},e)}function PM(r,e,t){t.statusCode<500?t.log.info({res:t,err:r},r&&r.message):t.log.error({req:e,res:t,err:r},r&&r.message),t.send(r)}function yh(r){if(r=r||{},typeof r!="object")throw new TypeError("Options must be an object");if(r.querystringParser&&typeof r.querystringParser!="function")throw new Error(`querystringParser option should be a function, instead got '${typeof r.querystringParser}'`);if(r.schemaController&&r.schemaController.bucket&&typeof r.schemaController.bucket!="function")throw new Error(`schemaController.bucket option should be a function, instead got '${typeof r.schemaController.bucket}'`);vM(r.bodyLimit);let e=r.requestIdHeader||tt.requestIdHeader,t=r.querystringParser||rM.parse,n=r.genReqId||pM(),s=r.requestIdLogLabel||"reqId",i=r.bodyLimit||tt.bodyLimit,a=r.disableRequestLogging||!1,o=r.exposeHeadRoutes!=null?r.exposeHeadRoutes:!1,c=Object.assign({customOptions:{},plugins:[]},r.ajv),d=r.frameworkErrors;if(!c.customOptions||Object.prototype.toString.call(c.customOptions)!=="[object Object]")throw new Error(`ajv.customOptions option should be an object, instead got '${typeof c.customOptions}'`);if(!c.plugins||!Array.isArray(c.plugins))throw new Error(`ajv.plugins option should be an array, instead got '${typeof c.plugins}'`);let{logger:u,hasLogger:h}=hM(r);r.connectionTimeout=r.connectionTimeout||tt.connectionTimeout,r.keepAliveTimeout=r.keepAliveTimeout||tt.keepAliveTimeout,r.maxRequestsPerSocket=r.maxRequestsPerSocket||tt.maxRequestsPerSocket,r.logger=u,r.genReqId=n,r.requestIdHeader=e,r.querystringParser=t,r.requestIdLogLabel=s,r.disableRequestLogging=a,r.ajv=c,r.clientErrorHandler=r.clientErrorHandler||q,r.exposeHeadRoutes=o;let f=QS(r),l=r.constraints;r.versioning&&(bM.emit("FSTDEP009"),l={...l,version:{name:"version",mustMatchWhenDerived:!0,storage:r.versioning.storage,deriveConstraint:r.versioning.deriveVersion,validate(N){if(typeof N!="string")throw new Error("Version constraint should be a string.")}}});let v=mM({config:{defaultRoute:C,onBadUrl:F,constraints:l,ignoreTrailingSlash:r.ignoreTrailingSlash||tt.ignoreTrailingSlash,maxParamLength:r.maxParamLength||tt.maxParamLength,caseSensitive:r.caseSensitive,buildPrettyMeta:SM}}),m=yM(r),p=$M(v.routing,r);r.http2SessionTimeout=f.http2SessionTimeout;let{server:y,listen:S}=lM(r,p),$=ko.setupResponseListeners,w=JS.buildSchemaController(null,r.schemaController),g={[jt]:{listening:!1,closing:!1,started:!1},[oM]:r,[hh]:[],[tM]:i,[US]:"",[sM]:"",[nM]:null,[Si]:new cM,[qt]:w,[dh]:null,[ph]:PM,[BS]:null,[iM]:new hs(i,r.onProtoPoisoning||tt.onProtoPoisoning,r.onConstructorPoisoning||tt.onConstructorPoisoning),[GS]:ko.buildReply(ko),[KS]:mh.buildRequest(mh,r.trustProxy),[aM]:m,[dM.registeredPlugins]:[],[xo]:[],[jo]:null,routing:p,getDefaultRoute:v.getDefaultRoute.bind(v),setDefaultRoute:v.setDefaultRoute.bind(v),delete:function(L,M,W){return v.prepareRoute.call(this,"DELETE",L,M,W)},get:function(L,M,W){return v.prepareRoute.call(this,"GET",L,M,W)},head:function(L,M,W){return v.prepareRoute.call(this,"HEAD",L,M,W)},patch:function(L,M,W){return v.prepareRoute.call(this,"PATCH",L,M,W)},post:function(L,M,W){return v.prepareRoute.call(this,"POST",L,M,W)},put:function(L,M,W){return v.prepareRoute.call(this,"PUT",L,M,W)},options:function(L,M,W){return v.prepareRoute.call(this,"OPTIONS",L,M,W)},all:function(L,M,W){return v.prepareRoute.call(this,uM,L,M,W)},route:function(L){return v.route.call(this,L)},log:u,addHook:x,addSchema:k,getSchema:w.getSchema.bind(w),getSchemas:w.getSchemas.bind(w),setValidatorCompiler:K,setSerializerCompiler:Y,setSchemaController:V,setReplySerializer:le,setSchemaErrorFormatter:z,addContentTypeParser:hs.helpers.addContentTypeParser,hasContentTypeParser:hs.helpers.hasContentTypeParser,getDefaultJsonParser:hs.defaultParsers.getDefaultJsonParser,defaultTextParser:hs.defaultParsers.defaultTextParser,removeContentTypeParser:hs.helpers.removeContentTypeParser,removeAllContentTypeParsers:hs.helpers.removeAllContentTypeParsers,register:null,after:null,ready:null,onClose:null,close:null,printPlugins:null,listen:S,server:y,decorate:an.add,hasDecorator:an.exist,decorateReply:an.decorateReply,decorateRequest:an.decorateRequest,hasRequestDecorator:an.existRequest,hasReplyDecorator:an.existReply,inject:D,printRoutes:Z,setNotFoundHandler:Q,setErrorHandler:J,initialConfig:f};g[GS].prototype.server=g,g[KS].prototype.server=g,Object.defineProperties(g,{pluginName:{get(){return this[xo].length>1?this[xo].join(" -> "):this[xo][0]}},prefix:{get(){return this[US]}},validatorCompiler:{get(){return this[qt].getValidatorCompiler()}},serializerCompiler:{get(){return this[qt].getSerializerCompiler()}},version:{get(){return zS===!1&&(VS=RM()),VS}},errorHandler:{get(){return this[ph]}}}),Object.setPrototypeOf(g,{use:j}),r.schemaErrorFormatter&&(YS(r.schemaErrorFormatter),g[dh]=r.schemaErrorFormatter.bind(g));let O=Z2(g,{autostart:!1,timeout:Number(r.pluginTimeout)||tt.pluginTimeout,expose:{use:"register"}});O.override=gM,O.on("start",()=>g[jt].started=!0),g[jo]=g.ready,g.ready=A,g.printPlugins=O.prettyPrint.bind(O),O.once("preReady",()=>{g.onClose((N,L)=>{g[jt].closing=!0,v.closeRoutes(),g[jt].listening?N.server.close(L):L(null)})}),g.setNotFoundHandler(),m.arrange404(g),v.setup(r,{avvio:O,fourOhFour:m,logger:u,hasLogger:h,setupResponseListeners:$,throwIfAlreadyStarted:R}),y.on("clientError",r.clientErrorHandler.bind(g));try{let L=require("diagnostics_channel").channel("fastify.initialization");L.hasSubscribers&&L.publish({fastify:g})}catch{}return g;function R(N){if(g[jt].started)throw new Error(N)}function D(N,L){if(_i===void 0&&(_i=HS()),g[jt].started){if(g[jt].closing){let M=new Error("Server is closed");if(L){L(M);return}else return Promise.reject(M)}return _i(p,N,L)}if(L)this.ready(M=>{M?L(M,null):_i(p,N,L)});else return _i((M,W)=>{this.ready(function(Te){if(Te){W.emit("error",Te);return}p(M,W)})},N)}function A(N){let L,M;if(process.nextTick(W),!N)return new Promise(function(he,be){L=he,M=be});function W(){g[jo]((he,be)=>{he||g[jt].started?Te(he):fM("onReady",g[jo],g,Te),be()})}function Te(he){if(N)he?N(he):N(void 0,g);else{if(he)return M(he);L(g)}}}function j(){throw new wM}function x(N,L){if(R('Cannot call "addHook" when fastify instance is already started!'),N==="onSend"||N==="preSerialization"||N==="onError"){if(L.constructor.name==="AsyncFunction"&&L.length===4)throw new Error("Async function has too many arguments. Async hooks should not use the 'done' argument.")}else if(N==="onReady"){if(L.constructor.name==="AsyncFunction"&&L.length!==0)throw new Error("Async function has too many arguments. Async hooks should not use the 'done' argument.")}else if(N!=="preParsing"&&L.constructor.name==="AsyncFunction"&&L.length===3)throw new Error("Async function has too many arguments. Async hooks should not use the 'done' argument.");return N==="onClose"?(this[Si].validate(N,L),this.onClose(L)):N==="onReady"?(this[Si].validate(N,L),this[Si].add(N,L)):this.after((W,Te)=>{M.call(this,N,L),Te(W)}),this;function M(W,Te){this[Si].add(W,Te),this[hh].forEach(he=>M.call(he,W,Te))}}function k(N){return R('Cannot call "addSchema" when fastify instance is already started!'),this[qt].add(N),this[hh].forEach(L=>L.addSchema(N)),this}function q(N,L){if(N.code==="ECONNRESET"||L.destroyed)return;let M=JSON.stringify({error:eM.STATUS_CODES["400"],message:"Client Error",statusCode:400});this.log.trace({err:N},"client error"),L.writable&&L.bytesWritten===0&&L.write(`HTTP/1.1 400 Bad Request\r
Content-Length: ${M.length}\r
Content-Type: application/json\r
\r
${M}`),L.destroy(N)}function C(N,L){N.headers["accept-version"]!==void 0&&(N.headers["accept-version"]=void 0),m.router.lookup(N,L)}function F(N,L,M){if(d){let Te=n(L),he=u.child({reqId:Te});he.info({req:L},"incoming request");let be=new mh(Te,null,L,null,he,_M),ve=new ko(M,be,he);return d(new EM(N),be,ve)}let W=`{"error":"Bad Request","message":"'${N}' is not a valid url component","statusCode":400}`;M.writeHead(400,{"Content-Type":"application/json","Content-Length":W.length}),M.end(W)}function Q(N,L){return R('Cannot call "setNotFoundHandler" when fastify instance is already started!'),m.setNotFoundHandler.call(this,N,L,O,v.routeHandler),this}function K(N){return R('Cannot call "setValidatorCompiler" when fastify instance is already started!'),this[qt].setValidatorCompiler(N),this}function z(N){return R('Cannot call "setSchemaErrorFormatter" when fastify instance is already started!'),YS(N),this[dh]=N.bind(this),this}function Y(N){return R('Cannot call "setSerializerCompiler" when fastify instance is already started!'),this[qt].setSerializerCompiler(N),this}function V(N){R('Cannot call "setSchemaController" when fastify instance is already started!');let L=this[qt],M=JS.buildSchemaController(L.parent,Object.assign({},L.opts,N));return this[qt]=M,this.getSchema=M.getSchema.bind(M),this.getSchemas=M.getSchemas.bind(M),this}function le(N){return R('Cannot call "setReplySerializer" when fastify instance is already started!'),this[BS]=N,this}function J(N){return R('Cannot call "setErrorHandler" when fastify instance is already started!'),this[ph]=N.bind(this),this}function Z(N={}){return N.includeMeta=N.includeHooks?N.includeMeta?vh.concat(N.includeMeta):vh:N.includeMeta,v.printRoutes(N)}}function YS(r){if(typeof r!="function")throw new Error(`schemaErrorFormatter option should be a function, instead got ${typeof r}`);if(r.constructor.name==="AsyncFunction")throw new Error("schemaErrorFormatter option should not be an async function")}function $M(r,{rewriteUrl:e,logger:t}){return e?function(s,i){let a=s.url,o=e(s);a!==o&&(t.debug({originalUrl:a,url:o},"rewrite url"),typeof o=="string"?s.url=o:s.destroy(new Error(`Rewrite url for "${s.url}" needs to be of type "string" but received "${typeof o}"`))),r(s,i)}:r}function RM(){zS=!0;let r=require("fs"),e=require("path");try{let t=e.join(__dirname,"package.json");r.accessSync(t,r.constants.R_OK);let n=JSON.parse(r.readFileSync(t));return n.name==="fastify"?n.version:void 0}catch{return}}Do.exports=yh;Do.exports.fastify=yh;Do.exports.default=yh});var XS=RP(WS()),ZS=(0,XS.default)();ZS.get("/",(r,e)=>{e.send({hello:"world"})});ZS.listen(3e3,"0.0.0.0",(r,e)=>{r&&(console.error(r),process.exit(1)),console.info(`server listening on ${e}`)});
/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */
/*!
 * forwarded
 * Copyright(c) 2014-2017 Douglas Christopher Wilson
 * MIT Licensed
 */
/*!
 * proxy-addr
 * Copyright(c) 2014-2016 Douglas Christopher Wilson
 * MIT Licensed
 */
/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */
